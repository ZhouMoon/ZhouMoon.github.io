{"meta":{"title":"ZhouMoon","subtitle":"<ä¸‰äººè¡Œå¿…æœ‰æˆ‘å¸ˆ>","description":"å‘¨æµ·å†›çš„åšå®¢","author":"ZhouMoon","url":"http://zhoumoon.github.io","root":"/"},"pages":[{"title":"åˆ†ç±»","date":"2023-08-01T01:45:09.868Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"categories/index.html","permalink":"http://zhoumoon.github.io/categories/index.html","excerpt":"","text":""},{"title":"å…³äºğŸ’¥","date":"2024-11-13T08:31:11.489Z","updated":"2024-11-13T08:31:11.489Z","comments":false,"path":"about/index.html","permalink":"http://zhoumoon.github.io/about/index.html","excerpt":"","text":"ä¸ºä»€ä¹ˆé‡å› â€œHexoâ€? E-mail: com_moon@163.com GitHub: https://github.com/ZhouMoon BiliBili: https://space.bilibili.com/40356921 Twitter: https://twitter.com/ZHJTime ç‰ˆæœ¬: 1.0.0 æ‰€æœ‰: Moon st=>start: å¼€å§‹ op0=>operation: å°è±¡ç¬”è®°ï¼ˆå¼€äº†ä¼šå‘˜ä¾æ—§å¹¿å‘Šè½°ç‚¸!!!ï¼‰ op1=>operation: OneNoteï¼ˆå¾®è½¯çš„è½¯ä»¶ç¡®å®ä¸é”™ï¼‰ op2=>operation: Notionï¼ˆå¥½,çœŸçš„å¥½!!! ï¼‰ op3=>operation: ä¸ºçŸ¥ç¬”è®°ï¼ˆä»˜è´¹æŒºå¥½çš„,ä½†ç§»åŠ¨ç«¯...ï¼‰ op4=>operation: Hexoï¼ˆé€æ­¥è¿ç§»...ï¼‰ end=>end: ç»“æŸ st->op0->op1->op2->op3->op4->end{\"scale\":1,\"line-width\":2,\"line-length\":50,\"text-margin\":10,\"font-size\":12} var code = document.getElementById(\"flowchart-0-code\").value; var options = JSON.parse(decodeURIComponent(document.getElementById(\"flowchart-0-options\").value)); var diagram = flowchart.parse(code); diagram.drawSVG(\"flowchart-0\", options);"},{"title":"Repositories","date":"2023-08-01T01:45:09.978Z","updated":"2023-08-01T01:45:09.978Z","comments":false,"path":"repository/index.html","permalink":"http://zhoumoon.github.io/repository/index.html","excerpt":"","text":""},{"title":"Tags","date":"2020-05-05T07:07:51.000Z","updated":"2023-08-01T01:45:09.978Z","comments":false,"path":"tags/index.html","permalink":"http://zhoumoon.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"å¸¸ç”¨å‘½ä»¤-OneLineCommand","slug":"other/å¸¸ç”¨å‘½ä»¤-OneLineCommand","date":"2024-11-13T08:12:31.000Z","updated":"2024-11-13T09:19:06.442Z","comments":false,"path":"2024/11/13/other/å¸¸ç”¨å‘½ä»¤-OneLineCommand/","link":"","permalink":"http://zhoumoon.github.io/2024/11/13/other/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-OneLineCommand/","excerpt":"","text":"ä¸‹è½½JDKã€Arthaså¹¶å¯åŠ¨ å‘½ä»¤1ï¼š ä¸‹è½½JDKã€Arthaså¹¶å¯åŠ¨ 12curl -O https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz &amp;&amp; tar -xzf openjdk-11.0.2_linux-x64_bin.tar.gz &amp;&amp; curl -O https://arthas.aliyun.com/arthas-boot.jar &amp;&amp; $(pwd)/jdk-11.0.2/bin/java -jar arthas-boot.jar å‘½ä»¤2: ä¸‹è½½Arthaså¹¶å¯åŠ¨ 1curl -O https://arthas.aliyun.com/arthas-boot.jar &amp;&amp; $(pwd)/jdk-11.0.2/bin/java -jar arthas-boot.jar K8S K8Så‘½ä»¤è¡Œè‡ªåŠ¨æç¤º(Red Hat) 1234yum install -y bash-completion ;source /usr/share/bash-completion/bash_completion;source &lt;(kubectl completion bash);echo &quot;source &lt;(kubectl completion bash)&quot; &gt;&gt; ~/.bashrc;","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"Dockerå¼€å¯ç½‘ç»œä»£ç†","slug":"Linux/Dockerå¼€å¯ç½‘ç»œä»£ç†","date":"2024-10-08T03:28:06.000Z","updated":"2024-10-08T05:15:14.282Z","comments":false,"path":"2024/10/08/Linux/Dockerå¼€å¯ç½‘ç»œä»£ç†/","link":"","permalink":"http://zhoumoon.github.io/2024/10/08/Linux/Docker%E5%BC%80%E5%90%AF%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86/","excerpt":"","text":"èƒŒæ™¯ é—®é¢˜æè¿° å®‰è£…å¤–éƒ¨å…¬å…±ä»“çš„å¼€æºé•œåƒæ—¶ï¼Œæ¯”å¦‚sudo docker pull xxxï¼Œå‡ºç°å¦‚ä¸‹æŠ¥é”™æç¤ºï¼š 123$ sudo docker pull mysqlUsing default tag: latestError response from daemon: Get &quot;https://registry-1.docker.io/v2/&quot;: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers) æŠ¥é”™åŸå›  éœ€è¦é€šè¿‡é…ç½®proxyæ‰èƒ½è®¿é—®å¤–ç½‘ï¼Œdockerä¸èƒ½ç›´æ¥ä¾èµ–åŸºç¡€æ“ä½œç³»ç»Ÿç¯å¢ƒçš„proxyï¼Œå› æ­¤éœ€è¦ç‹¬ç«‹é…ç½®å±äºdockerçš„proxyæ‰èƒ½è®¿é—®å¤–ç½‘ã€‚ docker proxyé…ç½® é…ç½®daemon.jsonæ–‡ä»¶ 1234sudo mkdir -p /etc/dockersudo cp /etc/docker/daemon.json /etc/docker/daemon.json.baksudo vim /etc/docker/daemon.json é…ç½®dockerä»£ç†æ–‡ä»¶ 123456789101112131415161718sudo mkdir -p /etc/systemd/system/docker.service.dsudo vim /etc/systemd/system/docker.service.d/http-proxy.conf# é…ç½®å†…å®¹# [Service]# ä»£ç†æœåŠ¡å™¨åœ°å€# Environment=&quot;HTTP_PROXY=http://è´¦å·:å¯†ç @proxy.xxx.com:8080/&quot;# Environment=&quot;HTTPS_PROXY=http://è´¦å·:å¯†ç @proxy.xxx.com:8080/&quot;# ä»£ç†é»‘åå•# Environment=&quot;HTTP_PROXY=http://è´¦å·:å¯†ç @proxy.xxx.com:8080/&quot;# Environment=&quot;NO_PROXY=decs.com,localhost,127.0.0.1&quot;# ç¤ºä¾‹[Service]Environment=&quot;HTTP_PROXY=http://127.0.0.1:19527/&quot;Environment=&quot;HTTPS_PROXY=http://127.0.0.1:19527/&quot;# Environment=&quot;NO_PROXY=decs.com,localhost,127.0.0.1&quot; é‡å¯dockerï¼ŒæŸ¥çœ‹proxyæ˜¯å¦é…æˆåŠŸ 1234sudo systemctl daemon-reloadsudo systemctl restart docker# æŸ¥çœ‹proxyæ˜¯å¦é…ç½®æˆåŠŸsudo systemctl show --property=Environment docker","categories":[],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://zhoumoon.github.io/tags/Docker/"}]},{"title":"Rediså¤ä¹ ","slug":"Java/Rediså¤ä¹ ","date":"2023-08-20T03:03:33.000Z","updated":"2023-08-20T03:22:58.868Z","comments":false,"path":"2023/08/20/Java/Rediså¤ä¹ /","link":"","permalink":"http://zhoumoon.github.io/2023/08/20/Java/Redis%E5%A4%8D%E4%B9%A0/","excerpt":"","text":"å¸¸è§é¢˜ Redisä¸ºä»€ä¹ˆå¿«? åŸºä¸å†…å­˜çš„æ•°æ®åº“ å•çº¿ç¨‹é¿å…ä¸Šä¸‹æ–‡åˆ‡æ¢çš„é—®é¢˜ æ¸è¿›å¼ReHash Redisçš„æ¸è¿›å¼Rehashæ˜¯æŒ‡åœ¨Redisè¿›è¡Œå“ˆå¸Œè¡¨æ‰©å®¹æ—¶ï¼Œå°†æ—§å“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹é€æ­¥è¿ç§»åˆ°æ–°å“ˆå¸Œè¡¨çš„è¿‡ç¨‹ã€‚ å½“Rediséœ€è¦æ‰©å¤§å½“å‰ä½¿ç”¨çš„å“ˆå¸Œè¡¨æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ›´å¤§çš„å“ˆå¸Œè¡¨ï¼Œå¹¶å°†æ‰€æœ‰é”®å€¼å¯¹ä»æ—§å“ˆå¸Œè¡¨è¿ç§»åˆ°æ–°å“ˆå¸Œè¡¨ã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šè€—è´¹ä¸€å®šæ—¶é—´ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶ã€‚ ä¸ºäº†é¿å…åœ¨è¿ç§»æœŸé—´é€ æˆé˜»å¡ï¼ŒRedisé‡‡ç”¨äº†æ¸è¿›å¼Rehashç­–ç•¥ã€‚å®ƒå°†æ•´ä¸ªè¿ç§»è¿‡ç¨‹åˆ†ä¸ºå¤šä¸ªå°æ­¥éª¤ï¼Œæ¯æ¬¡åªè¿ç§»ä¸€å°éƒ¨åˆ†é”®å€¼å¯¹ã€‚åœ¨æ¯ä¸ªå°æ­¥éª¤ä¸­ï¼ŒRedisä¼šå°†æ—§å“ˆå¸Œè¡¨ä¸­ä¸€ä¸ªæ¡¶(bucket)ä¸­çš„é”®å€¼å¯¹è¿ç§»åˆ°æ–°å“ˆå¸Œè¡¨ï¼Œå¹¶æ›´æ–°ç›¸åº”çš„æŒ‡é’ˆã€‚ é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒRediså¯ä»¥åœ¨ä¸é˜»å¡å®¢æˆ·ç«¯è¯·æ±‚çš„æƒ…å†µä¸‹è¿›è¡ŒRehashæ“ä½œã€‚åŒæ—¶ï¼Œåœ¨æ¯ä¸ªå°æ­¥éª¤ä¹‹é—´ï¼ŒRedisè¿˜ä¼šæ£€æŸ¥æ˜¯å¦æœ‰æ–°è¯·æ±‚è¦è®¿é—®æ—§å“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹ï¼Œå¹¶å°†å…¶è½¬å‘åˆ°æ–°å“ˆå¸Œè¡¨ä¸­ã€‚è¿™æ ·å¯ä»¥ä¿è¯å³ä½¿åœ¨Rehashè¿‡ç¨‹ä¸­ä¹Ÿèƒ½æ­£å¸¸å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ã€‚ æ¸è¿›å¼Rehashè¿˜å…·æœ‰å¦å¤–ä¸€ä¸ªå¥½å¤„ï¼šå®ƒå¯ä»¥é¿å…ä¸€æ¬¡æ€§æ¶ˆè€—å¤§é‡å†…å­˜ã€‚å› ä¸ºåœ¨æ•´ä¸ªè¿ç§»è¿‡ç¨‹ä¸­ï¼Œæ—§å“ˆå¸Œè¡¨å’Œæ–°å“ˆå¸Œè¡¨ä¼šåŒæ—¶å­˜åœ¨ï¼Œç›´åˆ°æ‰€æœ‰é”®å€¼å¯¹éƒ½è¿ç§»å®Œæˆã€‚è¿™æ ·å¯ä»¥ç¡®ä¿åœ¨è¿ç§»è¿‡ç¨‹ä¸­Redisçš„å†…å­˜å ç”¨é‡ä¸ä¼šçªç„¶å¢åŠ ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¸è¿›å¼Rehashæ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ï¼Œå¹¶ä¸æ˜¯ä¸€æ¬¡æ€§å®Œæˆçš„ã€‚å› æ­¤ï¼Œåœ¨RehashæœŸé—´ï¼Œæ—§å“ˆå¸Œè¡¨å’Œæ–°å“ˆå¸Œè¡¨ä¼šåŒæ—¶å­˜åœ¨ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå ç”¨æ›´å¤šçš„å†…å­˜ã€‚ä½†æ˜¯ä¸€æ—¦è¿ç§»å®Œæˆï¼ŒRediså°±ä¼šé‡Šæ”¾æ—§å“ˆå¸Œè¡¨æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚ æ€»ç»“: Redisçš„æ¸è¿›å¼Rehashç­–ç•¥å…è®¸åœ¨ä¸é˜»å¡å®¢æˆ·ç«¯è¯·æ±‚çš„æƒ…å†µä¸‹è¿›è¡Œå“ˆå¸Œè¡¨æ‰©å®¹ï¼Œå¹¶é€æ­¥å°†é”®å€¼å¯¹ä»æ—§å“ˆå¸Œè¡¨è¿ç§»åˆ°æ–°å“ˆå¸Œè¡¨ã€‚è¿™ç§ç­–ç•¥å¯ä»¥ä¿è¯Redisåœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶ä»èƒ½ä¿æŒé«˜æ€§èƒ½ï¼Œå¹¶ä¸”é¿å…ä¸€æ¬¡æ€§æ¶ˆè€—å¤§é‡å†…å­˜ã€‚ ç¼“å­˜æ—¶é—´æˆ³ Redisçš„ç¼“å­˜æ—¶æˆ³æ˜¯é€šè¿‡ä½¿ç”¨ä¸€ä¸ªç§°ä¸º&quot;æ—¶é—´æˆ³&quot;çš„æ•°æ®ç»“æ„æ¥å®ç°çš„ã€‚æ—¶é—´æˆ³æ˜¯ä¸€ä¸ªæœ‰åºé›†åˆï¼Œå…¶ä¸­æ¯ä¸ªæˆå‘˜éƒ½æœ‰ä¸€ä¸ªåˆ†æ•°ï¼ˆscoreï¼‰ä¸ä¹‹å…³è”ï¼Œè¡¨ç¤ºè¯¥æˆå‘˜çš„æ’åºä½ç½®ã€‚ å½“éœ€è¦è¿›è¡Œç¼“å­˜æ—¶ï¼ŒRedisä¼šå°†è¦ç¼“å­˜çš„æ•°æ®ä½œä¸ºæˆå‘˜æ·»åŠ åˆ°æ—¶é—´æˆ³ä¸­ï¼Œå¹¶ä¸ºå…¶è®¾ç½®ä¸€ä¸ªåˆ†æ•°ï¼Œé€šå¸¸ä½¿ç”¨å½“å‰æ—¶é—´ä½œä¸ºåˆ†æ•°ã€‚è¿™æ ·å°±å¯ä»¥æ ¹æ®åˆ†æ•°å¯¹æˆå‘˜è¿›è¡Œæ’åºï¼Œä½¿å¾—æœ€æ–°æ·»åŠ çš„æˆå‘˜æ’åœ¨å‰é¢ã€‚ å½“éœ€è¦ä»ç¼“å­˜ä¸­è·å–æ•°æ®æ—¶ï¼ŒRedisä¼šæ ¹æ®æŒ‡å®šçš„èŒƒå›´ä»æ—¶é—´æˆ³ä¸­è·å–æˆå‘˜ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®šèŒƒå›´æ¥è·å–æœ€æ–°æ·»åŠ çš„Nä¸ªæˆå‘˜ï¼Œæˆ–è€…è·å–æŸä¸ªæ—¶é—´æ®µå†…æ·»åŠ çš„æ‰€æœ‰æˆå‘˜ã€‚ ç”±äºæ—¶é—´æˆ³æ˜¯æœ‰åºé›†åˆï¼Œè·å–æœ€æ–°æ·»åŠ çš„Nä¸ªæˆå‘˜åªéœ€è¦å–å‡ºå‰Nä¸ªæˆå‘˜å³å¯ï¼Œè€Œä¸éœ€è¦éå†æ•´ä¸ªé›†åˆã€‚è¿™æ ·å°±èƒ½å¤Ÿå¿«é€Ÿåœ°è·å–æœ€æ–°çš„ç¼“å­˜æ•°æ®ã€‚å¦å¤–ï¼ŒRedisè¿˜æä¾›äº†ä¸€äº›æ“ä½œæ¥æ”¯æŒå¯¹æ—¶é—´æˆ³è¿›è¡Œä¿®å‰ªå’Œåˆ é™¤æ“ä½œã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®šèŒƒå›´æ¥åˆ é™¤æŸä¸ªæ—¶é—´æ®µå†…çš„æ‰€æœ‰æˆå‘˜ï¼Œæˆ–è€…åˆ é™¤æ—§äºæŸä¸ªç‰¹å®šæ—¶é—´ç‚¹çš„æ‰€æœ‰æˆå‘˜ã€‚è¿™æ ·å¯ä»¥ä¿æŒæ—¶é—´æˆ³ä¸­åªåŒ…å«æœ€æ–°å’Œæœ‰æ•ˆçš„ç¼“å­˜æ•°æ®ã€‚ æ€»ç»“ Redisåˆ©ç”¨æœ‰åºé›†åˆå’Œåˆ†æ•°æ¥å®ç°ç¼“å­˜æ—¶æˆ³ï¼Œå¹¶é€šè¿‡å¿«é€Ÿçš„è·å–å’Œåˆ é™¤æ“ä½œæ¥æé«˜ç¼“å­˜çš„æ€§èƒ½ã€‚","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"Manjaro å¸¸ç”¨é…ç½®åŠè½¯ä»¶","slug":"Linux/Manjaro å¸¸ç”¨é…ç½®åŠè½¯ä»¶","date":"2023-06-25T02:07:00.000Z","updated":"2024-10-08T03:00:17.819Z","comments":false,"path":"2023/06/25/Linux/Manjaro å¸¸ç”¨é…ç½®åŠè½¯ä»¶/","link":"","permalink":"http://zhoumoon.github.io/2023/06/25/Linux/Manjaro%20%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E5%8F%8A%E8%BD%AF%E4%BB%B6/","excerpt":"","text":"Manjaro å¸¸ç”¨é…ç½®åŠè½¯ä»¶ åˆ›å»ºç”¨æˆ· 12345678910111213141516171819# åˆ‡rootç”¨æˆ·su root sudo useradd -r -m -s /bin/bash moon# è®¾ç½®å¯†ç sudo passwd# -rï¼šå»ºç«‹ç³»ç»Ÿè´¦å·# -mï¼šè‡ªåŠ¨å»ºç«‹ç”¨æˆ·çš„ç™»å…¥ç›®å½•# -sï¼šæŒ‡å®šç”¨æˆ·ç™»å…¥åæ‰€ä½¿ç”¨çš„shell# è®¾ç½®sudo# ä¿®æ”¹/etc/sudoers æƒé™chmod +w /etc/sudoersvim /etc/sudoers# å¢åŠ moonç”¨æˆ·æƒé™moon ALL=(ALL:ALL) ALL# env_resetä¸‹æ·»åŠ , ä½¿sudo æ‰§è¡Œå‘½ä»¤æ—¶èµ°ä»£ç†Defaults env_keep += &quot;http_proxy https_proxy ftp_proxy all_proxy no_proxy&quot;# è¿˜åŸæƒé™(å¦åˆ™ä¸ç”Ÿæ•ˆ)chmod 440 /etc/sudoers sshd æœåŠ¡ 123456# æŸ¥çœ‹sshdçŠ¶æ€sudo systemctl status sshd# å¯åŠ¨sshdsudo systemctl start sshd# å¼€æœºå¯åŠ¨sshdsudo systemctl enable sshd ssh ç™»å½• GitHubæ–‡æ¡£ 1234567891011# .sshæ–‡ä»¶å¤¹æ‡’äººå‘½ä»¤mkdir .ssh; cd .ssh; touch authorized_keys; touch id_ed25519; touch id_ed25519.pub; cd ~;# å®¢æˆ·ç«¯ç”Ÿæˆå¯†é’¥ssh-keygen -t ed25519 -C &quot;é‚®ç®±åœ°å€&quot;# å°†å…¬é’¥å†™å…¥è¿œç¨‹æœºå™¨ä¸­çš„ authorized_keys æ–‡ä»¶ä¸­# è®¤è¯ç›¸å…³-é€‰æ‹©æ‰§è¡Œ...# è®¾ç½®æƒé™chmod 700 ~/.ssh; chmod 600 ~/.ssh/*; PacManæ¢æº, é€‰æ‹©å¿«çš„å°±è¡Œ 1sudo pacman-mirrors -c China -i -m rank æ·»åŠ ArchLinuxCNæº 123456789101112131415161718192021# ä¿®æ”¹pacman.confé…ç½®æ–‡ä»¶ï¼Œæ·»åŠ archlinuxæºsudo vi /etc/pacman.conf # pacman.confæ–‡ä»¶æœ«å°¾æ·»åŠ ä¸¤è¡Œ[archlinuxcn]SigLevel = Optional TrustedOnly# (ä¸‹é¢å¾—æºä»»é€‰ä¸€ä¸ª)# å®˜æ–¹æºServer = http://repo.archlinuxcn.org/$arch# 163æº#Server = http://mirrors.163.com/archlinux-cn/$arch# ä¸­ç§‘å¤§#Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch# é˜¿é‡Œ#Server = https://mirrors.aliyun.com/archlinuxcn/$arch# æ›´æ–°æº# å®‰è£…å¥½ä¹‹åæ›´æ–°æºå¹¶æ·»åŠ é’¥åŒ™ç¯sudo pacman -Sy sudo pacman -S archlinuxcn-keyring ä½¿ç”¨yayå’ŒAUR å› ä¸º pacman åŒ…ç®¡ç†å™¨æœ¬èº«å¹¶ä¸ç›´æ¥æ”¯æŒ AURï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è£…ä¸ª AUR helperï¼Œæ‰“å¼€é€šå¾€å¿«ä¹çš„å¤§é—¨ã€‚ Manjaro è‡ªå¸¦çš„ pamac å›¾å½¢åŒ–åŒ…ç®¡ç†å™¨åœ¨è®¾ç½®ä¸­å³å¯å¼€å¯ AUR æ”¯æŒã€‚å‘½ä»¤è¡Œä¸‹æˆ‘é€‰ç”¨äº† yayï¼Œå¯ä»¥ç›´æ¥ä»å®˜æ–¹ community ä»“åº“ä¸­å®‰è£…ï¼š 12345678910# åé¢é‚£ä¸ªæ˜¯ç¼–è¯‘åŒ…æ—¶éœ€è¦çš„ä¸€äº›å·¥å…·ï¼Œä¸ç„¶ä¼šæŠ¥é”™ç¼ºå°‘ fakeroot ä¹‹ç±»çš„sudo pacman -S yay base-devel# è®¾ç½® AUR å®˜æ–¹é•œåƒæº, å¯ä»¥æ˜¯å›½å†…çš„æº(!!!æ¸…åæºä¸å¯ç”¨,åœæ­¢ä»£ç†äº†!!!)yay --aururl &quot;https://aur.archlinux.org&quot; --save# å¼€å¯ pacman å’Œ yay çš„å½©è‰²è¾“å‡ºsudo sed -i &quot;s/#Color/Color/g&quot; /etc/pacman.conf# åŠ é€Ÿ AUR åŒ…æ„å»º# sudo sed -i &quot;s/PKGEXT=&#x27;.pkg.tar.xz&#x27;/PKGEXT=&#x27;.pkg.tar&#x27;/g&quot; /etc/makepkg.conf# é»˜è®¤æƒ…å†µä¸‹ makepkg æ„å»º AUR åŒ…æ—¶ä¼šå¯ç”¨å‹ç¼©ï¼Œæ„å»ºå®Œäº†å®‰è£…åˆè¦å†è§£å‹ä¸€æ¬¡ï¼Œ# å¦‚æœåªæ˜¯è‡ªå·±æœºå™¨ä¸Šä½¿ç”¨çš„è¯ï¼Œå®åœ¨æ˜¯æ²¡å¿…è¦ï¼ˆè€Œä¸”å¤§è½¯ä»¶åŒ…å‹ç¼©å¾ˆæ…¢ï¼‰ã€‚ æ‰§è¡Œä¸€æ¬¡æ›´æ–° 12345# æŸ¥çœ‹ä¿¡æ¯,æ˜¯å¦æ˜¯è‡ªå·±çš„é…ç½®yay -P -g # åŒæ­¥åŒ…æ•°æ®åº“å¹¶å‡çº§æ‰€æœ‰è½¯ä»¶åŒ…yay -Syu å¸¸ç”¨Pacman &amp; yayåŸºæœ¬æ“ä½œ 12345678910111213141516sudo pacman -S package_name # å·²çŸ¥è½¯ä»¶åŒ…å®Œæ•´åç§°ï¼Œå®‰è£…è½¯ä»¶sudo pacman package_name_str # è½¯ä»¶åä¸å®Œæ•´åç§°ï¼Œåœ¨åŒ…ç®¡ç†åº“ä¸­æ£€ç´¢å¯èƒ½çš„è½¯ä»¶åŒ…sudo pacman -S extra/package_name # å®‰è£…ä¸åŒä»“åº“ä¸­çš„ç‰ˆæœ¬sudo pacman -Syu # å‡çº§æ•´ä¸ªç³»ç»Ÿï¼Œ`y` æ˜¯æ›´æ–°æ•°æ®åº“ï¼Œ`yy` æ˜¯å¼ºåˆ¶æ›´æ–°ï¼Œ`u` æ˜¯å‡çº§è½¯ä»¶sudo pacman -Ss string # åœ¨åŒ…æ•°æ®åº“ä¸­æŸ¥è¯¢è½¯ä»¶sudo pacman -Si package_name # æ˜¾ç¤ºè½¯ä»¶çš„è¯¦ç»†ä¿¡æ¯sudo pacman -Sc # æ¸…é™¤è½¯ä»¶ç¼“å­˜ï¼Œå³ /var/cache/pacman/pkg ç›®å½•ä¸‹çš„æ–‡ä»¶sudo pacman -R package_name # åˆ é™¤å•ä¸ªè½¯ä»¶sudo pacman -Rs package_name # åˆ é™¤æŒ‡å®šè½¯ä»¶åŠå…¶æ²¡æœ‰è¢«å…¶ä»–å·²å®‰è£…è½¯ä»¶ä½¿ç”¨çš„ä¾èµ–å…³ç³»sudo pacman -Qs string # æŸ¥è¯¢å·²å®‰è£…çš„è½¯ä»¶åŒ…sudo pacman -Qi package_name # æŸ¥è¯¢æœ¬åœ°å®‰è£…åŒ…çš„è¯¦ç»†ä¿¡æ¯sudo pacman -Ql package_name # è·å–å·²å®‰è£…è½¯ä»¶æ‰€åŒ…å«çš„æ–‡ä»¶çš„åˆ—è¡¨sudo pacman -U package.tar.zx # ä»æœ¬åœ°æ–‡ä»¶å®‰è£…sudo pactree package_name # æ˜¾ç¤ºè½¯ä»¶çš„ä¾èµ–æ ‘yay -Yc # å¸è½½æ‰€æœ‰æ— ç”¨çš„ä¾èµ–ï¼Œç±»ä¼¼ apt autoremove Clashé»˜è®¤ç³»ç»Ÿä»£ç† ç®¡ç†é¡µé¢ 12345678# åªé’ˆå¯¹å½“å‰ä¸´æ—¶ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ, ä¸´æ—¶ç”¨å¯ä»¥# è®¾ç½®ä»£ç†export &#123;https_proxy=http,http_proxy=http,all_proxy=socks5&#125;&quot;://127.0.0.1:19527&quot;# æŸ¥çœ‹ä»£ç†env | grep -i proxy# æ¸…é™¤ä»£ç†unset http_proxyunset https_proxy å­—ä½“ ä¸­æ–‡å­—ä½“ï¼šSource Hans Sans/Serif yay -S adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts Nerdå­—ä½“ä¸‹è½½ AUR LazyVim å¯èƒ½ä¼šç”¨åˆ°çš„å­—ä½“Droid Sans Mono for Powerline Nerd Font Complete å­—ä½“ç›®å½• /usr/share/fonts å»ºç«‹å­—ä½“ç¼“å­˜ä¿¡æ¯ sudo fc-cache -fv å¸¸ç”¨è½¯ä»¶ &amp; å‘½ä»¤ 1yay -S git extra/jdk8-openjdk maven lazygit zsh tmux neovim tree ranger fzf make python fd ripgrep nodejs wireguard-tools z.lua å®‰è£… 12345678910111213141516171819202122cd ~/downloadgit clone https://github.com/skywind3000/z.lua.git# å¯ç”¨åé¢dotfiles ä¸­çš„zsh é…ç½®å¿½ç•¥æ­¤æ­¥eval &quot;$(lua /home/moon/download/z.lua/z.lua --init zsh)&quot;# å…‹éš†é…ç½® git clone https://github.com/ZhouMoon/dotfiles# rcm å®‰è£… AUR # rcm auråœ°å€# https://aur.archlinux.org/packages/rcmgit clone https://aur.archlinux.org/rcm.git# è¿›å…¥rcmç›®å½•# ä¸‹é¢çš„ä¸‰ä¸ªé€‰é¡¹åˆ†åˆ«æ˜¯# (i) åœ¨ç¼–è¯‘å®Œæˆåå®‰è£…,# (s) å®‰è£…ç¼–è¯‘æ—¶éœ€è¦çš„ä¾èµ–å…³ç³»,# (r) åœ¨å®‰è£…å®Œæˆååˆ é™¤åªåœ¨ç¼–è¯‘æ—¶éœ€è¦çš„è½¯ä»¶åŒ…# å…³äºmakepkgçš„æ›´å¤šå¸®åŠ©,å¯ä»¥æŸ¥çœ‹æ‰‹å†Œé¡µ(man makepkg)makepkg -rsi# å®‰è£… zsh æ’ä»¶# source .zshrc LazyVim å®‰è£… frp è¿œç¨‹å·¥å…·å®‰è£… ä¸‹è½½: frp è½¯ä»¶ä¸‹è½½ é…ç½®: frp ssh ç¤ºä¾‹ å…³äº æ—¶ä¸æ—¶é‡è£…æ‡’çš„å¤‡ä»½äº†, æŒç»­æ›´æ–° æ›´æ–°æ—¥å¿—: 2023-08-04","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"dotfilesé…ç½®åŒæ­¥å·¥å…·RCMä½¿ç”¨","slug":"Linux/dotfilesé…ç½®åŒæ­¥å·¥å…·RCMä½¿ç”¨","date":"2022-12-15T13:45:23.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2022/12/15/Linux/dotfilesé…ç½®åŒæ­¥å·¥å…·RCMä½¿ç”¨/","link":"","permalink":"http://zhoumoon.github.io/2022/12/15/Linux/dotfiles%E9%85%8D%E7%BD%AE%E5%90%8C%E6%AD%A5%E5%B7%A5%E5%85%B7RCM%E4%BD%BF%E7%94%A8/","excerpt":"","text":"RCM è§£å†³é…ç½®æ–‡ä»¶åŒæ­¥é—®é¢˜ï¼Œè½»æ¾å®ç°å¤šè®¾å¤‡é…ç½®ä¸€é”®åŒæ­¥ å®˜ç½‘ å®‰è£… RCM GitHub Gitee ä¾‹ Ubuntu 1sudo apt install rcm å¸¸ç”¨å‘½ä»¤ lsrc åˆ—å‡ºå½“å‰æ‰€æœ‰é€šè¿‡ rcm ç®¡ç†çš„ dotfile ï¼Œä»¥åŠå…¶å¯¹åº”çš„ç¬¦å·é“¾æ¥ä½ç½® lsrc [-FhqVv] [-B HOSTNAME] [-d DIR] [-I EXCL_PAT] [-S EXCL_PAT] [-s EXCL_PAT] [-t TAG] [-U EXCL_PAT] [-u EXCL_PAT] [-x EXCL_PAT] [files ...] mkrc å°†æŒ‡å®šçš„ dotfile ç§»åŠ¨è‡³é›†ä¸­å­˜å‚¨ç›®å½•(é»˜è®¤ ~/.dotfiles)ï¼Œå¹¶åœ¨åŸä¸‹åˆ›å»ºç›¸åº”çš„è½¯é“¾æ¥ mkrc [-ChoqSsVvUu] [-t TAG] [-d DIR] [-B HOSTNAME] files ... rcup æ›´æ–°æˆ–åˆ›å»ºç”± rcm ç®¡ç†çš„ dotfile çš„è½¯é“¾æ¥ rcup [-CfhiKkqVv] [-B HOSTNAME] [-d DIR] [-g] [-I EXCL_PAT] [-S EXCL_PAT] [-s EXCL_PAT] [-t TAG] [-U EXCL_PAT] [-u EXCL_PAT] [-x EXCL_PAT] [files ...] rcdn åˆ é™¤é€šè¿‡ rcm åˆ›å»ºçš„ dotfile çš„è½¯é“¾æ¥ rcdn [-hKkqVv] [-B HOSTNAME] [-d DIR] [-I EXCL_PAT] [-S EXCL_PAT] [-s EXCL_PAT] [-t TAG] [-U EXCL_PAT] [-u EXCL_PAT] [-x EXCL_PAT] [files ...] å‘½ä»¤å‚æ•°å«ä¹‰ -B HOSTNAME: æŒ‡å®šç‰¹å®šä¸»æœºçš„ç›®å½•,è€Œä¸æ˜¯ä½¿ç”¨è®¡ç®—æœºçš„ä¸»æœºåå¯¹å…¶è¿›è¡Œæ“ä½œã€‚ -C: å¤åˆ¶æ–‡ä»¶è€Œä¸æ˜¯åˆ›å»ºè½¯é“¾æ¥ã€‚ -d DIR: æŒ‡å®š dotfiles ç›®å½•ï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªã€‚ -F: åœ¨æ–‡ä»¶æ—æ˜¾ç¤ºæŒ‡ç¤ºç¬¦å·ï¼Œ@ (æ–‡ä»¶è½¯é“¾æ¥) ï¼Œ$ (ç›®å½•è½¯é“¾æ¥)ï¼Œx(å‰¯æœ¬æ–‡ä»¶)ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯å‚è€ƒ rcrc ä¸­çš„ COPY_ALWAYS å’Œ SYMLINK_DIRS ã€‚ -f: å¦‚æœrcæ–‡ä»¶å·²ç»å­˜åœ¨äºé…ç½®ç›®å½•ä¸­ï¼Œä½†ä¸ dotfiles ç›®å½•ä¸­çš„æ–‡ä»¶ä¸åŒ¹é…ï¼Œåˆ é™¤rcæ–‡ä»¶ï¼Œç„¶ååˆ›å»ºè½¯é“¾æ¥ã€‚ -g: ä»…æ˜¾ç¤º rcup å‘½ä»¤è„šæœ¬çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œä¸ä¼šä¿®æ”¹æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ä»»ä½•å†…å®¹ã€‚ -h: æ˜¾ç¤ºç”¨æ³•è¯´æ˜ -I EXCL_PAT: æŒ‡å®šä¸è¢« -x æ’é™¤çš„æ–‡ä»¶ã€‚ è¯¥é¡¹åœ¨ -x é€‰é¡¹ä¹‹ååº”ç”¨,ä½¿ç”¨ä¸ -x ç›¸åŒçš„è¯­æ³•æ ¼å¼ã€‚å¯èƒ½éœ€è¦ç”¨å¼•å·ä½¿å…¶ä¸è¢« Shell å¿½ç•¥ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯å‚è€ƒ EXCLUDE PATTERNã€‚ -i: å¦‚æœrcæ–‡ä»¶å·²ç»å­˜åœ¨äºé…ç½®ç›®å½•ä¸­ï¼Œä½†æ˜¯ä¸dotfilesç›®å½•ä¸­çš„æ–‡ä»¶ä¸åŒ¹é…ï¼Œæç¤ºå¦‚ä½•å¤„ç†å®ƒã€‚è¿™æ˜¯é»˜è®¤é€‰é¡¹ã€‚ -K: è·³è¿‡ pre-hooks å’Œ post-hooks -k: è¿è¡Œ pre-hooks å’Œ post-hooks , è¿™æ˜¯é»˜è®¤é€‰é¡¹ã€‚ -o: å°† dotfiles å®‰è£…åˆ°ä¸»æœºç‰¹å®šçš„ç›®å½•ä¸­ã€‚ -q: å‡å°‘è¯¦ç»†ä¿¡æ¯ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯å‚è€ƒ DIRECTORY LAYOUTã€‚ -S EXCL_PAT: æŒ‡å®šä»¥è½¯é“¾æ¥å½¢å¼åˆ›å»ºçš„ç›®å½•ã€‚æ­¤é€‰é¡¹å¯é‡å¤ä½¿ç”¨ï¼Œéœ€è¦ç”¨å¼•å·ä½¿å…¶ä¸è¢« Shell å¿½ç•¥ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯å‚è€ƒ EXCLUDE PATTERNã€‚ -s EXCL_PAT: æŒ‡å®šé€’å½’åˆ›å»ºçš„ç›®å½•è€Œä¸æ˜¯è½¯é“¾æ¥å¼çš„ç›®å½•ã€‚ä¸ -S é€‰é¡¹ç›¸åï¼Œå¯ç”¨äºæ’¤æ¶ˆå®ƒæˆ– rcrc ä¸­çš„ SYMLINK_DIRS è®¾ç½®ã€‚ æ­¤é€‰é¡¹å¯é‡å¤ä½¿ç”¨ï¼Œéœ€è¦ç”¨å¼•å·ä½¿å…¶ä¸è¢« Shell å¿½ç•¥ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯å‚è€ƒ EXCLUDE PATTERNã€‚ -t TAG: æŒ‡å®šæ ‡ç­¾ -U EXCLUDE: æŒ‡å®šä¸åˆ›å»ºè½¯é“¾æ¥å’Œä»¥ç‚¹ (.) å¼€å¤´å‘½åçš„rcæ–‡ä»¶æˆ–ç›®å½•ã€‚æ­¤é€‰é¡¹å¯é‡å¤ä½¿ç”¨ï¼Œéœ€è¦ç”¨å¼•å·ä½¿å…¶ä¸è¢« Shell å¿½ç•¥ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯å‚è€ƒ EXCLUDE PATTERNã€‚ -u EXCL_PAT: æŒ‡å®šå¿…é¡»ä½¿ç”¨ç‚¹ (.) å¼€å¤´å‘½åçš„ rc æ–‡ä»¶æˆ–ç›®å½•ã€‚ ä¸ -U é€‰é¡¹ç›¸åï¼Œå¯ç”¨äºæ’¤æ¶ˆå®ƒæˆ– rcrc ä¸­ UNDOTTED è®¾ç½®ã€‚ æ­¤é€‰é¡¹å¯é‡å¤ä½¿ç”¨ï¼Œéœ€è¦ç”¨å¼•å·ä½¿å…¶ä¸è¢« Shell å¿½ç•¥ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯å‚è€ƒ EXCLUDE PATTERNã€‚ -V: æ˜¾ç¤ºç‰ˆæœ¬å·ã€‚ -v: æ·»åŠ è¯¦ç»†ä¿¡æ¯ã€‚ å¯ä»¥é‡å¤æ­¤æ“ä½œä»¥è·å–æ›´å¤šçš„è¯¦ç»†ä¿¡æ¯ã€‚ -x EXCL_PAT: æŒ‡å®šæ’é™¤çš„æ–‡ä»¶ã€‚æ­¤é€‰é¡¹å¯é‡å¤ä½¿ç”¨ï¼Œéœ€è¦ç”¨å¼•å·ä½¿å…¶ä¸è¢« Shell å¿½ç•¥ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯å‚è€ƒ EXCLUDE PATTERNã€‚ files ...: æŒ‡å®šçš„æ–‡ä»¶åˆ—è¡¨ã€‚ é…ç½® ~/.rcrc å¯ä»¥ä½¿ç”¨ä¸»ç›®å½•ä¸­çš„ .rcrc æ–‡ä»¶é…ç½®rcm dotfile ç®¡ç†å™¨ã€‚ å¯é€šè¿‡è®¾ç½® RCRC ç¯å¢ƒå˜é‡æ¥æ›´æ”¹æ­¤ä½ç½®ã€‚ æ”¯æŒä»¥ä¸‹å˜é‡: COPY_ALWAYS: å¤åˆ¶åˆ—è¡¨ä¸­çš„globç›¸åŒ¹é…çš„æ–‡ä»¶ï¼Œè€Œéä½¿ç”¨è½¯é“¾æ¥ã€‚ DOTFILES_DIRS: dotfile çš„æºç›®å½•ã€‚åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå°†è¢« mkrc ç”¨äºåˆ›å»º dotfile ç›®å½•ï¼Œé»˜è®¤å€¼ä¸º: ~/.dotfiles ã€‚ EXCLUDES: æ’é™¤åˆ—è¡¨ã€‚ HOSTNAME: è®¡ç®—æœºçš„ä¸»æœºåã€‚ é€šå¸¸é€šè¿‡ hostname å‘½ä»¤è·å¾—ï¼Œä½†æ­¤å‘½ä»¤å¹¶éæ ‡å‡†çš„ï¼Œè·å–çš„ä¸»æœºåæˆ–è®¸ä¼šæœ‰å·®å¼‚ï¼Œå› æ­¤ä½¿ç”¨ HOSTNAME å˜é‡å¼ºåˆ¶ä½¿ç”¨å·²çŸ¥çš„ä¸»æœºåã€‚ TAGS: é»˜è®¤æ ‡ç­¾è¡¨ã€‚ SYMLINK_DIRS: åˆ—è¡¨ä¸­ç›®å½•æ˜¯è½¯é“¾æ¥ï¼Œè€Œä¸æ˜¯æºæ–‡ä»¶ã€‚ UNDOTTED: åˆ—è¡¨ä¸­çš„æ–‡ä»¶æ˜¯è½¯é“¾æ¥ä¸”ä¸ç”¨ç‚¹ (.) å¼€å¤´å‘½åã€‚å¦‚æœæ˜¯ SYMLINK_DIRS ä¸­å«æœ‰çš„ç›®å½•ï¼Œåˆ™è¯¥ç›®å½•å°†ä¸ºè½¯é“¾æ¥ä¸”ä¸ç”¨ç‚¹ (.) å¼€å¤´å‘½åã€‚ .rcrc æ ·ä¾‹: 123456789COPY_ALWAYS=&quot;ssh/id_* weechat/* netrc&quot;COPY_ALWAYS=&quot;*&quot;DOTFILES_DIRS=&quot;/home/mike/.dotfiles /usr/share/dotfiles&quot;EXCLUDES=&quot;irbrc *:*emacs* dotfiles:python*&quot;HOSTNAME=&quot;ubutu-22&quot;TAGS=&quot;freebsd development email git laptop gmail notmuch&quot;SYMLINK_DIRS=&quot;zprezto texmf&quot;UNDOTTED=&quot;texmf&quot; EXCLUDE PATTERN (æ’é™¤åˆ—è¡¨) ä½¿ç”¨å†’å· (:) åˆ†éš” dotfile ç›®å½•å’Œ glob (ç”±æ™®é€šå­—ç¬¦ã€é€šé…å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç”¨äºåŒ¹é…æ–‡ä»¶è·¯å¾„) ã€‚å¯é€‰æ‹©å¸¦ dotfile ç›®å½•ï¼Œå¦‚æœçœç•¥åˆ™é»˜è®¤ä¸º * ï¼Œä»£è¡¨ä»æ‰€æœ‰ dotfile ç›®å½•åŒ¹é…ã€‚ glob æ˜¯ç›¸å¯¹äº dotfile ç›®å½•çš„ç›¸å¯¹è·¯å¾„ã€‚ ä¾‹å¦‚ï¼Œè¦å¿½ç•¥ Thoughtbot-dotfiles ç›®å½•ä¸­æ‰€æœ‰ä¸ emacs ç›¸å…³çš„é¡¹ç›®ï¼Œä½¿ç”¨ï¼š thoughtbot-dotfiles:*emacs* è¦å¿½ç•¥æ‰€æœ‰ bash_profile æ–‡ä»¶ä½¿ç”¨ï¼š *:bash_profile æˆ–è€…ç®€å†™ä¸º: bash_profile æ³¨æ„,é€šå¸¸é€šè¿‡ hostname å‘½ä»¤è·å¾—ä¸»æœºåï¼Œä½†æ­¤å‘½ä»¤å¹¶éæ ‡å‡†çš„ï¼Œè·å–çš„ä¸»æœºåæˆ–è®¸ä¼šæœ‰å·®å¼‚ï¼Œåœ¨macOSä¸Šï¼Œä¸»æœºåæ˜¯ä¸å¯é¢„æµ‹çš„ï¼Œç”šè‡³å¯èƒ½åœ¨ DHCP æ¡æ‰‹è¢«æ›´æ”¹,å¼ºçƒˆå»ºè®®åœ¨ rcrc ä¸­,å› æ­¤ä½¿ç”¨ HOSTNAME å˜é‡å¼ºåˆ¶ä½¿ç”¨å·²çŸ¥çš„ä¸»æœºåã€‚ DIRECTORY LAYOUT (ç›®å½•å¸ƒå±€) dotfiles ç›®å½•ä¸‹çš„ä»»ä½•éç‚¹ (.) å¼€å¤´çš„ã€éå…ƒæ–‡ä»¶æˆ–ç›®å½•éƒ½å°†ä½œä¸ºç‚¹ (.) å¼€å¤´çš„æ–‡ä»¶å®‰è£…ã€‚ ä¾‹å¦‚ï¼Œ.dotfiles/zshrc å°†å®‰è£…åˆ° ~/.zshrc ã€‚ æ–‡ä»¶å®‰è£…ä¸ºè½¯é“¾æ¥ã€‚ ç›®å½•é€šè¿‡å»ºç«‹ç›®å½•æ¥å®‰è£…ã€‚-C é€‰é¡¹æŒ‡å®šæ–‡ä»¶é€šè¿‡å¤åˆ¶å®‰è£…è€Œä¸æ˜¯è½¯é“¾æ¥ã€‚ rcrc ä¸­çš„ COPY_ALWAYS å¯ç”¨äºåˆ—å‡ºåªèƒ½å¤åˆ¶çš„æ–‡ä»¶ã€‚ æ”¯æŒä¸‰ä¸ªå…ƒæ–‡ä»¶: host-specific (ç‰¹å®šä¸»æœºæ–‡ä»¶), tagged (æ ‡è®°æ–‡ä»¶), hooks ã€‚ host-specific: ä»¥ host- å‰ç¼€åŠ ä¸»æœºåå‘½åçš„ç›®å½•ï¼Œå­˜æ”¾ç‰¹å®šä¸»æœºçš„æ–‡ä»¶ï¼Œå¦‚ï¼Œ.dotfiles/host-scarlett åŒ…å«ä¸»æœºåä¸º scarlett çš„è®¡ç®—æœº dotfile æ–‡ä»¶ï¼Œä¸”è¿™äº›æ–‡ä»¶å°†ä»…å®‰è£…åœ¨ä¸»æœºåä¸ºscarlettçš„è®¡ç®—æœºä¸Šã€‚ tagged: ä»¥ tag- å‰ç¼€åŠ æ ‡ç­¾åå‘½åçš„ç›®å½•ï¼Œå­˜æ”¾æ ‡è®°è¯¥æ ‡ç­¾çš„æ–‡ä»¶ï¼Œå¦‚ï¼Œä»…åœ¨æŒ‡å®šä½¿ç”¨ git æ ‡ç­¾æ—¶å®‰è£… .dotfiles/tag-git ä¸‹çš„æ–‡ä»¶ã€‚ hooks: åä¸ºhooksçš„ç›®å½•ï¼Œå­˜æ”¾ hooks ã€‚ rcup æ”¯æŒä¸¤ä¸ªhooksï¼špre-up å’Œ post-up ã€‚å®ƒä»¬å­˜æ”¾åˆ°é¢„è®¾æ–‡ä»¶åçš„æ–‡ä»¶æˆ–ç›®å½•ä¸­ï¼š.dotfiles/hooks/pre-up å’Œ .dotfiles/hooks/post-up ï¼Œæˆ– .dotfiles/hooks/pre-up/* å’Œ .dotfiles/hooks/post-up/* ã€‚ è¿™äº›æ–‡ä»¶å¿…é¡»æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ã€‚ å®ƒä»¬åœ¨æ¯æ¬¡ rcup è¿è¡Œæ—¶éƒ½è¿è¡Œï¼Œå› æ­¤å¿…é¡»æ˜¯å¹‚ç­‰(æ‰§è¡Œåç»“æœè¿˜ä¸ºæœ¬èº«)çš„ã€‚hooks æŒ‰å­—æ¯é¡ºåºæ’åº,ä¸€æ¬¡åªæ‰§è¡Œä¸€æ¬¡ã€‚ å¦‚ï¼Œhooks/pre-up/animals å°†åœ¨ hooks / pre-up/aquariums ä¹‹å‰è¿è¡Œï¼Œhooks/pre-up/4-eyes å°†åœ¨ hooks/post-up/2-u-nothing-compares ä¹‹å‰è¿è¡Œã€‚ æ—¥å¸¸ä½¿ç”¨ 12345678910111213141516171819202122232425262728# åˆ›å»ºç®¡ç†(ç®¡ç†.vimrcé…ç½®)mkrc .vimrc # æ‰“æ ‡ç­¾æ–¹å¼åˆ›å»ºç®¡ç†mkrc -t git xxx# å®‰è£… dotfiles ä¸­çš„ dotfile æ–‡ä»¶rcup# å®‰è£…æŒ‡å®šæ ‡ç­¾çš„ dotfile æ–‡ä»¶rcup -t git# å®‰è£…æŒ‡å®šæ ‡ç­¾çš„ dotfile æ–‡ä»¶ï¼Œå¹¶æ˜¾ç¤ºè¿‡ç¨‹rcup -t git -v# æŸ¥è¯¢è¢«ç®¡ç†çš„ dotfile æ–‡ä»¶lsrc# æŸ¥è¯¢æŒ‡å®šæ ‡ç­¾çš„ dotfile æ–‡ä»¶lsrc -t git# æŸ¥è¯¢æŒ‡å®š dotfiles ä¸­çš„ dotfile æ–‡ä»¶lsrc -d ~/.dotfiles# å–æ¶ˆæŒ‡å®šæ ‡ç­¾çš„å®‰è£…ï¼Œå¹¶æ˜¾ç¤ºè¿‡ç¨‹rcdn -t git -v æˆ‘çš„é…ç½® https://github.com/ZhouMoon/dotfiles","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"WireGuardå®‰è£…ä½¿ç”¨","slug":"Linux/WireGuardå®‰è£…ä½¿ç”¨","date":"2022-11-12T15:08:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2022/11/12/Linux/WireGuardå®‰è£…ä½¿ç”¨/","link":"","permalink":"http://zhoumoon.github.io/2022/11/12/Linux/WireGuard%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/","excerpt":"","text":"æœ‰ä»€ä¹ˆç”¨ï¼Œä¸ºä»€ä¹ˆè¦ç”¨ï¼Œè¿™ä¸ªä½ åº”è¯¥æ‡‚! å®˜ç½‘ GitHub å®‰è£…è„šæœ¬Docker(ç›®å‰åœ¨ç”¨) å®‰è£…ã€é…ç½®ã€è¿ç§»ç®€å•ï¼Œä½†å¯¹ç³»ç»Ÿå†…æ ¸æœ‰è¦æ±‚ï¼Œéœ€è¦æ³¨æ„!!! æ‹¬å·åŠé‡Œé¢çš„å†…å®¹åªæ˜¯è¾…åŠ©è¯´æ˜ï¼Œæ‰§è¡Œå‘½ä»¤æ—¶åˆ é™¤ -e WG_DEFAULT_ADDRESS=10.0.8.x æ²¡æœ‰ç‰¹æ®Šéœ€æ±‚æ²¡å¿…è¦ä¿®æ”¹ 123456789101112131415161718docker run -d \\ --name=wg-easy \\ -e WG_HOST=123.123.123.123 (ğŸš¨è¿™é‡Œè¾“å…¥æœåŠ¡å™¨çš„å…¬ç½‘IP) \\ -e PASSWORD=passwd123 (ğŸš¨è¿™é‡Œè¾“å…¥ä½ çš„å¯†ç ) \\ -e WG_DEFAULT_ADDRESS=10.0.8.x ï¼ˆğŸš¨é»˜è®¤IPåœ°å€ï¼‰\\ -e WG_DEFAULT_DNS=114.114.114.114 ï¼ˆğŸš¨é»˜è®¤DNSï¼‰\\ -e WG_ALLOWED_IPS=10.0.8.0/24 ï¼ˆğŸš¨å…è®¸è¿æ¥çš„IPæ®µï¼‰\\ -e WG_PERSISTENT_KEEPALIVE=25 ï¼ˆğŸš¨é‡è¿é—´éš”ï¼‰\\ -v ~/.wg-easy:/etc/wireguard \\ -p 51820:51820/udp \\ -p 51821:51821/tcp \\ --cap-add=NET_ADMIN \\ --cap-add=SYS_MODULE \\ --sysctl=&quot;net.ipv4.conf.all.src_valid_mark=1&quot; \\ --sysctl=&quot;net.ipv4.ip_forward=1&quot; \\ --restart unless-stopped \\ weejewel/wg-easy å¼€å¯äº‘æœåŠ¡å™¨ç«¯å£ TCP/UDP(51820/51821) é…ç½®æ–‡ä»¶è·¯å¾„ï¼ŒæœåŠ¡å™¨è¿ç§»æ—¶å¤‡ä»½ ~/.wg-easy Webç®¡ç†é¡µé¢ IP:51821 å¯èƒ½ä¼šç”¨åˆ°çš„å‘½ä»¤ 12345678910# æŸ¥çœ‹ç½‘å¡ip addr# ä»¥ä¸‹å‘½ä»¤ä¸å±äºæœ¬æ–‡æ¡£# å¯åŠ¨wg0wg-quick up wg0#å…³é—­wg0wg-quick down wg0#æŸ¥çœ‹çŠ¶æ€wg-quick status wg0 ç›¸å…³é“¾æ¥ å¸æ³¢å›¾-åŸºäºWireguardæŠ€æœ¯çš„è™šæ‹Ÿä¸ªäººç½‘ç»œæ­å»º(Bç«™æœ‰è§†é¢‘è¯¦ç»†è¯´æ˜) WireGuard Easy","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"Scoopå®‰è£…ä½¿ç”¨è®°å½•","slug":"Windows/Scoopå®‰è£…ä½¿ç”¨è®°å½•","date":"2022-09-02T03:22:30.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2022/09/02/Windows/Scoopå®‰è£…ä½¿ç”¨è®°å½•/","link":"","permalink":"http://zhoumoon.github.io/2022/09/02/Windows/Scoop%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/","excerpt":"","text":"ç¯å¢ƒ 1234# Windows 10 ä¸“ä¸šç‰ˆ # ç¡®ä¿æ˜¯powershell 5ï¼ˆåŠä»¥ä¸Šï¼‰# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬ $PSVersionTable.PSVersion å®‰è£… 12345678910111213# å°†æ‰§è¡Œæƒé™æ”¹ä¸ºæœ¬åœ°æ— éœ€ç­¾åSet-ExecutionPolicy RemoteSigned -scope CurrentUser# è®¾ç½® scoop å®‰è£…è·¯å¾„ä¸º D:\\scoop$env:SCOOP=&#x27;D:\\Scoop&#x27;[environment]::setEnvironmentVariable(&#x27;SCOOP&#x27;,$env:SCOOP,&#x27;User&#x27;)# å…¨å±€å®‰è£…è·¯å¾„ä¿®æ”¹(å¯ä»¥ä¸æ‰§è¡Œ)$env:SCOOP_GLOBAL=&#x27;D:\\ScoopGlobalApps&#x27;[environment]::setEnvironmentVariable(&#x27;SCOOP_GLOBAL&#x27;,$env:SCOOP_GLOBAL,&#x27;Machine&#x27;)# ä¸‹è½½å¹¶æ‰§è¡Œè„šæœ¬iwr -useb get.scoop.sh | iex è¿ç§» å®‰è£…Scoop å°†åŸScoopæ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°ç›®æ ‡Scoopç›®å½• é‡æ–°è®¾å®šå›¾æ ‡: scoop reset * æ‡’äººå‘½ä»¤ 12# æ›´æ–°ã€æ¸…ç†ç¼“å­˜ã€æ¸…ç†å†å²ç‰ˆæœ¬scoop update * ; scoop cache rm *;scoop cleanup *; F&amp;A 1234567891011å¦‚æœä½¿ç”¨&quot;ç§‘å­¦ä¸Šç½‘&quot;ï¼Œéœ€è¦é€šè¿‡å¦‚ä¸‹å‘½ä»¤å…³é—­ aria2scoop config aria2-enabled false# aria2 åœ¨ Scoop ä¸­é»˜è®¤å¼€å¯scoop config aria2-enabled true# å…³äºä»¥ä¸‹å‚æ•°çš„ä½œç”¨ï¼Œè¯¦è§aria2çš„ç›¸å…³èµ„æ–™scoop config aria2-retry-wait 4scoop config aria2-split 16scoop config aria2-max-connection-per-server 16scoop config aria2-min-split-size 4M","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"http://zhoumoon.github.io/tags/Windows/"}]},{"title":"AidLuxä½¿ç”¨è®°å½•","slug":"Linux/AidLuxä½¿ç”¨è®°å½•","date":"2022-05-18T09:00:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2022/05/18/Linux/AidLuxä½¿ç”¨è®°å½•/","link":"","permalink":"http://zhoumoon.github.io/2022/05/18/Linux/AidLux%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/","excerpt":"","text":"AdiLuxå®˜æ–¹ SSHè¿æ¥ ç¼–è¾‘é…ç½®æ–‡ä»¶ vi /etc/ssh/ssh_config å¯åŠ¨ /etc/init.d/ssh start å®¢æˆ·ç«¯è¿æ¥ ssh root@ip -p9022 å¯†ç : aidlux AidLuxåŒæ­¥ç³»ç»Ÿæ—¶é—´ 12cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtimedate è½¯ä»¶å®‰è£… éœ€è¦æ³¨æ„å®‰è£…è½¯ä»¶ä¸cpuæ¶æ„ç›¸åŒ, jdk maven å¯ä»¥é€šè¿‡åŒ…ç®¡ç†ç›´æ¥å®‰è£…","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"IDEAæ— æ³•å¯åŠ¨é—®é¢˜","slug":"IDE/IDEAæ— æ³•å¯åŠ¨é—®é¢˜","date":"2022-05-18T01:43:00.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2022/05/18/IDE/IDEAæ— æ³•å¯åŠ¨é—®é¢˜/","link":"","permalink":"http://zhoumoon.github.io/2022/05/18/IDE/IDEA%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8%E9%97%AE%E9%A2%98/","excerpt":"","text":"å¯åŠ¨æŠ¥é”™ 123Internal error. Please refer to http://jb.gg/ide/critical-startup-errors.......... è§£å†³ 1netsh winsock reset æ€»ç»“ é‡è£… (æ²¡ç”¨) åˆ æ’ä»¶ (æ²¡ç”¨) åˆ é…ç½® (æ²¡ç”¨) é‡å¯ (æœ‰ç”¨) é—®é¢˜å‡ºç° å‡ºç°åœ¨å‰ä¸€å¤©æ­£å¸¸ä½¿ç”¨, ç”µè„‘ä¼‘çœ ä¸€å¤œå","categories":[],"tags":[{"name":"IDE","slug":"IDE","permalink":"http://zhoumoon.github.io/tags/IDE/"}]},{"title":"Windowsæ€æ­»javaè¿›ç¨‹","slug":"Windows/Windowsæ€æ­»javaè¿›ç¨‹","date":"2022-05-14T07:38:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2022/05/14/Windows/Windowsæ€æ­»javaè¿›ç¨‹/","link":"","permalink":"http://zhoumoon.github.io/2022/05/14/Windows/Windows%E6%9D%80%E6%AD%BBjava%E8%BF%9B%E7%A8%8B/","excerpt":"","text":"æŸ¥è¯¢ç«¯å£ windows ç³»ç»ŸæŸ¥è¯¢8080ç«¯å£çš„è¿›ç¨‹ netstat -ano | findstr 8080 æŸ¥è¯¢è¿è¡Œçš„ç¨‹åº tasklistæˆ–jps å‘½ä»¤æŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸­çš„è¿›ç¨‹åˆ—è¡¨ å¦‚æŸ¥çœ‹chrome è¿›ç¨‹: tasklist | findstr chrome æ€æ­»è¿›ç¨‹ é€šè¿‡name: taskkill /im nginx.exe /f é€šè¿‡pid: taskkill /pid 8568 /f å‘½ä»¤è¯¦è§£ TASKLIST 123456789101112131415161718192021222324252627282930313233343536373839404142434445TASKLIST [/S system [/U username [/P [password]]]] [/M [module] | /SVC | /V] [/FI filter] [/FO format] [/NH]æè¿°: è¯¥å·¥å…·æ˜¾ç¤ºåœ¨æœ¬åœ°æˆ–è¿œç¨‹æœºå™¨ä¸Šå½“å‰è¿è¡Œçš„è¿›ç¨‹åˆ—è¡¨ã€‚ å‚æ•°åˆ—è¡¨: /S system æŒ‡å®šè¿æ¥åˆ°çš„è¿œç¨‹ç³»ç»Ÿã€‚ /U [domain\\]user æŒ‡å®šåº”è¯¥åœ¨å“ªä¸ªç”¨æˆ·ä¸Šä¸‹æ–‡æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚ /P [password] ä¸ºæä¾›çš„ç”¨æˆ·ä¸Šä¸‹æ–‡æŒ‡å®šå¯†ç ã€‚å¦‚æœçœç•¥ï¼Œåˆ™æç¤ºè¾“å…¥ã€‚ /M [module] åˆ—å‡ºå½“å‰ä½¿ç”¨æ‰€ç»™ exe/dll åç§°çš„æ‰€æœ‰ä»»åŠ¡ã€‚ å¦‚æœæ²¡æœ‰æŒ‡å®šæ¨¡å—åç§°ï¼Œæ˜¾ç¤ºæ‰€æœ‰åŠ è½½çš„æ¨¡å—ã€‚ /SVC æ˜¾ç¤ºæ¯ä¸ªè¿›ç¨‹ä¸­ä¸»æŒçš„æœåŠ¡ã€‚ /V æ˜¾ç¤ºè¯¦è¿°ä»»åŠ¡ä¿¡æ¯ã€‚ /FI filter æ˜¾ç¤ºä¸€ç³»åˆ—ç¬¦åˆç­›é€‰å™¨æŒ‡å®šçš„æ ‡å‡†çš„ä»»åŠ¡ã€‚ /FO format æŒ‡å®šè¾“å‡ºæ ¼å¼ã€‚ æœ‰æ•ˆå€¼: &quot;TABLE&quot;ã€&quot;LIST&quot;ã€&quot;CSV&quot;ã€‚ /NH æŒ‡å®šåˆ—æ ‡é¢˜ä¸åº”è¯¥åœ¨è¾“å‡ºä¸­æ˜¾ç¤ºã€‚ åªå¯¹ &quot;TABLE&quot; å’Œ &quot;CSV&quot; æ ¼å¼æœ‰æ•ˆã€‚ /? æ˜¾ç¤ºå¸®åŠ©æ¶ˆæ¯ã€‚ç­›é€‰å™¨: ç­›é€‰å™¨å æœ‰æ•ˆæ“ä½œç¬¦ æœ‰æ•ˆå€¼ ----------- --------------- -------------------------- STATUS eq, ne RUNNING |NOT RESPONDING | UNKNOWN IMAGENAME eq, ne æ˜ åƒåç§° PID eq, ne, gt, lt, ge, le PID å€¼ SESSION eq, ne, gt, lt, ge, le ä¼šè¯ç¼–å· SESSIONNAME eq, ne ä¼šè¯å CPUTIME eq, ne, gt, lt, ge, le CPU æ—¶é—´ï¼Œæ ¼å¼ä¸ºhh:mm:ssã€‚hh - æ—¶ï¼Œmm - åˆ†ï¼Œss - ç§’ MEMUSAGE eq, ne, gt, lt, ge, le å†…å­˜ä½¿ç”¨é‡ï¼Œå•ä½ä¸º KB USERNAME eq, ne ç”¨æˆ·åï¼Œæ ¼å¼ä¸º [domain\\]user SERVICES eq, ne æœåŠ¡åç§° WINDOWTITLE eq, ne çª—å£æ ‡é¢˜ MODULES eq, ne DLL åç§°è¯´æ˜: å½“æŸ¥è¯¢è¿œç¨‹æœºå™¨æ—¶ï¼Œä¸æ”¯æŒ &quot;WINDOWTITLE&quot; å’Œ &quot;STATUS&quot; ç­›é€‰å™¨ã€‚ç¤ºä¾‹: TASKLIST TASKLIST /M TASKLIST /V /FO CSV TASKLIST /SVC /FO LIST TASKLIST /M wbem* TASKLIST /S system /FO LIST TASKLIST /S system /U domain\\username /FO CSV /NH TASKLIST /S system /U username /P password /FO TABLE /NH TASKLIST /FI &quot;USERNAME ne NT AUTHORITY\\SYSTEM&quot; /FI &quot;STATUS eq running&quot; TASKKILL 12345678910111213141516171819202122232425262728293031323334353637383940414243444546TASKKILL [/S system [/U username [/P [password]]]] &#123; [/FI filter] [/PID processid | /IM imagename] &#125; [/T] [/F]æè¿°: ä½¿ç”¨è¯¥å·¥å…·æŒ‰ç…§è¿›ç¨‹ ID (PID) æˆ–æ˜ åƒåç§°ç»ˆæ­¢ä»»åŠ¡ã€‚å‚æ•°åˆ—è¡¨: /S system æŒ‡å®šè¦è¿æ¥çš„è¿œç¨‹ç³»ç»Ÿã€‚ /U [domain\\]user æŒ‡å®šåº”è¯¥åœ¨å“ªä¸ªç”¨æˆ·ä¸Šä¸‹æ–‡æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚ /P [password] ä¸ºæä¾›çš„ç”¨æˆ·ä¸Šä¸‹æ–‡æŒ‡å®šå¯†ç ã€‚å¦‚æœå¿½ç•¥ï¼Œæç¤ºè¾“å…¥ã€‚ /FI filter åº”ç”¨ç­›é€‰å™¨ä»¥é€‰æ‹©ä¸€ç»„ä»»åŠ¡ã€‚å…è®¸ä½¿ç”¨ &quot;*&quot;ã€‚ä¾‹å¦‚ï¼Œæ˜ åƒåç§° eq acme* /PID processid æŒ‡å®šè¦ç»ˆæ­¢çš„è¿›ç¨‹çš„ PIDã€‚ä½¿ç”¨ TaskList å–å¾— PIDã€‚ /IM imagename æŒ‡å®šè¦ç»ˆæ­¢çš„è¿›ç¨‹çš„æ˜ åƒåç§°ã€‚é€šé…ç¬¦ &#x27;*&#x27;å¯ç”¨æ¥ æŒ‡å®šæ‰€æœ‰ä»»åŠ¡æˆ–æ˜ åƒåç§°ã€‚ /T ç»ˆæ­¢æŒ‡å®šçš„è¿›ç¨‹å’Œç”±å®ƒå¯ç”¨çš„å­è¿›ç¨‹ã€‚ /F æŒ‡å®šå¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹ã€‚ /? æ˜¾ç¤ºå¸®åŠ©æ¶ˆæ¯ã€‚ç­›é€‰å™¨: ç­›é€‰å™¨å æœ‰æ•ˆè¿ç®—ç¬¦ æœ‰æ•ˆå€¼ ----------- --------------- ------------------------- STATUS eq, ne RUNNING | NOT RESPONDING | UNKNOWN IMAGENAME eq, ne æ˜ åƒåç§° PID eq, ne, gt, lt, ge, le PID å€¼ SESSION eq, ne, gt, lt, ge, le ä¼šè¯ç¼–å·ã€‚ CPUTIME eq, ne, gt, lt, ge, le CPU æ—¶é—´ï¼Œæ ¼å¼ä¸º hh:mm:ssã€‚ hh - æ—¶ï¼Œ mm - åˆ†ï¼Œss - ç§’ MEMUSAGE eq, ne, gt, lt, ge, le å†…å­˜ä½¿ç”¨é‡ï¼Œå•ä½ä¸º KB USERNAME eq, ne ç”¨æˆ·åï¼Œæ ¼å¼ä¸º [domain\\]user MODULES eq, ne DLL åç§° SERVICES eq, ne æœåŠ¡åç§° WINDOWTITLE eq, ne çª—å£æ ‡é¢˜ è¯´æ˜ ---- 1) åªæœ‰åœ¨åº”ç”¨ç­›é€‰å™¨çš„æƒ…å†µä¸‹ï¼Œ/IM åˆ‡æ¢æ‰èƒ½ä½¿ç”¨é€šé…ç¬¦ &#x27;*&#x27;ã€‚ 2) è¿œç¨‹è¿›ç¨‹æ€»æ˜¯è¦å¼ºè¡Œ (/F) ç»ˆæ­¢ã€‚ 3) å½“æŒ‡å®šè¿œç¨‹æœºå™¨æ—¶ï¼Œä¸æ”¯æŒ &quot;WINDOWTITLE&quot; å’Œ &quot;STATUS&quot; ç­›é€‰å™¨ã€‚ä¾‹å¦‚: TASKKILL /IM notepad.exe TASKKILL /PID 1230 /PID 1241 /PID 1253 /T TASKKILL /F /IM cmd.exe /T TASKKILL /F /FI &quot;PID ge 1000&quot; /FI &quot;WINDOWTITLE ne untitle*&quot; TASKKILL /F /FI &quot;USERNAME eq NT AUTHORITY\\SYSTEM&quot; /IM notepad.exe TASKKILL /S system /U domain\\username /FI &quot;USERNAME ne NT*&quot; /IM * TASKKILL /S system /U username /P password /FI &quot;IMAGENAME eq note*&quot;","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"},{"name":"Windows","slug":"Windows","permalink":"http://zhoumoon.github.io/tags/Windows/"}]},{"title":"Windowsè¿è¡Œjava-jarå¯åŠ¨æŠ¥é”™","slug":"Windows/Windowsè¿è¡Œjava-jarå¯åŠ¨æŠ¥é”™","date":"2022-05-14T07:22:21.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2022/05/14/Windows/Windowsè¿è¡Œjava-jarå¯åŠ¨æŠ¥é”™/","link":"","permalink":"http://zhoumoon.github.io/2022/05/14/Windows/Windows%E8%BF%90%E8%A1%8Cjava-jar%E5%90%AF%E5%8A%A8%E6%8A%A5%E9%94%99/","excerpt":"","text":"é—®é¢˜ åœ¨IDEA ã€ Linux è¿è¡Œæ²¡æœ‰é—®é¢˜ åœ¨Windows ç¯å¢ƒè¿è¡Œjava -Xms128m -Xmx256m -jar test.jar --spring.profiles.active=local å±…ç„¶æŠ¥é”™ 12345......çœç•¥15:21:23.678 [main] [,] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@148080bb, started on Sat May 14 15:21:10 CST 202215:21:23.680 [main] [,] ERROR org.springframework.boot.SpringApplication - Application run failedorg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat......çœç•¥ è§£å†³ æœ€ç»ˆå‘½ä»¤:nohup java -Dfile.encoding=utf-8 -Xms128m -Xmx256m -jar test.jar --spring.profiles.active=local1 &amp; å…¶å®å°±æ˜¯å¢åŠ äº†ç¼–ç  -Dfile.encoding=utf-8 ç›¸å…³è¿æ¥ Windowsæ€æ­»javaè¿›ç¨‹","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"},{"name":"Windows","slug":"Windows","permalink":"http://zhoumoon.github.io/tags/Windows/"}]},{"title":"Ubuntu å¸¸ç”¨é…ç½®åŠè½¯ä»¶","slug":"Linux/Ubuntu å¸¸ç”¨é…ç½®åŠè½¯ä»¶","date":"2022-05-04T14:02:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2022/05/04/Linux/Ubuntu å¸¸ç”¨é…ç½®åŠè½¯ä»¶/","link":"","permalink":"http://zhoumoon.github.io/2022/05/04/Linux/Ubuntu%20%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E5%8F%8A%E8%BD%AF%E4%BB%B6/","excerpt":"","text":"Ubuntu å¸¸ç”¨é…ç½®åŠè½¯ä»¶ åˆ›å»ºç”¨æˆ· 12345678910111213141516171819# åˆ‡rootç”¨æˆ·su root sudo useradd -r -m -s /bin/bash moon# è®¾ç½®å¯†ç sudo passwd# -rï¼šå»ºç«‹ç³»ç»Ÿè´¦å·# -mï¼šè‡ªåŠ¨å»ºç«‹ç”¨æˆ·çš„ç™»å…¥ç›®å½•# -sï¼šæŒ‡å®šç”¨æˆ·ç™»å…¥åæ‰€ä½¿ç”¨çš„shell# è®¾ç½®sudo# ä¿®æ”¹/etc/sudoers æƒé™chmod +w /etc/sudoersvim /etc/sudoers# å¢åŠ moonç”¨æˆ·æƒé™moon ALL=(ALL:ALL) ALL# env_resetä¸‹æ·»åŠ , ä½¿sudo æ‰§è¡Œå‘½ä»¤æ—¶èµ°ä»£ç†Defaults env_keep += &quot;http_proxy https_proxy ftp_proxy all_proxy no_proxy&quot;# è¿˜åŸæƒé™(å¦åˆ™ä¸ç”Ÿæ•ˆ)chmod 440 /etc/sudoers æ—¶é—´æ ¡å‡† 12sudo apt-get install ntpntpdate cn.pool.ntp.org Clashé»˜è®¤ç³»ç»Ÿä»£ç† ç®¡ç†é¡µé¢ 1234567891011# è®¾ç½®ä»£ç†export https_proxy=http://127.0.0.1:19527 http_proxy=http://127.0.0.1:19527 all_proxy=socks5://127.0.0.1:19527# æŸ¥çœ‹ä»£ç†env |grep -i proxy# æ¸…é™¤ä»£ç†unset http_proxyunset https_proxy# é€šè¿‡å›¾å½¢ç•Œé¢è®¾ç½®çš„ä»£ç†æ¸…é™¤sudo vi /etc/apt/apt.confsudo vi ~/.bashrcsudo vi /etc/enviroment è½¯ä»¶æºé…ç½® ç¼–è¾‘æ–‡ä»¶sudo vi /etc/apt/sources.list 123456789101112131415161718192021222324252627282930313233343536373839404142434445# æ¸…åæº # é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Šdeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse # é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse# ä¸­ç§‘å¤§æº# é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Šdeb https://mirrors.ustc.edu.cn/ubuntu/ xenial main restricted universe multiverse# deb-src https://mirrors.ustc.edu.cn/ubuntu/ xenial main main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse# deb-src https://mirrors.ustc.edu.cn/ubuntu/ xenial-updates main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse# deb-src https://mirrors.ustc.edu.cn/ubuntu/ xenial-backports main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ xenial-security main restricted universe multiverse# deb-src https://mirrors.ustc.edu.cn/ubuntu/ xenial-security main restricted universe multiverse # é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨# deb https://mirrors.ustc.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse# deb-src https://mirrors.ustc.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverseo# é˜¿é‡Œæºdeb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse å¸¸ç”¨è½¯ä»¶ sudo apt install git zsh tmux neovim tree ranger fzf å­—ä½“å®‰è£… Nerdå­—ä½“ä¸‹è½½ å­—ä½“ç›®å½•: /usr/share/fonts å»ºç«‹å­—ä½“ç¼“å­˜ä¿¡æ¯ sudo fc-cache -fv é…ç½®ç»ˆç«¯ ä¸ªæ€§åŒ–é…ç½® å…‹éš†é…ç½® git clone https://github.com/ZhouMoon/dotfiles sshæœåŠ¡ æœåŠ¡å®‰è£… sudo apt-get install openssh-server åˆ›å»ºauthorized_keys sudo touch ~/.ssh/authorized_keys å®¢æˆ·ç«¯ç”Ÿæˆå¯†é’¥ ssh-keygen å°†å…¬é’¥å†™å…¥è¿œç¨‹æœºå™¨ä¸­çš„ authorized_keys æ–‡ä»¶ä¸­ JDK å®‰è£… JDKå®‰è£… Maven å®‰è£… sudo apt install maven frp è¿œç¨‹å·¥å…·å®‰è£… ä¸‹è½½: frp è½¯ä»¶ä¸‹è½½ é…ç½®: frp ssh ç¤ºä¾‹ å¯èƒ½å‡ºç°çš„é—®é¢˜ nvim å¯åŠ¨åæŠ¥é”™ å°è¯•å®‰è£…g++ gcc å°è¯•é‡æ–°å®‰è£…æ’ä»¶ å…³äº æ—¶ä¸æ—¶é‡è£…æ‡’çš„å¤‡ä»½äº†, ç›´æ¥é‡æ–°ä¸‹è½½, æŒç»­æ›´æ–°","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"IDEA ä¸­VIMé…ç½®æ–‡ä»¶ideavimrcæ–‡ä»¶æ— æ³•æ‰“å¼€é—®é¢˜","slug":"IDE/IDEA ä¸­VIMé…ç½®æ–‡ä»¶ideavimrcæ–‡ä»¶æ— æ³•æ‰“å¼€é—®é¢˜","date":"2022-03-11T16:33:00.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2022/03/12/IDE/IDEA ä¸­VIMé…ç½®æ–‡ä»¶ideavimrcæ–‡ä»¶æ— æ³•æ‰“å¼€é—®é¢˜/","link":"","permalink":"http://zhoumoon.github.io/2022/03/12/IDE/IDEA%20%E4%B8%ADVIM%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6ideavimrc%E6%96%87%E4%BB%B6%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E9%97%AE%E9%A2%98/","excerpt":"","text":"IDEA ä¸­VIMé…ç½®æ–‡ä»¶ideavimrcæ–‡ä»¶æ— æ³•æ‰“å¼€é—®é¢˜ ä»Šå¤©ç¼–è¾‘ .ideavimrc æ–‡ä»¶ä¸­çªç„¶åœ¨ideaä¸­æ²¡æœ‰é«˜äº®æ˜¾ç¤º,å½“å°è¯•å…³é—­æ–‡ä»¶é‡æ–°æ‰“æ—¶çªç„¶æ— æ³•æ‰“å¼€äº†!! IDEA ä¸­æ— æ³•æ‰“å¼€ é…ç½®ä¾æ—§ç”Ÿæ•ˆ è§£å†³æ–¹æ³• ä¿®æ”¹IDEAé…ç½® æ‰“å¼€è®¾ç½®: Settings -&gt; Editor -&gt; File Type æ–°å¢æ–‡ä»¶ç±»å‹: File name patterns -&gt; æ·»åŠ  *.ideavimrc æ–‡ä»¶ç±»å‹ ä¿å­˜æ”¶å·¥ é—®é¢˜åŸå› çŒœæƒ³ .ideavimrcæ–‡ä»¶åœ¨IDEçœ‹æ¥æ˜¯ä¸€ä¸ªæ²¡æœ‰å‘½åæ–‡ä»¶è€Œå·²,æ‰€ä»¥æ— æ³•æ‰“å¼€ å¯èƒ½æ˜¯ä¸€ä¸ªæœªçŸ¥bug , å› ä¸ºåœ¨DataGrip(ç‰ˆæœ¬ç¨é«˜) ä¸­å¯ä»¥æ­£å¸¸æ‰“å¼€","categories":[],"tags":[{"name":"IDE","slug":"IDE","permalink":"http://zhoumoon.github.io/tags/IDE/"}]},{"title":"ç¬¬å››è¯¾ åå¸¸è¯†!","slug":"MoneyManagement/ç¬¬å››è¯¾-åå¸¸è¯†!","date":"2022-01-21T15:58:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2022/01/21/MoneyManagement/ç¬¬å››è¯¾-åå¸¸è¯†!/","link":"","permalink":"http://zhoumoon.github.io/2022/01/21/MoneyManagement/%E7%AC%AC%E5%9B%9B%E8%AF%BE-%E5%8F%8D%E5%B8%B8%E8%AF%86!/","excerpt":"","text":"ç¬¬å››è¯¾ åå¸¸è¯†! è‚¡ç¥¨æŠ•èµ„é¿å‘æŒ‡å— ä»€ä¹ˆæ˜¯è‚¡ç¥¨ è‚¡ç¥¨ï¼ˆstockï¼‰æ˜¯è‚¡ä»½å…¬å¸æ‰€æœ‰æƒçš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯å‘è¡Œçš„æ‰€æœ‰æƒå‡­è¯ï¼Œæ˜¯è‚¡ä»½å…¬å¸ä¸ºç­¹é›†èµ„é‡‘è€Œå‘è¡Œç»™å„ä¸ªè‚¡ä¸œä½œä¸ºæŒè‚¡å‡­è¯å¹¶å€Ÿä»¥å–å¾—è‚¡æ¯å’Œçº¢åˆ©çš„ä¸€ç§æœ‰ä»·è¯åˆ¸ã€‚ è‚¡ç¥¨æ˜¯å¦‚ä½•èµšé’±çš„ è·å¾—è‚¡æ¯å’Œçº¢åˆ©çš„æƒåˆ©(æ ¸å¿ƒ) è½¬è®©æƒ(è·å¾—ä»·å·®æ”¶ç›Š) å‚åŠ è‚¡ä¸œå¤§ä¼šçš„æƒåˆ© çŸ¥æƒ…æƒ(è´¢åŠ¡ä¿¡æ¯åŠé‡å¤§äº‹é¡¹) è¡Œä½¿è¡¨å†³æƒ è‚¡ç¥¨æŠ•èµ„é¿å‘æŒ‡å— è·Ÿé£ä»ä¼— æŒæ¡å¥½æŠ€èƒ½æœ‰è‡ªå·±çš„æ ‡å‡† æŠ•æœºé¢„æµ‹ ä¸é¢„æµ‹ä»·æ ¼åªå…³æ³¨å…¬å¸æœ¬èº« ä»·æ ¼æš´è·Œ æŒæ¡å¥½æŠ€èƒ½æ— æƒ§ä»·æ ¼æ¶¨è·Œ æé—® ã€æé—®ã€‘ï¼šè‚¡ç¥¨çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ ä¹°è‚¡ç¥¨ï¼Œå°±æ˜¯ä¹°çš„ä¼ä¸šçš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥åªè¦è¿™å®¶å…¬å¸åœ¨ä¸æ–­ç›ˆåˆ©ï¼Œä¸æ–­æˆé•¿ï¼Œé‚£æˆ‘ä»¬æŠ•èµ„ä»–å°±ä¼šè·å¾—è¾ƒé«˜çš„æ”¶ç›Š ã€æé—®ã€‘ï¼šé€‰æ‹©å¥½å…¬å¸æ€»å…±å‡ ä¸ªæ­¥éª¤ï¼Ÿ â‘ ç†è´¢çš„åº•å±‚é€»è¾‘ã€å¯Œäººæ€ç»´ â‘¡è‚¡ç¥¨çš„æµ·é€‰ â‘¢ç²¾é€‰å‡ºå¥½å…¬å¸ â‘£è´¢åŠ¡æŠ¥è¡¨åˆ†æ â‘¤ä¼ä¸šåˆ†æ â‘¥è®¡ç®—å¥½ä»·æ ¼ â‘¦åˆ¶å®šä¹°è¿›æ ‡å‡† â‘§åˆ¶å®šæŒæœ‰æ ‡å‡† â‘¨åˆ¶å®šå–å‡ºæ ‡å‡†ç­‰ ã€æé—®ã€‘ï¼šå¦‚æœèƒ½å­¦ä¼šç†è´¢æŠ€èƒ½ï¼Œä½ æ„¿æ„ä»˜å‡ºå¤šé•¿æ—¶é—´ï¼Ÿ ç¬¬ä¸€ï¼Œä¹°è‚¡ç¥¨å°±æ˜¯ä¹°ä¼ä¸š ç¬¬äºŒï¼Œè‚¡ç¥¨çš„èµšé’±é€»è¾‘æ˜¯åˆ†çº¢+ä»·å·® è´¢æŠ¥åˆ†æ=åˆ¤æ–­ä¸€ä¸ªå…¬å¸çš„è¿‡å» ä¼ä¸šåˆ†æ=åˆ¤æ–­ä¸€ä¸ªå…¬å¸çš„æœªæ¥ ç‰›å¸‚,æ˜¯æŠ•èµ„äºæŸçš„é‡è¦åŸå›  æœ¬æ°æ˜Â·æ ¼é›·å„å§† å½“åˆ«äººè´ªå©ªæ—¶,ä½ å°±è¯¥ææƒ§,å½“åˆ«äººææƒ§æ—¶,ä½ å°±è¯¥è´ªå©ª â€” æ²ƒä¼¦Â·å·´éç‰¹","categories":[],"tags":[{"name":"ç†è´¢","slug":"ç†è´¢","permalink":"http://zhoumoon.github.io/tags/%E7%90%86%E8%B4%A2/"}]},{"title":"ç¬¬ä¸‰è¯¾ æ¡é’±çš„ç§˜ç±","slug":"MoneyManagement/ç¬¬ä¸‰è¯¾-æ¡é’±çš„ç§˜ç±","date":"2022-01-19T11:58:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2022/01/19/MoneyManagement/ç¬¬ä¸‰è¯¾-æ¡é’±çš„ç§˜ç±/","link":"","permalink":"http://zhoumoon.github.io/2022/01/19/MoneyManagement/%E7%AC%AC%E4%B8%89%E8%AF%BE-%E6%8D%A1%E9%92%B1%E7%9A%84%E7%A7%98%E7%B1%8D/","excerpt":"","text":"ç¬¬ä¸‰è¯¾ æ¡é’±çš„ç§˜ç± å¯èƒ½å¤šèµšåƒå…ƒçš„ç†è´¢æ–¹æ³• æ”¶ç›Šç‡æå‡8å€+ è´§å¸åŸºé‡‘(å¦‚: ä½™é¢å®) è´§å¸åŸºé‡‘æ˜¯èšé›†ç¤¾ä¼šé—²æ•£èµ„é‡‘ï¼Œç”±åŸºé‡‘ç®¡ç†äººè¿ä½œï¼ŒåŸºé‡‘æ‰˜ç®¡äººä¿ç®¡èµ„é‡‘çš„ä¸€ç§å¼€æ”¾å¼åŸºé‡‘ï¼Œä¸“é—¨æŠ•å‘é£é™©å°çš„è´§å¸å¸‚åœºå·¥å…·ï¼ŒåŒºåˆ«äºå…¶ä»–ç±»å‹çš„å¼€æ”¾å¼åŸºé‡‘ï¼Œå…·æœ‰é«˜å®‰å…¨æ€§ã€é«˜æµåŠ¨æ€§ã€ç¨³å®šæ”¶ç›Šæ€§ï¼Œå…·æœ‰â€œå‡†å‚¨è“„â€çš„ç‰¹å¾ã€‚ æ”¶ç›Š: 2.4% ä½™é¢å® (å½“å‰æ—¶é—´: 2022-01-20 0:27 å‘¨å››) åˆ©ç”¨ä¿¡ç”¨å¡åˆç†æ¶ˆè´¹, å‘äº†å·¥èµ„ä»¥åå…ˆæŠŠå·¥èµ„æ”¾åœ¨è´§å¸åŸºé‡‘ä¸Šï¼ˆä¸ä½¿ç”¨å·¥èµ„å’Œç°é‡‘æ¶ˆè´¹ï¼‰ æ³¨æ„: è´­ä¹°è´§å¸åŸºé‡‘çš„æ—¶é—´èŒƒå›´: å‘¨ä¸€ 00:00 ~ å‘¨å›› 14:59 æ”¶ç›Šè¾ƒå¥½ æ¯å¹´å¤šèµšå‡ åƒå—é’± å›½å€ºé€†å›è´­ å€ºåˆ¸==å€Ÿæ¡ ä¸æ±‚é«˜æ”¶ç›Š,ä½†æ±‚ä¸æµªè´¹ è‹è‡è…¿å†å°ä¹Ÿæ˜¯è‚‰ åªè¦è¯åˆ¸è´¦æˆ·æœ‰é’±,å¤©å¤©åš,å…»æˆä¹ æƒ¯ è´¢å•†é«˜çš„ä½“ç° æ”¶ç›Š: 2.5% å·¦å³æ”¶ç›Š, å‘¨æœŸä¸€å¤©å·¦å³ è™½ç„¶æ”¶ç›Šä¸å¤š,ä½†ä¹Ÿä¸å¿…å«Œå°‘ æ³¨æ„: æœ€å¥½åœ¨èŠ‚å‡æ—¥å‰ä¸¤å¤©è´­å…¥ æ‰“æ–°å€ºã€å¯è½¬å€º æ‰“æ–°å€º:æ‰“æ–°å€ºï¼Œç»æµæœ¯è¯­ï¼Œæ„æ€æ˜¯æŒ‡åœ¨å€ºåˆ¸å‹åŸºé‡‘äº§å“åˆšå‘è¡Œçš„æ—¶å€™ï¼Œå‘è¡Œçš„ä»·æ ¼æ¯”è¾ƒä½ï¼Œè¿™æ—¶å€™æŠ•èµ„è€…ç”³è´­æ–°å‘è¡Œçš„å€ºåˆ¸å«åšæ‰“æ–°å€º æ”¶ç›Š: è¿æ°”å¥½æœ‰ä¸é”™çš„æ”¶ç›Š, 200~400 æœªä¸­ä¸äº§ç”Ÿä»»ä½•è´¹ç”¨ æ³¨æ„: ä¸­ç­¾ååŠæ—¶è®¤ç¼´,è¶…å‡ºä¸‰æ¬¡ä¸è®¤ç¼´ä»Šåå¾ˆéš¾å†ä¸­ç­¾ å¯è½¬å€º:å¯è½¬æ¢å€ºåˆ¸æ˜¯å€ºåˆ¸æŒæœ‰äººå¯æŒ‰ç…§å‘è¡Œæ—¶çº¦å®šçš„ä»·æ ¼å°†å€ºåˆ¸è½¬æ¢æˆå…¬å¸çš„æ™®é€šè‚¡ç¥¨çš„å€ºåˆ¸ å¯è½¬æ¢å€ºåˆ¸æ˜¯å¯è½¬æ¢å…¬å¸å€ºåˆ¸çš„ç®€ç§°ï¼Œåˆç®€ç§°å¯è½¬å€ºï¼Œæ˜¯ä¸€ç§å¯ä»¥åœ¨ç‰¹å®šæ—¶é—´ã€æŒ‰ç‰¹å®šæ¡ä»¶è½¬æ¢ä¸ºæ™®é€šè‚¡ç¥¨çš„ç‰¹æ®Šä¼ä¸šå€ºåˆ¸ã€‚å¯è½¬æ¢å€ºåˆ¸å…¼å…·å€ºæƒå’Œè‚¡æƒçš„ç‰¹å¾ã€‚ å·¥å…· å¸¸ç”¨ç†è´¢è®¡ç®—å™¨ï¼ˆå¾®æ·¼è´¢å•†æ•™è‚²ï¼‰ å¼€æ”¾å¼åŸºé‡‘æ”¶ç›Šè®¡ç®—å™¨ å¥½ä¹°åŸºé‡‘å¯¹æ¯”å·¥å…· æé—® ã€æé—®ã€‘ï¼šä¿¡ç”¨å¡è–…ç¾Šæ¯›åˆ°åº•æ€ä¹ˆè–…å‘¢ï¼Ÿæ˜¯è®©å¤§å®¶ç›´æ¥æŠŠé’±åˆ·å‡ºæ¥æ”¾åˆ°è´§å¸åŸºé‡‘å—ï¼Ÿ å‘äº†å·¥èµ„ä»¥åå…ˆæŠŠå·¥èµ„æ”¾åœ¨è´§å¸åŸºé‡‘ä¸Šï¼ˆä¸ä½¿ç”¨å·¥èµ„å’Œç°é‡‘æ¶ˆè´¹ï¼‰ åˆ©ç”¨ä¿¡ç”¨å¡çš„é’±ç”¨äºç”Ÿæ´»æ”¯å‡º,åœ¨å®ƒçš„å…æ¯æœŸé—´æŠŠé’±è¿˜ä¸Šï¼Œå› ä¸ºä¿¡ç”¨å¡æ˜¯å…ˆæ¶ˆè´¹ï¼Œåè¿˜æ¬¾çš„æ‰€ä»¥è¿™ä¸ªæ–¹æ³•å®Œå…¨å¯è¡Œ ã€æé—®ã€‘ï¼šå›½å€ºé€†å›è´­ä»€ä¹ˆæ—¶å€™ä¹°æ”¶ç›Šç‡é«˜ï¼Ÿ ç›®å½•: æ¯å¹´å¤šèµšå‡ åƒå—é’± : å›½å€ºæ”¶ç›Š æˆåŠŸçš„ç§˜è¯€æœ‰3æ¡: ç¬¬ä¸€, å°½é‡è§„é¿é£é™©,ä¿ä½æœ¬é‡‘ ç¬¬äºŒ, å°½é‡è§„é¿é£é™©,ä¿ä½æœ¬é‡‘ ç¬¬äºŒ, åšå†³ç‰¢è®°ç¬¬ä¸€å’Œç¬¬äºŒæ¡ â€” æ²ƒä¼¦Â·å·´éç‰¹","categories":[],"tags":[{"name":"ç†è´¢","slug":"ç†è´¢","permalink":"http://zhoumoon.github.io/tags/%E7%90%86%E8%B4%A2/"}]},{"title":"ç¬¬äºŒè¯¾ æ»šé›ªçƒ","slug":"MoneyManagement/ç¬¬äºŒè¯¾-æ»šé›ªçƒ","date":"2022-01-18T12:13:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2022/01/18/MoneyManagement/ç¬¬äºŒè¯¾-æ»šé›ªçƒ/","link":"","permalink":"http://zhoumoon.github.io/2022/01/18/MoneyManagement/%E7%AC%AC%E4%BA%8C%E8%AF%BE-%E6%BB%9A%E9%9B%AA%E7%90%83/","excerpt":"","text":"ç¬¬äºŒè¯¾: æ»šé›ªçƒ ä»ä¸€ä¸‡åˆ°100ä¸‡çš„ç†è´¢æ³•åˆ™ å¤åˆ©çš„æ­£å‘ä½œç”¨ å•åˆ©: åªæœ‰æœ¬é‡‘ç®—åˆ©æ¯ç®€çš„ç´¯åŠ  å¤åˆ©: åˆ©æ»šåˆ©, çº¸èƒ½å¯¹æŠ˜13æ¬¡å—? sum=mÃ—(1+e)tsum = m Ã— (1 + e)^tsum=mÃ—(1+e)t sum = æœ€ç»ˆæ”¶ç›Š m = æœ¬é‡‘ e = æ”¶ç›Šç‡ t = æ—¶é—´ å¤åˆ©çš„åå‘ä½œç”¨ é€šè´§è†¨èƒ€: è´§å¸è´¬å€¼ã€ç‰©ä»·ä¸Šæ¶¨ åªè¦ç»å†åœ¨æŒç»­å‘å±•é€šè´§è†¨èƒ€å¦‚å½±éšå½¢ CPI â€“ å±…æ°‘ä»·æ ¼æ¶ˆè´¹æŒ‡æ•° é£é™©â‰ æ”¶ç›Š å†³å®šé£é™©å’Œæ”¶ç›Šå¤§å°çš„ä¸æ˜¯å·¥å…·,è€Œæ˜¯ç†è´¢æŠ€èƒ½ èƒ½åŠ›è¶Šå¼º,é£é™©è¶Šå° æŠ•èµ„çš„çµé­‚æœ‰ä¸¤éƒ¨åˆ† æŠ•èµ„çš„çµé­‚å¤åˆ© æ‹¥æœ‰å¤åˆ©çš„èƒ½åŠ› è·‘èµ¢é€šèƒ€ æ¯å¹´èµ„äº§æœ€å°‘å¢åŠ 10% å¦‚ä½•æ‹¥æœ‰äººç”Ÿçš„ç¬¬ä¸€ä¸ª100ä¸‡ è®¡åˆ’è´¢å¯Œäººç”Ÿ æé—® ã€æé—®ã€‘ä»¥ä¸Š3ä¸ªå› ç´ æœ¬é‡‘ã€æ—¶é—´ã€æ”¶ç›Šç‡ï¼Œå¯¹äºæˆ‘ä»¬æ¥è¯´å“ªä¸ªæ˜¯å¯ä»¥å¿«é€Ÿæ”¹å˜ã€ä¹Ÿæ˜¯æœ€å…³é”®çš„å› ç´ å‘¢ï¼Ÿ æ”¶ç›Šç‡ ç›®å½•: å¤åˆ©çš„æ­£å‘ä½œç”¨å…¬å¼ ã€æé—®ã€‘æ”¶ç›Šè¶Šé«˜ï¼Œé£é™©å°±è¶Šé«˜ï¼Œè¿™å¥è¯å¯¹ä¹ˆï¼Ÿ ä¸å¯¹ ä½é£é™©â‰ ä½æ”¶ç›Š é«˜é£é™©â‰ é«˜æ”¶ç›Š ç§ä¸€æ£µæ ‘æœ€å¥½çš„æ—¶é—´æ˜¯10å¹´å‰å…¶æ¬¡å°±æ˜¯ç°åœ¨","categories":[],"tags":[{"name":"ç†è´¢","slug":"ç†è´¢","permalink":"http://zhoumoon.github.io/tags/%E7%90%86%E8%B4%A2/"}]},{"title":"ç¬¬ä¸€è¯¾ è´¢åŠ¡ä½“æ£€","slug":"MoneyManagement/ç¬¬ä¸€è¯¾-è´¢åŠ¡ä½“æ£€","date":"2022-01-17T13:53:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2022/01/17/MoneyManagement/ç¬¬ä¸€è¯¾-è´¢åŠ¡ä½“æ£€/","link":"","permalink":"http://zhoumoon.github.io/2022/01/17/MoneyManagement/%E7%AC%AC%E4%B8%80%E8%AF%BE-%E8%B4%A2%E5%8A%A1%E4%BD%93%E6%A3%80/","excerpt":"","text":"ç¬¬ä¸€è¯¾: è´¢åŠ¡ä½“éªŒ çœ‹é€äººç”Ÿç©·å¯Œçš„å…³é”® ä»€ä¹ˆæ˜¯ç†è´¢ å‡¡æ˜¯æ¶‰åŠåˆ°è·Ÿé’±æœ‰å…³çš„å®‰æ’,éƒ½æ˜¯ç†è´¢ ä»€ä¹ˆæ˜¯èµ„äº§ ä¸€åˆ‡å¯ä»¥å–é’±çš„ä¸œè¥¿éƒ½æ˜¯èµ„äº§ ç”Ÿé’±èµ„äº§: æ˜¯èƒ½æŒç»­ç»™ä½ å¸¦æ¥å‡€ç°é‡‘æµå…¥çš„èµ„äº§ï¼Œé‚£æ¯”å¦‚è¯´ä½ ä¹°äº†ä¸€ä¸ªä¼šæŒç»­åˆ†çº¢çš„æŒ‡æ•°åŸºé‡‘ï¼Œä»–ä¼šå®šæœŸç»™ä½ åˆ†çº¢ï¼Œé‚£å®ƒå°±å±äºç”Ÿé’±èµ„äº§ è€—é’±èµ„äº§: æ˜¯æŒ‡æŒç»­èƒ½ç»™ä½ å¸¦æ¥å‡€ç°é‡‘æµå‡ºçš„èµ„äº§ï¼Œæ¯”å¦‚è¯´ä½ ä¹°äº†ä¸€è¾†ç§å®¶è½¦ï¼Œæ¯ä¸ªæœˆéƒ½è¦å‡ºæ²¹é’±ä¿å…»è´¹ï¼Œæœ‰æ—¶å€™è¿˜æœ‰ç»´ä¿®è´¹ç­‰ç­‰ï¼Œè¿™å°±å±äºè€—é’±èµ„äº§ å…¶ä»–èµ„äº§: æ˜¯æ—¢ä¸å¸¦æ¥ç°é‡‘æµå…¥ä¹Ÿä¸å¸¦æ¥ç°é‡‘æµå‡ºçš„èµ„äº§ï¼Œæ¯”å¦‚é»„é‡‘ æ€ä¹ˆåšå¯ä»¥è´¢åŠ¡è‡ªç”± è´¢åŠ¡è‡ªç”±: å®¶åº­éå·¥èµ„æ”¶å…¥ &gt; ç”Ÿæ´»ä¹‹å‡º åŒºåˆ†æ”¯å‡º å¥½æ”¯å‡º: ä¼šè®©ä½ è¶Šæ¥è¶Šå¯Œæœ‰èŠ‚çœæ›´å¤šé’±æˆ–å¸¦æ¥æ›´å¤šé’± åæ”¯å‡º: ä¼šè®©ä½ è¶Šæ¥è¶Šç©·ç”±äºè™šè£å¿ƒäº§ç”Ÿçš„éå¿…è¦æ”¯å‡º å¯Œäººçš„ä¸¤ä¸ªç§˜å¯† ç”Ÿé’±èµ„äº§å æ€»èµ„äº§çš„80%ä»¥ä¸Š å¥½æ”¯å‡ºå æ€»æ”¯å‡ºçš„80%ä»¥ä¸Š æé—® ã€æé—®ã€‘ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šç†è´¢==æŠ•èµ„ï¼Œè¿™å¥è¯å¯¹ä¸å¯¹ï¼Ÿ è®°ä½ï¼ç†è´¢å¹¶ä¸ç­‰äºæŠ•èµ„ï¼ŒæŠ•èµ„åªæ˜¯ç†è´¢çš„ä¸€éƒ¨åˆ† ã€æé—®ã€‘å­¦ä¼šç†ï¿¥è´¢åï¼Œæˆ‘ä»¬è¦å­¦ä¼šç”¨ã€ä¸‰å¤§ç±»å‹çš„èµ„äº§ã€‘å»åˆ†ç±»æˆ‘ä»¬æ‰‹é‡Œçš„èµ„äº§ï¼Œä¸‰å¤§èµ„äº§åˆ†åˆ«æ˜¯å“ªä¸‰ä¸ªï¼Ÿ ç›®å½•: ä»€ä¹ˆæ˜¯èµ„äº§ ã€æé—®ã€‘å¦‚æœæƒ³å˜å¯Œï¼Œè¦å¤šæ‹¥æœ‰å“ªç§ç±»å‹çš„èµ„äº§ï¼Ÿ ç”Ÿé’±èµ„äº§ + å¥½æ”¯å‡º äººä¸€ç”Ÿèƒ½ç§¯ç´¯å¤šå°‘è´¢å¯Œ,ä¸å–å†³äºèƒ½èµšå¤šå°‘é’±,è€Œå–å†³äºå¦‚ä½•ç†è´¢.é’±æ‰¾é’±èƒœè¿‡äººæ‰¾äºº,è¦æ‡‚å¾—è®©é’±ä¸ºä½ å·¥ä½œ,è€Œä¸æ˜¯ä½ ä¸ºé’±å·¥ä½œ â€” æ²ƒä¼¦Â·å·´éç‰¹","categories":[],"tags":[{"name":"ç†è´¢","slug":"ç†è´¢","permalink":"http://zhoumoon.github.io/tags/%E7%90%86%E8%B4%A2/"}]},{"title":"çº¿ä¸Šé—®é¢˜-å¹¶å‘å¼•èµ·çš„ä¼˜æƒ åˆ¸è¶…å‘é—®é¢˜","slug":"Work/ä¼˜æƒ åˆ¸åˆ†å‘å¹¶å‘é—®é¢˜è®°å½•","date":"2021-12-22T16:33:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2021/12/23/Work/ä¼˜æƒ åˆ¸åˆ†å‘å¹¶å‘é—®é¢˜è®°å½•/","link":"","permalink":"http://zhoumoon.github.io/2021/12/23/Work/%E4%BC%98%E6%83%A0%E5%88%B8%E5%88%86%E5%8F%91%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/","excerpt":"","text":"é—®é¢˜ çº¿ä¸Šå•†å“ä¼˜æƒ åˆ¸è¶…å‘ ä¸€ä¸ªç”¨æˆ·é™é¢†ä¸€å¼ ç»“æœå‘äº†ä¸‰å¼ ,è€Œä¸”ä¸æ­¢ä¸€ä¸ªç”¨æˆ· èµ·å›  åŒäº‹ç»†å¿ƒå‘ç°çº¿ä¸Šæœ‰éƒ¨åˆ†ç”¨æˆ·ä¼˜æƒ åˆ¸å±…ç„¶è¶…å‘äº†,å¦‚æœæ²¡å‘ç°å¯æƒ³è€ŒçŸ¥ã€‚æ„Ÿè°¢æ„Ÿè°¢ å¼€å§‹å¤„ç† ç¡®è®¤è¶…å‘æ•°é‡ã€å¿«é€Ÿæ‹‰é€šè§£å†³æ–¹æ¡ˆ åˆæ­¥å®šä½é—®é¢˜åŸå› : å®šæ—¶ä»»åŠ¡è·‘å…¨é‡æ­£åœ¨ç”Ÿæ•ˆçš„ä¼˜æƒ åˆ¸,ç»™æœªåˆ†å‘åˆ°çš„ç”¨æˆ·æˆ–ç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·è¿›è¡Œæ‰¹é‡åˆ†å‘æ“ä½œ,é€ æˆå¹¶å‘é¢†å–é—®é¢˜ è§£å†³ å¤§è‡´ä¸šåŠ¡æµç¨‹: èšåˆå±‚å®šæ—¶ä»»åŠ¡è§¦å‘å¼€å¯å¤šçº¿ç¨‹RPCè°ƒç”¨ä¼˜æƒ åˆ¸åˆ†å‘æœåŠ¡(åŒèŠ‚ç‚¹) Aæ–¹æ³•æ•°æ®å…ˆæ’å…¥æ•°æ®åº“(åˆ†å‘) Bæ–¹æ³•æ‰§è¡Œæ›´æ–°æ“ä½œ(é¢†å–) ç¬¬ä¸€ç‰ˆ å¹¶å‘é” 123456789101112131415161718192021222324252627282930public class a&#123; public void A()&#123; // å‘æ•°æ®åº“æ’å…¥æ•°æ® // åˆ†å‘ä¼˜æƒ åˆ¸ A.installBatch(list); // è°ƒç”¨B,è¿›è¡Œ // é¢†å–ä¼˜æƒ åˆ¸ B.(list); &#125;&#125;public class b&#123; public void B(List&lt;A&gt; list))&#123; // è·å–é” RLock lock = redissonClient.getLock(KEY); try &#123; // è®¾ç½®æ—¶é—´ lock.lock(2, TimeUnit.SECONDS); // åˆ¤æ–­ä¼˜æƒ é¢†å–æ•°é‡æ˜¯å¦è¾¾åˆ°ä¸Šé™ // é¢†å–ä¼˜æƒ åˆ¸ update(list); // åˆ›å»ºå®šæ—¶ä»»åŠ¡ // ...... &#125; catch (Exception e) &#123; log.error(e); &#125;finally &#123; // é‡Šæ”¾é” lock.unlock(); &#125; &#125;&#125; ç”¨ä»¥ä¸Šæ–¹å¼å¯ä»¥é¡ºåˆ©åŠ é”(ä¼˜æƒ åˆ¸ID+ç”¨æˆ·IDåšä¸º redis KEY), ä½†æ˜¯åœ¨æµ‹è¯•ä¸­è¿˜æ˜¯ä¼šå‡ºç°å¹¶å‘é—®é¢˜, æœªè§£å†³ å…¶å®é”æ²¡æœ‰é—®é¢˜ ç»å…¸å¼€å§‹èµ°å: æ€€ç–‘æ˜¯A çš„äº‹ç‰©æ²¡æäº¤,å¯¼è‡´B æŸ¥è¯¢æœ‰é—®é¢˜ åœ¨æ–¹æ³•B å¼€å¯æ–°äº‹ç‰©@Transactional(propagation = Propagation.REQUIRES_NEW) ,ç»“æœä¸€å¼ éƒ½é¢†ä¸ä¸Šäº†,åå‘è§£bugå±äºæ˜¯ ç„¶åæƒ³æ˜¯ä¸æ˜¯Açš„äº‹ç‰©æ²¡æäº¤å¯¼è‡´Bå¼€æ–°äº‹ç‰©ä¹ŸæŸ¥ä¸åˆ°å‘€, ç„¶åæ‰‹åŠ¨æäº¤Açš„äº‹ç‰©è¿˜æ˜¯ä¸è¡Œ,å¥‡æ€ªäº†,ç®€ç›´åœ¨é”™è¯¯çš„è·¯ä¸Šè¶Šèµ°è¶Šè¿œäº†â€¦ ç»“è®º å…¶å®åˆ†å‘ä¼˜æƒ åˆ¸çš„å¹¶å‘æ˜¯æ¥è‡ªäºèšåˆå±‚å¤šçº¿ç¨‹è°ƒç”¨æ–¹æ³•A,ä¸”å¯èƒ½åŒæ—¶å°†è°ƒç”¨ä¸¤ä¸ªæœåŠ¡, å¯¼è‡´æ— æ³•ä¿è¯&quot;åˆ¤æ–­ä¼˜æƒ åˆ¸é¢†å–ä¸Šé™&quot;æŸ¥è¯¢æ˜¯æ­£ç¡®æ•°æ®, é€ æˆä¼˜æƒ æ•°é‡åˆ¤æ–­å¼‚å¸¸,ä¼˜æƒ åˆ¸è¶…å‘,åªèƒ½è¶…ä¸èƒ½å°‘é‚£ç§â€¦å”‰ ç¬¬äºŒç‰ˆ å¹¶å‘é”+ä¼˜æƒ åˆ¸æ•°é‡åŸå­è‡ªå¢(Redis) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647public class a&#123; public void A()&#123; // å‘æ•°æ®åº“æ’å…¥æ•°æ® // åˆ†å‘ä¼˜æƒ åˆ¸ A.installBatch(list); // è°ƒç”¨B,è¿›è¡Œ // é¢†å–ä¼˜æƒ åˆ¸ B.(list); &#125;&#125;public class b&#123; public void B(List&lt;A&gt; list))&#123; // è·å–é” RLock lock = redissonClient.getLock(KEY); try &#123; // è®¾ç½®æ—¶é—´ lock.lock(2, TimeUnit.SECONDS); // å¦‚æœæ•°é‡ä¸ºç©º,è®¾ç½®å€¼ Object numValue = redisService.get(numKey.toString()); // ç”¨æˆ·å‰©ä½™å¯é¢†å–æ•°é‡ int maxNum = 0; if (Validator.empty(numValue)) &#123; // ä¼˜æƒ åˆ¸è®¾ç½®é™é¢†ï¼Œåˆ¤æ–­ç”¨æˆ·é¢†å–æ•°é‡ // è·å–ç”¨æˆ·ä¼˜æƒ åˆ¸é¢†å–æ•°é‡ maxNum = å¯é¢†å–æ•° - å·²é¢†å–æ•°; // åˆå§‹åŒ–redisä¼˜æƒ åˆ¸åˆ†å‘æ•°æ® redisService.increment(numKey.toString(), maxNum, TWO_MINUTE); &#125; &#125; else &#123; maxNum = Integer.parseInt(numValue.toString()); &#125; // åˆ¤æ–­ä¼˜æƒ é¢†å–æ•°é‡æ˜¯å¦è¾¾åˆ°ä¸Šé™ // é¢†å–ä¼˜æƒ åˆ¸ update(list); // åŸå­è‡ªå¢-1 redisService.increment(numKey.toString(), -1, TWO_MINUTE); // åˆ›å»ºå®šæ—¶ä»»åŠ¡ // ...... &#125; catch (Exception e) &#123; log.error(e); &#125;finally &#123; // é‡Šæ”¾é” lock.unlock(); &#125; &#125;&#125; å†™åœ¨æœ€å å¯¹ä¸šåŠ¡å’Œæ•°æ®æ•æ„Ÿåº¦è¿˜æ˜¯ä¸å¤Ÿ æ¯”å•çº¿ç¨‹é€»è¾‘æ›´å¤æ‚æ’æŸ¥é—®é¢˜éš¾ ä¸ºä¿è¯æœ€ç»ˆæ•°æ®ä¸€è‡´æ€§,ä»˜å‡ºçš„ä»£ä»·æ˜¯å·¨å¤§çš„","categories":[],"tags":[{"name":"Work","slug":"Work","permalink":"http://zhoumoon.github.io/tags/Work/"}]},{"title":"Git ç¨€ç–æ£€å‡º","slug":"Git/Gitç¨€ç–æ£€å‡º","date":"2021-11-09T23:12:22.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2021/11/10/Git/Gitç¨€ç–æ£€å‡º/","link":"","permalink":"http://zhoumoon.github.io/2021/11/10/Git/Git%E7%A8%80%E7%96%8F%E6%A3%80%E5%87%BA/","excerpt":"","text":"ç¨€ç–æ£€å‡º-ä½¿ç”¨gitæ£€ç´¢å‡ºä»“åº“é‡Œçš„æŸä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œè€Œä¸æ˜¯æ•´ä¸ªä»“åº“çš„æ‰€æœ‰æ–‡ä»¶ å…·ä½“å·¥ä½œæ„ä¹‰æ˜¯ä»æŸä¸€ä¸ªGitä»“åº“ å…‹éš†æ—¶ï¼Œåªå…‹éš†æ£€æµ‹å‡ºè¿™ä¸ªä»“åº“é‡Œçš„æŸäº›æ–‡ä»¶å¤¹å†…å®¹ï¼Œè€Œä¸æ˜¯è·Ÿå¹³å¸¸é‚£æ ·æŠŠæ•´ä¸ªä»“åº“çš„å†…å®¹éƒ½å…‹éš†ä¸‹æ¥ ä»1.7.0ç‰ˆæœ¬å¼€å§‹gitæä¾›ç¨€ç–æ£€å‡ºçš„åŠŸèƒ½ã€‚æ‰€è°“ç¨€ç–æ£€å‡ºå°±æ˜¯æœ¬åœ°ç‰ˆæœ¬åº“æ£€å‡ºæ—¶ä¸æ£€å‡ºå…¨éƒ¨ï¼Œåªå°†æŒ‡å®šçš„æ–‡ä»¶ä»æœ¬åœ°ç‰ˆæœ¬åº“æ£€å‡ºåˆ°å·¥ä½œåŒºï¼Œè€Œå…¶ä»–æœªæŒ‡å®šçš„æ–‡ä»¶åˆ™ä¸äºˆæ£€å‡ºï¼ˆå³ä½¿è¿™äº›æ–‡ä»¶å­˜åœ¨äºå·¥ä½œåŒºï¼Œå…¶ä¿®æ”¹ä¹Ÿä¼šè¢«å¿½ç•¥ï¼‰ã€‚ æ£€æŸ¥Gitç‰ˆæœ¬ åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå¦‚ä¸‹å‘½ä»¤ git --version æ¯”å¦‚ä¿è¯gitçš„ç‰ˆæœ¬å¤§äº1.7.0ï¼Œè¿™é‡Œä»¥ git version 1.8.3.1ä½œä¸ºæ¼”ç¤ºã€‚ åˆ›å»ºä»“åº“å­˜æ”¾ç›®å½• mkdir swoole-src-examples &amp;&amp; cd swoole-src-examples åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œè¿™é‡Œä»¥swoole-src-exampleï¼Œå¹¶ä¸”ä½¿ç”¨cdå‘½ä»¤è¿›å…¥åˆ°ç›®å½•ä¸­ã€‚ åˆå§‹åŒ–ä»“åº“ æ‰§è¡Œåˆå§‹åŒ–ä»“åº“çš„å‘½ä»¤ git init æ·»åŠ è¿œç¨‹ä»“åº“åœ°å€ git remote add origin https://github.com/swoole/swoole-src.git ä½¿ç”¨Sparse checkoutæ¨¡å¼ ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å…è®¸configä¸­ä½¿ç”¨Sparse checkoutæ¨¡å¼ã€‚ git config core.sparsecheckout true é…ç½®è¦æ£€å‡ºçš„ç›®å½•æˆ–æ–‡ä»¶ å°†è¦æ£€å‡ºçš„ç›®å½•æˆ–æ–‡ä»¶ä½¿ç”¨æ–‡ä»¶è¿½åŠ çš„å½¢å¼å†™å…¥åˆ°gitçš„é…ç½®.git/info/sparse-checkoutæ–‡ä»¶ä¸­ï¼Œå…è®¸æ·»åŠ å¤šè¡Œã€‚ echo â€œexamples/*â€ &gt;&gt; .git/info/sparse-checkout å¤šæ¬¡æ·»åŠ é…ç½®åï¼Œé€šè¿‡cat .git/info/sparse-checkoutå‘½ä»¤æŸ¥çœ‹æœ€ç»ˆæ·»åŠ çš„ç›®å½•æˆ–è€…æ–‡ä»¶ã€‚ ä»è¿œç¨‹å°†ç›®æ ‡ç›®å½•æˆ–æ–‡ä»¶æ‹‰å–ä¸‹æ¥ å½“ä»“åº“è¿˜æ˜¯ç©ºç™½çš„æƒ…å†µä¸‹ï¼Œé¦–æ¬¡éœ€è¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ä»è¿œç¨‹å°†é…ç½®çš„ç›®å½•æˆ–è€…æ–‡ä»¶æ‹‰å–åˆ°æœ¬åœ°ã€‚ git pull origin master å¯¹é…ç½®å¢åˆ æ”¹åé‡æ–°è·å–ä»£ç  åœ¨å¯¹é…ç½®æ–‡ä»¶.git/info/sparse-checkoutçš„å†…å®¹è¿›è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œä¹‹åï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤é‡æ–°ä¿®æ­£ç›®å½•å’Œæ–‡ä»¶ã€‚ git checkout","categories":[],"tags":[{"name":"Git","slug":"Git","permalink":"http://zhoumoon.github.io/tags/Git/"}]},{"title":"ä¿®æ”¹é”®ç›˜æ˜ å°„ - Deepin Wiki","slug":"Linux/ä¿®æ”¹é”®ç›˜æ˜ å°„-deepin_Wiki","date":"2021-11-09T23:12:22.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2021/11/10/Linux/ä¿®æ”¹é”®ç›˜æ˜ å°„-deepin_Wiki/","link":"","permalink":"http://zhoumoon.github.io/2021/11/10/Linux/%E4%BF%AE%E6%94%B9%E9%94%AE%E7%9B%98%E6%98%A0%E5%B0%84-deepin_Wiki/","excerpt":"","text":"ä¿®æ”¹é”®ç›˜æ˜ å°„ - Deepin Wiki æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¯¹é”®ç›˜ä¸Šçš„ä¸€äº›æŒ‰é”®ï¼ˆå¦‚Ctrlã€Altï¼‰è¿›è¡Œæ˜ å°„ï¼Œä»¥ä¾¿é€‚åº”ä¸åŒç”¨æˆ·çš„éœ€æ±‚ï¼Œè¿™æ—¶å¯ä»¥å€ŸåŠ© gsettings å‘½ä»¤æ¥è°ƒæ•´ç³»ç»Ÿè®¾ç½®ã€‚ æŸ¥çœ‹å½“å‰é”®ç›˜æ˜ å°„ æŸ¥çœ‹æ‰€æœ‰æ˜ å°„ 1localectl list-x11-keymap-options æŸ¥çœ‹ä¸ CapsLock é”®æœ‰å…³çš„æ˜ å°„ 1localectl list-x11-keymap-options | grep caps: ä¿®æ”¹é”®ç›˜æ˜ å°„ è¿™é‡Œä»¥è°ƒæ•´ CapsLockï¼ˆå¤§å†™é”å®šï¼‰çš„æ˜ å°„ä¸ºä¾‹ã€‚Vimç”¨æˆ·å¯èƒ½å¸Œæœ›å°†CapsLockä¸Escé”®äº¤æ¢ï¼Œä»è€Œèƒ½æ–¹ä¾¿åœ°ä½¿ç”¨å«æœ‰Escçš„ç»„åˆé”®ã€‚ æ³¨æ„ï¼Œä»¥ä¸‹å‘½ä»¤ä¼šç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯ç³»ç»Ÿã€‚ å–æ¶ˆæŒ‰ä¸‹ CapsLock æ—¶çš„ osd æç¤ºæ¡† 12gsettings set com.deepin.dde.keybinding.mediakey capslock &#x27;[]&#x27; äº¤æ¢ CapsLockä¸Escé”® 1gsettings set com.deepin.dde.keyboard layout-options &#x27;[&quot;caps:swapescape&quot;]&#x27; ç¦ç”¨ CapsLock é”® 1gsettings set com.deepin.dde.keyboard layout-options &#x27;[&quot;caps:none&quot;]&#x27; æ¢å¤ CapsLock é”®çš„åŸå…ˆè®¾ç½® å¯ä»¥å•ç‹¬æŒ‡å®š CapsLock é”®çš„è®¾ç½®ä¸ºé»˜è®¤å€¼ï¼š 123gsettings reset com.deepin.dde.keybinding.mediakey capslockgsettings reset com.deepin.dde.keyboard layout-options ä¹Ÿå¯ä»¥ä½¿æ•´ä¸ªé”®ç›˜çš„å¸ƒå±€æ¢å¤ä¸ºé»˜è®¤è®¾ç½®ï¼š 123gsettings reset-recursively com.deepin.dde.keybinding.mediakeygsettings reset-recursively com.deepin.dde.keyboard å‚è€ƒèµ„æ–™ How to change capslock and other keymapping in deepin linux","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"æŸ¥çœ‹Linuxç«¯å£å ç”¨ï¼Œå¹¶killæ‰ç›¸å…³è¿›ç¨‹","slug":"Linux/æŸ¥çœ‹Linuxç«¯å£å ç”¨ï¼Œå¹¶killæ‰ç›¸å…³è¿›ç¨‹","date":"2021-11-09T23:12:22.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2021/11/10/Linux/æŸ¥çœ‹Linuxç«¯å£å ç”¨ï¼Œå¹¶killæ‰ç›¸å…³è¿›ç¨‹/","link":"","permalink":"http://zhoumoon.github.io/2021/11/10/Linux/%E6%9F%A5%E7%9C%8BLinux%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%EF%BC%8C%E5%B9%B6kill%E6%8E%89%E7%9B%B8%E5%85%B3%E8%BF%9B%E7%A8%8B/","excerpt":"","text":"æŸ¥çœ‹Linuxç«¯å£å ç”¨ï¼Œå¹¶killæ‰ç›¸å…³è¿›ç¨‹ lsof å‘½ä»¤ 1lsof -i:8080 netstat å‘½ä»¤ 12æŸ¥çœ‹å ç”¨ç«¯å£è¿›ç¨‹çš„PIDï¼šnetstat -tunlp|grep 8080 ps 1234ps -ef | grep &#123;programName&#125;kill -9 &#123;PID&#125;# æŸ¥çœ‹è¯¦ç»†å†…å­˜å ç”¨ps aux -u root | grep &#123;programName&#125; pgrep 12pgrep &#123;programName&#125;kill -9 &#123;PID&#125;","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"ä» Vim æ‰§è¡Œ Bash ä¸­çš„å½“å‰è¡Œè¡ŒåŒ¹é…å­—ç¬¦","slug":"vim/Vimæ‰§è¡ŒBashä¸­çš„å½“å‰è¡Œ","date":"2021-11-02T07:53:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2021/11/02/vim/Vimæ‰§è¡ŒBashä¸­çš„å½“å‰è¡Œ/","link":"","permalink":"http://zhoumoon.github.io/2021/11/02/vim/Vim%E6%89%A7%E8%A1%8CBash%E4%B8%AD%E7%9A%84%E5%BD%93%E5%89%8D%E8%A1%8C/","excerpt":"","text":"ä» Vim æ‰§è¡Œ Bash ä¸­çš„å½“å‰è¡Œ 123.w !bashè¿™é‡Œ . (wå‰çš„éƒ¨åˆ†)æŒ‡çš„æ˜¯ä½ å†™çš„è¡Œçš„èŒƒå›´ï¼Œ. åªæ˜¯å½“å‰è¡Œ.ç„¶åä½ ä½¿ç”¨ !bash å°†è¿™äº›è¡Œå†™å…¥ Bash Stack Overflowç±»ä¼¼é—®é¢˜","categories":[],"tags":[{"name":"Vim","slug":"Vim","permalink":"http://zhoumoon.github.io/tags/Vim/"}]},{"title":"Windows10_å¦‚ä½•è·å–æœ€é«˜ç®¡ç†å‘˜æƒé™","slug":"Windows/Windows10_å¦‚ä½•è·å–æœ€é«˜ç®¡ç†å‘˜æƒé™","date":"2021-06-15T14:17:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2021/06/15/Windows/Windows10_å¦‚ä½•è·å–æœ€é«˜ç®¡ç†å‘˜æƒé™/","link":"","permalink":"http://zhoumoon.github.io/2021/06/15/Windows/Windows10_%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E6%9C%80%E9%AB%98%E7%AE%A1%E7%90%86%E5%91%98%E6%9D%83%E9%99%90/","excerpt":"","text":"Windows10 å¦‚ä½•è·å–æœ€é«˜ç®¡ç†å‘˜æƒé™ ä½¿ç”¨Windows10çš„æ—¶å€™å¸¸å¸¸å‘ç°æˆ‘ä»¬æ²¡æœ‰ç®¡ç†å‘˜æƒé™ï¼Œè¿™å¯¹æˆ‘ä»¬ä½¿ç”¨é€ æˆäº†å·¨å¤§éº»çƒ¦ã€‚ä»Šå¤©æˆ‘æ¥åˆ†äº«ä¸€ä¸‹ win10é‡Œé¢æ€ä¹ˆè·å–æœ€é«˜ç®¡ç†å‘˜æƒé™ã€‚ ï¼ˆä¸€ï¼‰Windows10ä¸“ä¸šç‰ˆ/ä¼ä¸šç‰ˆ/æ•™è‚²ç‰ˆæ–¹æ³• 1ï¼ŒæŒ‰ä¸‹win+Ré”®å”¤å‡ºâ€œè¿è¡Œâ€çª—å£ï¼Œè¾“å…¥gpedit.msc 2ï¼Œè¿™æ—¶æ‰“å¼€äº†ç»„ç­–ç•¥ç¼–è¾‘å™¨ï¼Œåœ¨å·¦è¾¹æ‰¾åˆ°â€œè®¡ç®—æœºé…ç½®-Windows è®¾ç½®â€ï¼Œå†è¿›å…¥å³è¾¹â€œå®‰å…¨è®¾ç½®â€ï¼Œå¦‚å›¾ã€‚ 3ï¼Œè¿›å…¥â€œæœ¬åœ°ç­–ç•¥â€ï¼Œå¦‚å›¾ã€‚ 4ï¼Œè¿›å…¥â€œå®‰å…¨é€‰é¡¹â€ï¼Œå¦‚å›¾ã€‚ 5ï¼Œå‘ä¸‹æ»‘ï¼Œæ‰¾åˆ°â€œç”¨æˆ·è´¦æˆ·æ§åˆ¶ï¼šä»¥ç®¡ç†å‘˜æ‰¹å‡†æ¨¡å¼è¿è¡Œæ‰€æœ‰ç®¡ç†å‘˜â€å’Œâ€œç”¨æˆ·è´¦æˆ·æ§åˆ¶ï¼šç”¨äºå†…ç½®ç®¡ç†å‘˜è´¦æˆ·çš„ç®¡ç†å‘˜æ‰¹å‡†æ¨¡å¼â€è¿™ä¸¤é¡¹ï¼Œå¦‚å›¾ã€‚ 6ï¼Œåˆ†åˆ«é€‰ä¸­å¹¶ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œå†ç‚¹å‡»â€œå±æ€§â€ï¼Œè¿›å…¥é…ç½®çª—å£ï¼Œå°†è¿™ä¸¤é¡¹éƒ½åˆ†åˆ«è®¾ç½®ä¸ºâ€œå·²ç¦ç”¨â€ï¼Œå†ç‚¹å‡»â€œç¡®å®šâ€ï¼Œå¦‚å›¾ã€‚ 7ï¼Œé‡å¯ç”µè„‘ï¼Œæ“ä½œå®Œæˆï¼","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"http://zhoumoon.github.io/tags/Windows/"}]},{"title":"æ·»åŠ Windows_terminalåˆ°å³é”®èœå•","slug":"Windows/æ·»åŠ Windows_terminalåˆ°å³é”®èœå•","date":"2021-06-15T14:17:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2021/06/15/Windows/æ·»åŠ Windows_terminalåˆ°å³é”®èœå•/","link":"","permalink":"http://zhoumoon.github.io/2021/06/15/Windows/%E6%B7%BB%E5%8A%A0Windows_terminal%E5%88%B0%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95/","excerpt":"","text":"æ·»åŠ Windows terminalåˆ°å³é”®èœå• å¯ä»¥é‡‡ç”¨ä¸‹é¢çš„æ­¥éª¤å°†Windows terminalæ·»åŠ åˆ°é¼ æ ‡å³é”®èœå•æ–¹ä¾¿è°ƒç”¨ã€‚ åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå°†å…¶å‘½åä¸ºwt.reg ä»¥æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ï¼Œè¾“å…¥ä»¥ä¸‹æ–‡æœ¬å†…å®¹å¹¶ä¿å­˜ 12345[HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\wt]@=&quot;Windows terminal here&quot;&quot;Icon&quot; = &quot;C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\terminal\\\\wt_32.ico&quot;[HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\wt\\command]@=&quot;C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps\\\\wt.exe&quot; æ³¨æ„æ›¿æ¢æ–‡ä»¶è·¯å¾„ä¸­çš„ç”¨æˆ·åï¼ˆå¦‚ä¸Šé¢çš„Administratorï¼Œæ›¿æ¢ä¸ºè‡ªå·±çš„ï¼‰ã€‚ é¼ æ ‡åŒå‡»è¿è¡Œæ–‡ä»¶wt.regä¿®æ”¹æ³¨å†Œè¡¨é¡¹ åœ¨ä»»æ„å·¥ä½œè·¯å¾„ä¸‹ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºå¯ä»¥çœ‹åˆ°èœå•é¡¹Windows terminal hereï¼Œç‚¹å‡»å¯è¿›å…¥Windows terminalã€‚ ç›¸åŒçš„åŸç†å¯ä»¥å°†ä¸€äº›å¸¸ç”¨è½¯ä»¶æ”¾åˆ°å³é”®èœå•ä¸­è¿›è¡Œå¯åŠ¨ï¼Œå¦‚ä¸‹é¢å°†Fluent 2020R2åŠWorkbench 2020R2æ”¾åˆ°å³é”®èœå•ä¸­ã€‚ 12345678910111213Windows Registry Editor Version 5.00[HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\Fluent 2020R2]@=&quot;Open Fluent 2020R2&quot;&quot;Icon&quot; = &quot;D:\\\\Program Files\\\\ANSYS Inc\\\\v202\\\\fluent\\\\ntbin\\\\win64\\\\fluent.exe&quot;[HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\Fluent 2020R2\\command]@=&quot;D:\\\\Program Files\\\\ANSYS Inc\\\\v202\\\\fluent\\\\ntbin\\\\win64\\\\fluent.exe&quot;[HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\Workbench 2020R2]@=&quot;ANSYS Workbench 2020R2&quot;&quot;Icon&quot; = &quot;D:\\\\Program Files\\\\ANSYS Inc\\\\v202\\\\Framework\\\\bin\\\\Win64\\\\RunWB2.exe&quot;[HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\Workbench 2020R2\\command]@=&quot;D:\\\\Program Files\\\\ANSYS Inc\\\\v202\\\\Framework\\\\bin\\\\Win64\\\\RunWB2.exe&quot;","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"http://zhoumoon.github.io/tags/Windows/"}]},{"title":"Vim å¤šè¡ŒåŒ¹é…å­—ç¬¦\"\\_.","slug":"vim/Vimå¤šè¡ŒåŒ¹é…å­—ç¬¦","date":"2021-06-12T07:53:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2021/06/12/vim/Vimå¤šè¡ŒåŒ¹é…å­—ç¬¦/","link":"","permalink":"http://zhoumoon.github.io/2021/06/12/vim/Vim%E5%A4%9A%E8%A1%8C%E5%8C%B9%E9%85%8D%E5%AD%97%E7%AC%A6/","excerpt":"","text":"Vim å¤šè¡ŒåŒ¹é…å­—ç¬¦&quot;\\_.&quot; viå¹³æ—¶æˆ‘ä»¬ä½¿ç”¨çš„åŒ¹é…å­—ç¬¦&quot;.&quot;ä¸èƒ½å¤ŸåŒ¹é…æ¢è¡Œç¬¦å·ï¼Œæ‰€ä»¥æˆ‘ä»¬æ²¡æ³•ä½¿ç”¨å®ƒè¿›è¡Œè·¨è¡ŒåŒ¹é…ã€‚ å¦‚æœ‰ä»¥ä¸‹æ•°æ®ï¼šæˆ‘ä»¬æƒ³æŸ¥æ‰¾æ‰€æœ‰åœ¨åŸå¸‚ä¸ºbeijing,å¹´é¾„ä¸º18å²çš„äººã€‚ 1234567891011121314151617name: Acity: beijingage: 18name:Bcity:shanghaiage:15name: Ccity: beijingage:18 æ­¤æ—¶&quot;.&quot;å°±æ— èƒ½ä¸ºåŠ›ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ \\_.\\&#123;-&#125;(éè´ªå©ª) 1/citi: beijing\\_.*age:18 éè´ªå©ª 1/citi: beijing\\_.\\&#123;-&#125;age:18 åŒ¹é…ä¸ªæ•° 1:%s/citi: beijing\\_.\\&#123;-&#125;age:18//gn","categories":[],"tags":[{"name":"Vim","slug":"Vim","permalink":"http://zhoumoon.github.io/tags/Vim/"}]},{"title":"Vim æå–åˆ é™¤åŒ¹é…è¡Œçš„æ–¹æ³•","slug":"vim/Vimæå–åˆ é™¤åŒ¹é…è¡Œçš„æ–¹æ³•","date":"2021-06-12T04:53:00.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2021/06/12/vim/Vimæå–åˆ é™¤åŒ¹é…è¡Œçš„æ–¹æ³•/","link":"","permalink":"http://zhoumoon.github.io/2021/06/12/vim/Vim%E6%8F%90%E5%8F%96%E5%88%A0%E9%99%A4%E5%8C%B9%E9%85%8D%E8%A1%8C%E7%9A%84%E6%96%B9%E6%B3%95/","excerpt":"","text":"Vim æå–åˆ é™¤åŒ¹é…è¡Œçš„æ–¹æ³• 12:g/&#123;pattern&#125;/d &quot;åˆ é™¤åŒ¹é…è¡Œ:v/&#123;pattern&#125;/d &quot;ä¿ç•™åŒ¹é…è¡Œ","categories":[],"tags":[{"name":"Vim","slug":"Vim","permalink":"http://zhoumoon.github.io/tags/Vim/"}]},{"title":"dockerå¯¼å…¥å¯¼å‡ºé•œåƒ","slug":"Linux/dockerå¯¼å…¥å¯¼å‡ºé•œåƒ","date":"2020-08-13T13:15:21.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2020/08/13/Linux/dockerå¯¼å…¥å¯¼å‡ºé•œåƒ/","link":"","permalink":"http://zhoumoon.github.io/2020/08/13/Linux/docker%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA%E9%95%9C%E5%83%8F/","excerpt":"","text":"saveå’ŒexportåŒºåˆ«ï¼š docker saveä¿å­˜çš„æ˜¯é•œåƒ(image),docker exportä¿å­˜çš„æ˜¯å®¹å™¨(container); docker loadç”¨æ¥è½½å…¥é•œåƒåŒ…,docker importç”¨æ¥è½½å…¥å®¹å™¨åŒ…,ä½†ä¸¤è€…éƒ½ä¼šæ¢å¤ä¸ºé•œåƒ; docker loadä¸èƒ½å¯¹è½½å…¥çš„é•œåƒé‡å‘½å,è€Œdocker importå¯ä»¥ä¸ºé•œåƒæŒ‡å®šæ–°åç§°ã€‚ ä¿å­˜(Save) 123456# ä¿ç•™åŸé•œåƒçš„åç§°å’Œæ ‡ç­¾docker save &lt;IMAGE NAME&gt;:&lt;IMAGE TAG&gt; &gt; save.tar# ä¸ä¿ç•™åŸé•œåƒçš„åŸºæœ¬ä¿¡æ¯,åŠ è½½loadåéœ€æ‰§è¡Œtagå‘½ä»¤é‡å‘½ånoneé•œåƒdocker save &lt;IMAGE ID&gt; &gt; save.tar ç¤ºåˆ—: 1234docker save elasticsearch:7.1.1 &gt; elasticsearch-7.1.1.tar# æˆ–docker save b0cb1543380d &gt; elasticsearch-7.1.1.tar åŠ è½½(Load) 12docker load &lt; save.tar ç¤ºåˆ—: 12docker load &lt; elasticsearch-7.1.1.tar å¯¼å‡º(Export) 12docker export &lt;CONTAINER ID&gt; &gt; export.tar ç¤ºåˆ—: 12docker export b0cb1543380d &gt; elasticsearch-7.1.1.tar å¯¼å…¥(Import) 12docker import export.tar &lt;IMAGE NAME&gt;:&lt;IMAGE TAG&gt; ç¤ºåˆ—: 12docker import elasticsearch-7.1.1.tar elasticsearch:7.1.1 æäº¤(Commit) ä½¿ç”¨commitå‘½ä»¤å¯ä»¥æŠŠä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨å˜æˆä¸€ä¸ªæ–°çš„é•œåƒã€‚ 12docker commit &lt;CONTAINER ID&gt; &lt;IMAGE NAME&gt;:&lt;IMAGE TAG&gt; ç¤ºåˆ—: 12docker commit b0cb1543380d elasticsearch:latest é—®é¢˜(None) dockeråŠ è½½æ–°çš„é•œåƒårepositoryå’Œtagåç§°éƒ½ä¸ºnoneçš„è§£å†³æ–¹æ³• 123REPOSITORY TAG IMAGE ID CREATED SIZE&lt;none&gt; &lt;none&gt; b0cb1543380d 2 months ago 847MB æ–¹æ¡ˆ 12docker tag &lt;IMAGE ID&gt; &lt;IMAGE NAME&gt;:&lt;IMAGE TAG&gt; ç¤ºåˆ—: 12docker tag b0cb1543380d elasticsearch:7.1.1 æœ¬æ–‡è½¬è‡ª https://juejin.cn/post/6844903905881505800ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚","categories":[],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://zhoumoon.github.io/tags/Docker/"}]},{"title":"Docker rediså®‰è£…_å¹¶é…ç½®è¿œç¨‹è¿æ¥","slug":"Linux/Docker rediså®‰è£…_å¹¶é…ç½®è¿œç¨‹è¿æ¥","date":"2020-08-12T12:12:01.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2020/08/12/Linux/Docker rediså®‰è£…_å¹¶é…ç½®è¿œç¨‹è¿æ¥/","link":"","permalink":"http://zhoumoon.github.io/2020/08/12/Linux/Docker%20redis%E5%AE%89%E8%A3%85_%E5%B9%B6%E9%85%8D%E7%BD%AE%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/","excerpt":"","text":"ã€Dockerã€‘rediså®‰è£… å¹¶é…ç½®è¿œç¨‹è¿æ¥ è·å– redis é•œåƒ 123docker search redisdocker pull redis:latestdocker images åˆ›å»ºå®¹å™¨ åˆ›å»ºå®¿ä¸»æœº redis å®¹å™¨çš„æ•°æ®å’Œé…ç½®æ–‡ä»¶ç›®å½• 123# è¿™é‡Œæˆ‘ä»¬åœ¨ /home/docker ä¸‹åˆ›å»ºmkdir /home/docker/redis/&#123;conf,data&#125; -pcd /home/docker/redis è·å– redis çš„é»˜è®¤é…ç½®æ¨¡ç‰ˆ 123456789# è·å– redis çš„é»˜è®¤é…ç½®æ¨¡ç‰ˆ# è¿™é‡Œä¸»è¦æ˜¯æƒ³è®¾ç½®ä¸‹ redis çš„ log / password / appendonly# redis çš„ docker è¿è¡Œå‚æ•°æä¾›äº† --appendonly yes ä½†æ²¡ passwordwget https://raw.githubusercontent.com/antirez/redis/4.0/redis.conf -O conf/redis.conf# ç›´æ¥æ›¿æ¢ç¼–è¾‘sed -i &#x27;s/logfile &quot;&quot;/logfile &quot;access.log&quot;/&#x27; conf/redis.confsed -i &#x27;s/# requirepass foobared/requirepass 123456/&#x27; conf/redis.confsed -i &#x27;s/appendonly no/appendonly yes/&#x27; conf/redis.conf# è¿™é‡Œå¯èƒ½è¿˜éœ€é…ç½®ä¸€äº› bind protected-mode åˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªåä¸º myredis çš„å®¹å™¨ 12345678910111213141516# åˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªåä¸º myredis çš„å®¹å™¨docker run \\-p 6379:6379 \\-v $PWD/data:/data \\-v $PWD/conf/redis.conf:/etc/redis/redis.conf \\--privileged=true \\--name myredis \\-d redis redis-server /etc/redis/redis.conf# å‘½ä»¤åˆ†è§£docker run \\-p 6379:6379 \\ # ç«¯å£æ˜ å°„ å®¿ä¸»æœº:å®¹å™¨-v $PWD/data:/data:rw \\ # æ˜ å°„æ•°æ®ç›®å½• rw ä¸ºè¯»å†™-v $PWD/conf/redis.conf:/etc/redis/redis.conf:ro \\ # æŒ‚è½½é…ç½®æ–‡ä»¶ ro ä¸ºreadonly--privileged=true \\ # ç»™ä¸ä¸€äº›æƒé™--name myredis \\ # ç»™å®¹å™¨èµ·ä¸ªåå­—-d redis redis-server /etc/redis/redis.conf # deamon è¿è¡Œå®¹å™¨ å¹¶ä½¿ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨å®¹å™¨å†…çš„ redis-server æŸ¥çœ‹æ´»è·ƒçš„å®¹å™¨ 12345678# æŸ¥çœ‹æ´»è·ƒçš„å®¹å™¨docker ps# å¦‚æœæ²¡æœ‰ myredis è¯´æ˜å¯åŠ¨å¤±è´¥ æŸ¥çœ‹é”™è¯¯æ—¥å¿—docker logs myredis# æŸ¥çœ‹ myredis çš„ ip æŒ‚è½½ ç«¯å£æ˜ å°„ç­‰ä¿¡æ¯docker inspect myredis# æŸ¥çœ‹ myredis çš„ç«¯å£æ˜ å°„docker port myredis æˆ–è€…ä½¿ç”¨ shell ç™»å½•å®¹å™¨å†…æ“ä½œ 1docker exec -it myredis bash redis-cli é…ç½®å¤–ç½‘å¯ä»¥è®¿é—®ï¼š æ›´æ”¹redis.conf æ–‡ä»¶ 12bind 127.0.0.1protected-mode yes æ›´æ”¹ä¸º 12# bind 127.0.0.1protected-mode no","categories":[],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://zhoumoon.github.io/tags/Docker/"}]},{"title":"Spring Bootè¯»å–é…ç½®çš„5ç§æ–¹å¼","slug":"Java/Spring_Bootè¯»å–é…ç½®çš„5ç§æ–¹å¼","date":"2019-12-16T13:41:02.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2019/12/16/Java/Spring_Bootè¯»å–é…ç½®çš„5ç§æ–¹å¼/","link":"","permalink":"http://zhoumoon.github.io/2019/12/16/Java/Spring_Boot%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E7%9A%845%E7%A7%8D%E6%96%B9%E5%BC%8F/","excerpt":"","text":"Spring Bootè¯»å–é…ç½®çš„5ç§æ–¹å¼ è¯»å–applicationæ–‡ä»¶ åœ¨application.ymlæˆ–è€…propertiesæ–‡ä»¶ä¸­æ·»åŠ ï¼š 12345info.address=USAinfo.company=Springinfo.degree=high @Valueæ³¨è§£è¯»å–æ–¹å¼ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657import org.springframework.beans.factory.annotation.Value;import org.springframework.stereotype.Component;`@Component`public class InfoConfig1 &#123;@Value(&quot;$&#123;info.address&#125;&quot;)private String address;@Value(&quot;$&#123;info.company&#125;&quot;)private String company;@Value(&quot;$&#123;info.degree&#125;&quot;)private String degree;public String getAddress() &#123;return address;&#125;public void setAddress(String address) &#123;this.address = address;&#125;public String getCompany() &#123;return company;&#125;public void setCompany(String company) &#123;this.company = company;&#125;public String getDegree() &#123;return degree; &#125;public void setDegree(String degree) &#123;this.degree = degree;&#125;&#125; @ConfigurationPropertiesæ³¨è§£è¯»å–æ–¹å¼ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849@Component@ConfigurationProperties(prefix = &quot;info&quot;)public class InfoConfig2 &#123;private String address;private String company;private String degree;public String getAddress() &#123;return address;&#125;public void setAddress(String address) &#123;this.address = address;&#125;public String getCompany() &#123;return company;&#125;public void setCompany(String company) &#123;this.company = company;&#125;public String getDegree() &#123;return degree;&#125;public void setDegree(String degree) &#123;this.degree = degree;&#125;&#125; è¯»å–æŒ‡å®šæ–‡ä»¶ èµ„æºç›®å½•ä¸‹å»ºç«‹config/db-config.properties: 123456789101112131415161718192021222324252627282930313233343536373839404142434445db.username=rootdb.password=123456&gt; ### @PropertySource+@Valueæ³¨è§£è¯»å–æ–¹å¼`@Component`@PropertySource(value = &#123; &quot;config/db-config.properties&quot; &#125;)public class DBConfig1 &#123;@Value(&quot;$&#123;db.username&#125;&quot;)private String username;@Value(&quot;$&#123;db.password&#125;&quot;)private String password;public String getUsername() &#123;return username;&#125;public void setUsername(String username) &#123;this.username = username;&#125;public String getPassword() &#123;return password;&#125;public void setPassword(String password) &#123;this.password = password;&#125;&#125; æ³¨æ„ï¼š@PropertySourceä¸æ”¯æŒymlæ–‡ä»¶è¯»å–ã€‚ @PropertySource+@ConfigurationPropertiesæ³¨è§£è¯»å–æ–¹å¼ 12345678910111213141516171819202122232425262728293031323334353637@Component@ConfigurationProperties(prefix = &quot;db&quot;)@PropertySource(value = &#123; &quot;config/db-config.properties&quot; &#125;)public class DBConfig2 &#123;private String username;private String password;public String getUsername() &#123;return username;&#125;public void setUsername(String username) &#123;this.username = username;&#125;public String getPassword() &#123;return password;&#125;public void setPassword(String password) &#123;this.password = password;&#125;&#125; Environmentè¯»å–æ–¹å¼ ä»¥ä¸Šæ‰€æœ‰åŠ è½½å‡ºæ¥çš„é…ç½®éƒ½å¯ä»¥é€šè¿‡Environmentæ³¨å…¥è·å–åˆ°ã€‚ 1234567@Autowiredprivate Environment env;// è·å–å‚æ•°`String getProperty(String key); æ€»ç»“ ä»ä»¥ä¸Šç¤ºä¾‹æ¥çœ‹ï¼ŒSpring Bootå¯ä»¥é€šè¿‡@PropertySource,@Value,@Environment,@ConfigurationPropertiesæ¥ç»‘å®šå˜é‡ã€‚","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"Spring Boot é¡¹ç›®è·å–jarç›®å½•","slug":"Java/Spring_Boot_é¡¹ç›®è·å–jarç›®å½•","date":"2019-12-16T12:11:12.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2019/12/16/Java/Spring_Boot_é¡¹ç›®è·å–jarç›®å½•/","link":"","permalink":"http://zhoumoon.github.io/2019/12/16/Java/Spring_Boot_%E9%A1%B9%E7%9B%AE%E8%8E%B7%E5%8F%96jar%E7%9B%AE%E5%BD%95/","excerpt":"","text":"Spring Boot é¡¹ç›®è·å–jarç›®å½• æ–¹å¼ä¸€ï¼šè·å–è¿è¡Œjarç›®å½•(ä¸éœ€è¦è€ƒè™‘åœ¨å“ªè¿è¡Œjar) 12345ApplicationHome home = new ApplicationHome(getClass());File jarFile = home.getSource();jarFile.getParentFile().toString()// file:/D:/WorkSpace/IDEAWorkspace/mapletr4jboot/target æ–¹å¼äºŒï¼šè·å–jarå†…éƒ¨ç›®å½• 123String basePatha1 = ClassUtils.getDefaultClassLoader().getResource(&quot;&quot;).getPath();basePatha1 = URLDecoder.decode(basePatha1, &quot;utf-8&quot;);// file:/D:/WorkSpace/IDEAWorkspace/mapletr4jboot/target/mapletr4jboot-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"SpringBooté¡¹ç›®jarå‘å¸ƒè·å–jaråŒ…æ‰€åœ¨ç›®å½•è·¯å¾„","slug":"Java/SpringBooté¡¹ç›®jarå‘å¸ƒè·å–jaråŒ…æ‰€åœ¨ç›®å½•è·¯å¾„","date":"2019-12-14T17:21:42.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2019/12/15/Java/SpringBooté¡¹ç›®jarå‘å¸ƒè·å–jaråŒ…æ‰€åœ¨ç›®å½•è·¯å¾„/","link":"","permalink":"http://zhoumoon.github.io/2019/12/15/Java/SpringBoot%E9%A1%B9%E7%9B%AEjar%E5%8F%91%E5%B8%83%E8%8E%B7%E5%8F%96jar%E5%8C%85%E6%89%80%E5%9C%A8%E7%9B%AE%E5%BD%95%E8%B7%AF%E5%BE%84/","excerpt":"","text":"SpringBooté¡¹ç›®jarå‘å¸ƒè·å–jaråŒ…æ‰€åœ¨ç›®å½•è·¯å¾„ 12345678910111213141516//ç¬¬ä¸€ç§File path = new File(ResourceUtils.getURL(&quot;classpath:&quot;).getPath());if(!path.exists()) path = new File(&quot;&quot;);System.out.println(path.getAbsolutePath());//ç¬¬äºŒç§System.out.println(System.getProperty(&quot;user.dir&quot;));//ç¬¬ä¸‰ç§String path1 = ClassUtils.getDefaultClassLoader().getResource(&quot;&quot;).getPath();System.out.println(URLDecoder.decode(path1, &quot;utf-8&quot;));//ç¬¬å››ç§String path2 = ResourceUtils.getURL(&quot;classpath:&quot;).getPath();System.out.println(path2);//ç¬¬äº”ç§ApplicationHome h = new ApplicationHome(getClass());File jarF = h.getSource();System.out.println(jarF.getParentFile().toString()); è¿™å‡ ç§è·å–é¡¹ç›®ç›®å½•çš„æ–¹å¼ä¸­ï¼Œå…¶ä¸­ï¼š ç¬¬ä¸€ç§ã€ç¬¬äºŒç§å¾—åˆ°çš„ç»“æœä¸€è‡´ ç¬¬ä¸‰ç§ã€ç¬¬å››ç§å¾—åˆ°çš„ç»“æœä¸€è‡´ ä½†æ˜¯ï¼Œä¸åŒçš„è¿è¡Œæ–¹å¼ï¼Œä»–ä»¬çš„ç»“æœæ˜¯æœ‰åå·®çš„ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸åŒæƒ…å†µä¸‹ä¾æ¬¡æ‰“å°çš„è·¯å¾„æ˜¯ä»€ä¹ˆã€‚ å…ˆçœ‹ä¸‹ç›´æ¥åœ¨ideaä¸­è¿è¡Œmainæ–¹æ³•å¯åŠ¨é¡¹ç›®æ—¶å€™ï¼Œæ‰“å°çš„è·¯å¾„ï¼Œæ˜¾ç¤ºå¦‚ä¸‹ï¼š å†çœ‹ä¸‹æ‰“åŒ…æˆjaråŒ…ä¸­ï¼Œæ‰“å°çš„è·¯å¾„ ç¬¬ä¸€ç§æ‰§è¡Œæ–¹å¼ æ“ä½œæ–¹å¼ï¼šæ‰“å¼€å‘½ä»¤è¡Œï¼Œç›®å½•åˆ‡æ¢åˆ°jaråŒ…æ‰€åœ¨ç›®å½•ï¼Œç„¶åæ‰§è¡Œ jar -jar å¯åŠ¨å‘½ä»¤ï¼Œæ‰“å°çš„è·¯å¾„å¦‚ä¸‹ï¼š ç¬¬äºŒç§æ‰§è¡Œæ–¹å¼ æ“ä½œæ–¹å¼ï¼šæ‰“å¼€å‘½ä»¤è¡Œï¼Œç›´æ¥java -jar E:/web_pack/bis_exporter-1.0-SANPSHOT.jarï¼Œå³ä¸åˆ‡æ¢åˆ°jaræ‰€åœ¨ç›®å½•ï¼Œè€Œæ˜¯ç›´æ¥æ‰§è¡Œï¼Œæ‰“å°çš„è·¯å¾„å¦‚ä¸‹ï¼š æ˜¯ä¸æ˜¯å‘ç°é—®é¢˜äº†ï¼åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ç§å’Œç¬¬äºŒç§æ–¹å¼æ‰“å°çš„è·¯å¾„æ˜¯ä¸å¯¹çš„ï¼Œä»–æ‰“å°çš„è·¯å¾„å°±æ˜¯å½“å‰æ‰§è¡Œå‘½ä»¤æ—¶æ‰€åœ¨çš„ç›®å½•ã€‚è¿™å°±å¾ˆå®¹æ˜“é€ æˆä¸å¿…è¦çš„bugã€‚ ä¾‹å¦‚ï¼šæˆ‘ä»¬åœ¨jarçš„æ ¹ç›®å½•å†™ä¸€ä¸ªè‡ªå®šä¹‰æ•°æ®é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡ç¬¬ä¸€ç§æˆ–è€…ç¬¬äºŒç§æ–¹å¼è¯»å–æ•°æ®ï¼Œé‚£ä¹ˆä½¿ç”¨è¿œç¨‹æ‰§è¡Œjarçš„æ–¹å¼ï¼Œå°±ä¸€å®šä¼šæŠ¥æ‰¾ä¸åˆ°é…ç½®æ–‡ä»¶çš„é”™è¯¯ã€‚ æ€»ç»“ ç»¼ä¸Šæ‰€è¿°ï¼Œæœ€å¥½ä½¿ç”¨ç¬¬äº”ç§æ–¹æ¡ˆï¼Œè·å–è¿è¡Œjaræ‰€åœ¨çš„ç›®å½•ã€‚ æœ¬æ–‡è½¬è‡ª https://blog.csdn.net/liangcha007/article/details/88526181ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"Spring Cloud é¡¹ç›®æ‰“åŒ…æŠ¥æ²¡æœ‰ä¸»æ¸…å•å±æ€§","slug":"Java/springcloud_é¡¹ç›®æ‰“åŒ…_æŠ¥_æ²¡æœ‰ä¸»æ¸…å•å±æ€§","date":"2019-12-14T16:31:12.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2019/12/15/Java/springcloud_é¡¹ç›®æ‰“åŒ…_æŠ¥_æ²¡æœ‰ä¸»æ¸…å•å±æ€§/","link":"","permalink":"http://zhoumoon.github.io/2019/12/15/Java/springcloud_%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85_%E6%8A%A5_%E6%B2%A1%E6%9C%89%E4%B8%BB%E6%B8%85%E5%8D%95%E5%B1%9E%E6%80%A7/","excerpt":"","text":"Spring Cloud é¡¹ç›®æ‰“åŒ…æŠ¥æ²¡æœ‰ä¸»æ¸…å•å±æ€§ é¡¹ç›®é€šè¿‡MVNæ‰“åŒ…ï¼Œå‘ç°æ‰“åŒ…çš„æ–‡ä»¶å¾ˆå°,å¤§æ¦‚å‡ åKBï¼Œä¼°è®¡æ‰“åŒ…æœ‰é—®é¢˜ï¼Œæ‰§è¡ŒJAVA -JAR çš„æ—¶å€™å‘ç°æœç„¶æŠ¥é”™ï¼ŒæŠ¥ æ²¡æœ‰ä¸»æ¸…å•å±æ€§ï¼Œç½‘ä¸Šæ‰¾äº†ä¸€å †ï¼Œ éƒ½è¯´åŠ  12345678&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt; åŠ äº†ä¹‹åè¿˜æ˜¯æŠ¥ä¸€æ ·çš„é”™è¯¯ï¼Œç»ˆäºåœ¨æœ‰ä¸€ä¸ªç½‘ä¸Šæ‰¾åˆ° 1234567891011121314151617181920212223&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;executions&gt;&lt;execution&gt;&lt;goals&gt;&lt;goal&gt;repackage&lt;/goal&gt;&lt;/goals&gt;&lt;/execution&gt;&lt;/executions&gt;&lt;/plugin&gt;&lt;plugin&gt;&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&lt;configuration&gt;&lt;source&gt;1.8&lt;/source&gt;&lt;target&gt;1.8&lt;/target&gt;&lt;/configuration&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt; è¿™æ ·åŠ äº†ä»¥åï¼Œç”Ÿæˆçš„JARåŒ…æœ‰40å¤šM,æŠŠé¡¹ç›®çš„ä¸€äº›ä¾èµ–åŒ…éƒ½åŠ è½½è¿›æ¥äº†ï¼Œ è¿™æ ·æ‰“åŒ…åçš„æ–‡ä»¶å°±å¯ä»¥ç›´æ¥ç”¨java -jar æ‰§è¡Œäº†","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"Spring Cloud Gatewayè·¨åŸŸé…ç½®","slug":"Java/Spring_Cloud_Gatewayè·¨åŸŸé…ç½®","date":"2019-12-14T16:11:42.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2019/12/15/Java/Spring_Cloud_Gatewayè·¨åŸŸé…ç½®/","link":"","permalink":"http://zhoumoon.github.io/2019/12/15/Java/Spring_Cloud_Gateway%E8%B7%A8%E5%9F%9F%E9%85%8D%E7%BD%AE/","excerpt":"","text":"Spring Cloud Gatewayè·¨åŸŸé…ç½® 1234567891011121314151617181920212223242526272829303132333435/*** é…ç½®è·¨åŸŸ* @return*/@Beanpublic CorsWebFilter corsFilter() &#123;CorsConfiguration config = new CorsConfiguration();// cookieè·¨åŸŸconfig.setAllowCredentials(Boolean.TRUE);config.addAllowedMethod(&quot;*&quot;);config.addAllowedOrigin(&quot;*&quot;);config.addAllowedHeader(&quot;*&quot;);// é…ç½®å‰ç«¯jså…è®¸è®¿é—®çš„è‡ªå®šä¹‰å“åº”å¤´config.addExposedHeader(&quot;setToken&quot;);UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(new PathPatternParser());source.registerCorsConfiguration(&quot;/**&quot;, config);return new CorsWebFilter(source);&#125; é…ç½®ä¸ç”Ÿæ•ˆæ–¹æ³• å®˜æ–¹æ¨èé…ç½® æ³¨æ„ å¦‚æœä¸‹æ¸¸æœåŠ¡ä¹Ÿé…ç½®äº†è·¨åŸŸå¤„ç†ï¼Œä¼šå‘ç”Ÿé…ç½®é‡å¤é€ æˆé”™è¯¯","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"Java åˆ©ç”¨åå°„å°†çˆ¶ç±»å€¼èµ‹ç»™å­ç±»","slug":"Java/Java_åˆ©ç”¨åå°„å°†çˆ¶ç±»å€¼èµ‹ç»™å­ç±»","date":"2019-12-14T15:21:32.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2019/12/14/Java/Java_åˆ©ç”¨åå°„å°†çˆ¶ç±»å€¼èµ‹ç»™å­ç±»/","link":"","permalink":"http://zhoumoon.github.io/2019/12/14/Java/Java_%E5%88%A9%E7%94%A8%E5%8F%8D%E5%B0%84%E5%B0%86%E7%88%B6%E7%B1%BB%E5%80%BC%E8%B5%8B%E7%BB%99%E5%AD%90%E7%B1%BB/","excerpt":"","text":"Java åˆ©ç”¨åå°„å°†çˆ¶ç±»å€¼èµ‹ç»™å­ç±» A.java 1234567891011121314151617181920212223242526272829303132333435import java.io.Serializable;import java.util.Set;public class A implements Serializable &#123; private static final long serialVersionUID = 7315556175038040238L; private String a; private String b; private Set&lt;String&gt; names; public String getA() &#123; return a; &#125; public void setA(String a) &#123; this.a = a; &#125; public String getB() &#123; return b; &#125; public void setB(String b) &#123; this.b = b; &#125; public Set&lt;String&gt; getNames() &#123; return names; &#125; public void setNames(Set&lt;String&gt; names) &#123; this.names = names; &#125;&#125; B.java 123456789101112131415161718192021222324import java.io.Serializable;public class B extends A implements Serializable &#123; private static final long serialVersionUID = 2726509261628857907L; private String c; private String d; public String getC() &#123; return c; &#125; public void setC(String c) &#123; this.c = c; &#125; public String getD() &#123; return d; &#125; public void setD(String d) &#123; this.d = d; &#125;&#125; Demo.java 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253import java.lang.reflect.Field;import java.lang.reflect.Method;import java.util.ArrayList;import java.util.HashSet;import java.util.List;public class Demo &#123; public static void main(String[] args) throws Exception &#123; A a=new A(); B b=new B(); List&lt;String&gt; strings = new ArrayList&lt;&gt;(); strings.add(&quot;111&quot;); strings.add(&quot;2323&quot;); a.setNames(new HashSet&lt;String&gt;(strings)); a.setA(&quot;a&quot;); a.setB(&quot;b&quot;); fatherToChild(a,b); b.getNames().forEach(System.out::println); System.out.println(b.getA()); &#125; public static &lt;T&gt;void fatherToChild(T father,T child) throws Exception &#123; if (child.getClass().getSuperclass()!=father.getClass())&#123; throw new Exception(&quot;child ä¸æ˜¯ father çš„å­ç±»&quot;); &#125; Class&lt;?&gt; fatherClass = father.getClass(); Field[] declaredFields = fatherClass.getDeclaredFields(); for (int i = 0; i &lt; declaredFields.length; i++) &#123; Field field=declaredFields[i]; System.out.println(field.toGenericString()); //é˜²æ­¢åºåˆ—åŒ–å­—æ®µæŠ¥é”™ if(field.toGenericString().contains(&quot;final&quot;))&#123; continue; &#125; Method method=fatherClass.getDeclaredMethod(&quot;get&quot;+upperHeadChar(field.getName())); Object obj = method.invoke(father); field.setAccessible(true); field.set(child,obj); &#125; &#125; /** * é¦–å­—æ¯å¤§å†™ï¼Œin:deleteDateï¼Œout:DeleteDate */ public static String upperHeadChar(String in) &#123; String head = in.substring(0, 1); String out = head.toUpperCase() + in.substring(1, in.length()); return out; &#125;&#125;","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"Nginxçš„405é”™è¯¯","slug":"Java/Nginxçš„405é”™è¯¯","date":"2019-12-14T14:41:32.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2019/12/14/Java/Nginxçš„405é”™è¯¯/","link":"","permalink":"http://zhoumoon.github.io/2019/12/14/Java/Nginx%E7%9A%84405%E9%94%99%E8%AF%AF/","excerpt":"","text":"Nginxçš„405é”™è¯¯ Nginxå°†é™æ€æ–‡ä»¶å“åº”POSTè¯·æ±‚ï¼Œæç¤º405é”™è¯¯é—®é¢˜ï¼š ç»å¤§å¤šæ•°æœåŠ¡å™¨ï¼Œéƒ½ä¸å…è®¸é™æ€æ–‡ä»¶å“åº”POSTè¯·æ±‚(GETè¯·æ±‚é™æ€æ–‡ä»¶æ˜¯å¤©ç»åœ°ä¹‰çš„)ï¼Œå¦åˆ™ä¼šè¿”å›HTTP/1.1 405 Method not allowedé”™è¯¯ã€‚ç„¶è€Œåœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œå‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆç»å¸¸æ¨¡æ‹Ÿåç«¯è¯·æ±‚ï¼Œè¿”å›é™æ€æ•°æ®æ¥æŸ¥çœ‹é¡µé¢æ•ˆæœï¼Œæ€ä¹ˆåŠï¼Ÿ å…¶å®å¾ˆç®€å•ï¼ŒçŸ¥é“404å’Œ50xçš„é”™è¯¯å®šä¹‰å§ï¼Œé‚£ä¹ˆå°±æ˜¯æŠŠ405é‡æ–°å®šä¹‰ä¸€ä¸‹å³å¯ï¼Œå¦‚ä¸‹ï¼š error_page 405 =200 $uri; æµ‹è¯•ç¯å¢ƒå±€éƒ¨é…ç½® 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182server &#123;listen 8443 ssl;server_name test-rebuild.baidu.com;ssl_certificate ca.crt;ssl_certificate_key baidu.com.key;ssl_session_cache shared:SSL:1m;ssl_session_timeout 5m;ssl_ciphers HIGH:!aNULL:!MD5;ssl_prefer_server_ciphers on;access_log /var/log/nginx/test-rebuild.aceess.log main;root /usr/share/nginx/html;index index.html index.htm;error_page 405 =200 $uri; _#è¿™é‡Œ200å†™æˆå…¶ä»–æ•°å­—ä¹Ÿå¯ä»¥ï¼Œæ¯”å¦‚ï¼š255,222ç­‰éƒ½è¡Œï¼Œè‡ªå·±å®šä¹‰çš„ï¼Œå°±200å¥½äº†ã€‚_error_page 404 /404.html;location = /40x.html &#123;&#125;error_page 500 502 503 504 /50x.html;location = /50x.html &#123;&#125;&#125;# å…¶ä»–é…ç½®ç¤ºä¾‹## ç¤ºä¾‹ä¸€[https://gist.github.com/baskaran-md/e46cc25ccfac83f153bb](https://gist.github.com/baskaran-md/e46cc25ccfac83f153bb)**server** &#123;listen 80;server_name localhost;location / &#123;root html;index index.html index.htm;&#125;error_page 404 /404.html;error_page 403 /403.html;_# To allow POST on static pages_error_page 405 =200 $uri;_# ..._&#125;## ç¤ºä¾‹äºŒlocation ~ \\.(action|jsp) &#123;root $testDataFold;error_page 405 =200 $request_uri;&#125;","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"è·å–Servletçš„å“åº”å¹¶ä¿®æ”¹å…¶å†…å®¹","slug":"Java/è·å–Servletçš„å“åº”å¹¶ä¿®æ”¹å…¶å†…å®¹","date":"2019-12-14T14:41:32.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2019/12/14/Java/è·å–Servletçš„å“åº”å¹¶ä¿®æ”¹å…¶å†…å®¹/","link":"","permalink":"http://zhoumoon.github.io/2019/12/14/Java/%E8%8E%B7%E5%8F%96Servlet%E7%9A%84%E5%93%8D%E5%BA%94%E5%B9%B6%E4%BF%AE%E6%94%B9%E5%85%B6%E5%86%85%E5%AE%B9/","excerpt":"","text":"è·å–Servletçš„å“åº”å¹¶ä¿®æ”¹å…¶å†…å®¹ æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦æ‰¹é‡çš„ä¿®æ”¹Servletä¸­çš„å“åº”çš„å†…å®¹ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡HttpServletResponseWrapperè¿™ä¸ªç±»ï¼Œåœ¨Filterä¸­å…ˆè·å–å“åº”çš„å†…å®¹ï¼Œæ¥ç€ä¿®æ”¹å“åº”çš„å†…å®¹ï¼Œæœ€åå†æŠŠä¿®æ”¹å®Œä¹‹åçš„å†…å®¹ä½œä¸ºå“åº”è¿”å›ç»™å®¢æˆ·ç«¯ã€‚ä»£ç å¦‚ä¸‹æ¼”ç¤ºï¼š 1.åˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ªHttpServletResponseWrapperçš„ç±» 12345678910111213141516171819202122232425262728293031323334353637import javax.servlet.http.HttpServletResponse;import javax.servlet.http.HttpServletResponseWrapper;import java.io.CharArrayWriter;import java.io.PrintWriter;/*** Created on 2016/3/29 19:54.*/public class ResponseWrapper extends HttpServletResponseWrapper &#123;private PrintWriter cachedWriter;private CharArrayWriter bufferedWriter;public ResponseWrapper(HttpServletResponse response) &#123;super(response);// è®¾ç½®å“åº”ä½“æ ¼å¼response.setHeader(&quot;Content-type&quot;, &quot;text/json;charset=UTF-8&quot;);// è¿™ä¸ªæ˜¯æˆ‘ä»¬ä¿å­˜è¿”å›ç»“æœçš„åœ°æ–¹bufferedWriter = new CharArrayWriter();// è¿™ä¸ªæ˜¯åŒ…è£…PrintWriterçš„ï¼Œè®©æ‰€æœ‰ç»“æœé€šè¿‡è¿™ä¸ªPrintWriterå†™å…¥åˆ°bufferedWriterä¸­cachedWriter = new PrintWriter(bufferedWriter);&#125;@Overridepublic PrintWriter getWriter() &#123;return cachedWriter;&#125;/*** è·å–åŸå§‹çš„HTMLé¡µé¢å†…å®¹ã€‚** @return*/public String getResult() &#123;return bufferedWriter.toString();&#125;&#125; 2.åœ¨è¿‡æ»¤å™¨ä¸­ä¿®æ”¹å“åº”çš„å†…å®¹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546package cn.iduoka.util.format;import javax.servlet.*;import javax.servlet.annotation.WebFilter;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.io.PrintWriter;/*** Created on 2016/3/29 19:55.*/@WebFilter(filterName = &quot;FormatFilter&quot;, urlPatterns = (&quot;/&quot;))public class FormatFilter implements Filter &#123;@Overridepublic void destroy() &#123;// TODO Auto-generated method stub&#125;@Overridepublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123;// ä½¿ç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„å“åº”åŒ…è£…å™¨æ¥åŒ…è£…åŸå§‹çš„ServletResponseResponseWrapper wrapper = new ResponseWrapper((HttpServletResponse) response);// è¿™å¥è¯éå¸¸é‡è¦ï¼Œæ³¨æ„çœ‹åˆ°ç¬¬äºŒä¸ªå‚æ•°æ˜¯æˆ‘ä»¬çš„åŒ…è£…å™¨è€Œä¸æ˜¯responsechain.doFilter(request, wrapper);// è·å–åˆ°æˆ‘ä»¬æ‰€æˆªè·çš„å€¼ --&gt; åšå¤„ç†ä¹‹å‰æ‰€è·å–åˆ°çš„å€¼String result = wrapper.getResult();// å¯¹è¿”å›çš„ç»“æœåšå¤„ç†æ“ä½œresult = result.replace(&quot;&lt;/html&gt;&quot;, &quot;&lt;div style=&#x27;display: none;&#x27;&gt;hello world&lt;/div&gt;\\n&lt;/html&gt;&quot;);// é‡ç½®å“åº”è¾“å‡ºçš„å†…å®¹é•¿åº¦response.setContentLength(-1);// è¾“å‡ºæœ€ç»ˆçš„ç»“æœ --&gt; åšå®Œå¤„ç†ä¹‹åå†æŠŠè¿™ä¸ªå€¼è¿”å›å›å»PrintWriter out = response.getWriter();out.write(result);out.flush();out.close();&#125;@Overridepublic void init(FilterConfig filterConfig) throws ServletException &#123;// TODO Auto-generated method stub&#125;&#125;","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"è·å–å¹¶æ‰“å°Springå®¹å™¨ä¸­æ‰€æœ‰çš„Beanåç§°","slug":"Java/è·å–å¹¶æ‰“å°Springå®¹å™¨ä¸­æ‰€æœ‰çš„Beanåç§°","date":"2019-12-14T13:51:02.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2019/12/14/Java/è·å–å¹¶æ‰“å°Springå®¹å™¨ä¸­æ‰€æœ‰çš„Beanåç§°/","link":"","permalink":"http://zhoumoon.github.io/2019/12/14/Java/%E8%8E%B7%E5%8F%96%E5%B9%B6%E6%89%93%E5%8D%B0Spring%E5%AE%B9%E5%99%A8%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84Bean%E5%90%8D%E7%A7%B0/","excerpt":"","text":"è·å–å¹¶æ‰“å°Springå®¹å™¨ä¸­æ‰€æœ‰çš„Beanåç§° æ€è·¯ï¼š å®ç°Springçš„ApplicationContextAwareæ¥å£ï¼Œé‡å†™setApplicationContextæ–¹æ³•ï¼Œå°†å¾—åˆ°çš„ApplicationContextå¯¹è±¡ä¿å­˜åˆ°ä¸€ä¸ªé™æ€å˜é‡ä¸­ï¼Œæœ‰äº†è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå°±å¯ä»¥åœ¨é¡¹ç›®çš„ä»»æ„åœ°æ–¹ç”¨å®ƒæ¥å¾—åˆ°ä»»æ„Bean è°ƒç”¨applicationContext.getBeanDefinitionNames()æ–¹æ³•å°±å¯ä»¥æ‹¿åˆ°Springå®¹å™¨ä¸­æ‰€æœ‰çš„Beanåç§°;è¿™é‡Œä¸ºäº†æµ‹è¯•æ–¹ä¾¿å°±ç›´æ¥åœ¨InitializingBean æ¥å£çš„afterPropertiesSetæ–¹æ³•ä¸­æ‰“å°æ‰€æœ‰Beanåç§°;å¯åŠ¨Springå®¹å™¨ï¼Œè§‚å¯Ÿæ§åˆ¶å°å³å¯çœ‹åˆ°æ‰“å°ç»“æœï¼Œæ‰“å°Springå®¹å™¨ä¸­æ‰€æœ‰Beanåœ¨é¡¹ç›®è°ƒè¯•çš„æ—¶å€™å¾ˆæœ‰ç”¨ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081import org.springframework.beans.BeansException;import org.springframework.beans.factory.InitializingBean;import org.springframework.context.ApplicationContext;import org.springframework.context.ApplicationContextAware;import org.springframework.stereotype.Component;/*** æ‰“å°Springå®¹å™¨æ‰€æœ‰çš„Beanåç§°** @author syj*/@Componentpublic class ApplicationContextBean implements ApplicationContextAware, InitializingBean &#123;public static ApplicationContext applicationContext;/*** è·å– ApplicationContext** @param applicationContext* @throws BeansException*/@Overridepublic void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123;ApplicationContextBean.applicationContext = applicationContext;&#125;/*** æ‰“å°IOCå®¹å™¨ä¸­æ‰€æœ‰çš„Beanåç§°** @throws Exception*/@Overridepublic void afterPropertiesSet() throws Exception &#123;String[] names = applicationContext.getBeanDefinitionNames();for (String name : names) &#123;System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + name);&#125;System.out.println(&quot;------\\nBean æ€»è®¡:&quot; + applicationContext.getBeanDefinitionCount());&#125;&#125; è¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹å¼ï¼Œç›´æ¥ä½¿ç”¨@Autowiredæ³¨å…¥ApplicationContextå¯¹è±¡ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.ApplicationContext;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import java.util.Arrays;import java.util.List;@RestController@RequestMappingpublic class BeanController &#123;@Autowiredprivate ApplicationContext applicationContext;@GetMapping(&quot;/beanList&quot;)public List&lt;String&gt; beanList() &#123;return Arrays.asList(applicationContext.getBeanDefinitionNames());&#125;&#125;","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"ä¸ºä»€ä¹ˆ Java ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ","slug":"Java/ä¸ºä»€ä¹ˆ Java ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ","date":"2019-09-11T11:23:12.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2019/09/11/Java/ä¸ºä»€ä¹ˆ Java ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ/","link":"","permalink":"http://zhoumoon.github.io/2019/09/11/Java/%E4%B8%BA%E4%BB%80%E4%B9%88%20Java%20%E4%B8%AD%E5%8F%AA%E6%9C%89%E5%80%BC%E4%BC%A0%E9%80%92%EF%BC%9F/","excerpt":"","text":"é¦–å…ˆå›é¡¾ä¸€ä¸‹åœ¨ç¨‹åºè®¾è®¡è¯­è¨€ä¸­æœ‰å…³å°†å‚æ•°ä¼ é€’ç»™æ–¹æ³•ï¼ˆæˆ–å‡½æ•°ï¼‰çš„ä¸€äº›ä¸“ä¸šæœ¯è¯­ã€‚æŒ‰å€¼è°ƒç”¨(call by value)è¡¨ç¤ºæ–¹æ³•æ¥æ”¶çš„æ˜¯è°ƒç”¨è€…æä¾›çš„å€¼ï¼Œè€ŒæŒ‰å¼•ç”¨è°ƒç”¨ï¼ˆcall by reference)è¡¨ç¤ºæ–¹æ³•æ¥æ”¶çš„æ˜¯è°ƒç”¨è€…æä¾›çš„å˜é‡åœ°å€ã€‚ä¸€ä¸ªæ–¹æ³•å¯ä»¥ä¿®æ”¹ä¼ é€’å¼•ç”¨æ‰€å¯¹åº”çš„å˜é‡å€¼ï¼Œè€Œä¸èƒ½ä¿®æ”¹ä¼ é€’å€¼è°ƒç”¨æ‰€å¯¹åº”çš„å˜é‡å€¼ã€‚ å®ƒç”¨æ¥æè¿°å„ç§ç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆä¸åªæ˜¯Java)ä¸­æ–¹æ³•å‚æ•°ä¼ é€’æ–¹å¼ã€‚ Javaç¨‹åºè®¾è®¡è¯­è¨€æ€»æ˜¯é‡‡ç”¨æŒ‰å€¼è°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–¹æ³•å¾—åˆ°çš„æ˜¯æ‰€æœ‰å‚æ•°å€¼çš„ä¸€ä¸ªæ‹·è´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¼ é€’ç»™å®ƒçš„ä»»ä½•å‚æ•°å˜é‡çš„å†…å®¹ã€‚ ä¸‹é¢é€šè¿‡ 3 ä¸ªä¾‹å­æ¥ç»™å¤§å®¶è¯´æ˜ example 1 123456789101112131415161718public static void main(String[] args) &#123; int num1 = 10; int num2 = 20; swap(num1, num2); System.out.println(&quot;num1 = &quot; + num1); System.out.println(&quot;num2 = &quot; + num2);&#125;public static void swap(int a, int b) &#123; int temp = a; a = b; b = temp; System.out.println(&quot;a = &quot; + a); System.out.println(&quot;b = &quot; + b);&#125; ç»“æœï¼š 1234a = 20b = 10num1 = 10num2 = 20 è§£æï¼š åœ¨swapæ–¹æ³•ä¸­ï¼Œaã€bçš„å€¼è¿›è¡Œäº¤æ¢ï¼Œå¹¶ä¸ä¼šå½±å“åˆ° num1ã€num2ã€‚å› ä¸ºï¼Œaã€bä¸­çš„å€¼ï¼Œåªæ˜¯ä» num1ã€num2 çš„å¤åˆ¶è¿‡æ¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œaã€bç›¸å½“äºnum1ã€num2 çš„å‰¯æœ¬ï¼Œå‰¯æœ¬çš„å†…å®¹æ— è®ºæ€ä¹ˆä¿®æ”¹ï¼Œéƒ½ä¸ä¼šå½±å“åˆ°åŸä»¶æœ¬èº«ã€‚ é€šè¿‡ä¸Šé¢ä¾‹å­ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†ä¸€ä¸ªæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°ï¼Œè€Œå¯¹è±¡å¼•ç”¨ä½œä¸ºå‚æ•°å°±ä¸ä¸€æ ·ï¼Œè¯·çœ‹ example2. example 2 1234567891011public static void main(String[] args) &#123; int[] arr = &#123; 1, 2, 3, 4, 5 &#125;; System.out.println(arr[0]); change(arr); System.out.println(arr[0]);&#125;public static void change(int[] array) &#123; // å°†æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å˜ä¸º0 array[0] = 0;&#125; ç»“æœï¼š 1210 è§£æï¼š array è¢«åˆå§‹åŒ– arr çš„æ‹·è´ä¹Ÿå°±æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ array å’Œ arr æŒ‡å‘çš„æ—¶åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡ã€‚ å› æ­¤ï¼Œå¤–éƒ¨å¯¹å¼•ç”¨å¯¹è±¡çš„æ”¹å˜ä¼šåæ˜ åˆ°æ‰€å¯¹åº”çš„å¯¹è±¡ä¸Šã€‚ é€šè¿‡ example2 æˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œå®ç°ä¸€ä¸ªæ”¹å˜å¯¹è±¡å‚æ•°çŠ¶æ€çš„æ–¹æ³•å¹¶ä¸æ˜¯ä¸€ä»¶éš¾äº‹ã€‚ç†ç”±å¾ˆç®€å•ï¼Œæ–¹æ³•å¾—åˆ°çš„æ˜¯å¯¹è±¡å¼•ç”¨çš„æ‹·è´ï¼Œå¯¹è±¡å¼•ç”¨åŠå…¶ä»–çš„æ‹·è´åŒæ—¶å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ã€‚ å¾ˆå¤šç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆç‰¹åˆ«æ˜¯ï¼ŒC++å’ŒPascal)æä¾›äº†ä¸¤ç§å‚æ•°ä¼ é€’çš„æ–¹å¼ï¼šå€¼è°ƒç”¨å’Œå¼•ç”¨è°ƒç”¨ã€‚æœ‰äº›ç¨‹åºå‘˜ï¼ˆç”šè‡³æœ¬ä¹¦çš„ä½œè€…ï¼‰è®¤ä¸ºJavaç¨‹åºè®¾è®¡è¯­è¨€å¯¹å¯¹è±¡é‡‡ç”¨çš„æ˜¯å¼•ç”¨è°ƒç”¨ï¼Œå®é™…ä¸Šï¼Œè¿™ç§ç†è§£æ˜¯ä¸å¯¹çš„ã€‚ç”±äºè¿™ç§è¯¯è§£å…·æœ‰ä¸€å®šçš„æ™®éæ€§ï¼Œæ‰€ä»¥ä¸‹é¢ç»™å‡ºä¸€ä¸ªåä¾‹æ¥è¯¦ç»†åœ°é˜è¿°ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚ example 3 12345678910111213141516171819public class Test &#123; public static void main(String[] args) &#123; // TODO Auto-generated method stub Student s1 = new Student(&quot;å°å¼ &quot;); Student s2 = new Student(&quot;å°æ&quot;); Test.swap(s1, s2); System.out.println(&quot;s1:&quot; + s1.getName()); System.out.println(&quot;s2:&quot; + s2.getName()); &#125; public static void swap(Student x, Student y) &#123; Student temp = x; x = y; y = temp; System.out.println(&quot;x:&quot; + x.getName()); System.out.println(&quot;y:&quot; + y.getName()); &#125;&#125; ç»“æœï¼š 1234x:å°æy:å°å¼ s1:å°å¼ s2:å°æ è§£æï¼š äº¤æ¢ä¹‹å‰ï¼š äº¤æ¢ä¹‹åï¼š é€šè¿‡ä¸Šé¢ä¸¤å¼ å›¾å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹å‡ºï¼š æ–¹æ³•å¹¶æ²¡æœ‰æ”¹å˜å­˜å‚¨åœ¨å˜é‡ s1 å’Œ s2 ä¸­çš„å¯¹è±¡å¼•ç”¨ã€‚swapæ–¹æ³•çš„å‚æ•°xå’Œyè¢«åˆå§‹åŒ–ä¸ºä¸¤ä¸ªå¯¹è±¡å¼•ç”¨çš„æ‹·è´ï¼Œè¿™ä¸ªæ–¹æ³•äº¤æ¢çš„æ˜¯è¿™ä¸¤ä¸ªæ‹·è´ æ€»ç»“ Javaç¨‹åºè®¾è®¡è¯­è¨€å¯¹å¯¹è±¡é‡‡ç”¨çš„ä¸æ˜¯å¼•ç”¨è°ƒç”¨ï¼Œå®é™…ä¸Šï¼Œå¯¹è±¡å¼•ç”¨æ˜¯æŒ‰ å€¼ä¼ é€’çš„ã€‚ ä¸‹é¢å†æ€»ç»“ä¸€ä¸‹Javaä¸­æ–¹æ³•å‚æ•°çš„ä½¿ç”¨æƒ…å†µï¼š ä¸€ä¸ªæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°ï¼ˆå³æ•°å€¼å‹æˆ–å¸ƒå°”å‹ï¼‰ã€‚ ä¸€ä¸ªæ–¹æ³•å¯ä»¥æ”¹å˜ä¸€ä¸ªå¯¹è±¡å‚æ•°çš„çŠ¶æ€ã€‚ ä¸€ä¸ªæ–¹æ³•ä¸èƒ½è®©å¯¹è±¡å‚æ•°å¼•ç”¨ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚ å‚è€ƒï¼š ã€ŠJavaæ ¸å¿ƒæŠ€æœ¯å·â… ã€‹åŸºç¡€çŸ¥è¯†ç¬¬åç‰ˆç¬¬å››ç« 4.5å°èŠ‚ äºŒ ==ä¸equals(é‡è¦) == : å®ƒçš„ä½œç”¨æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯ä¸æ˜¯ç›¸ç­‰ã€‚å³ï¼Œåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚(åŸºæœ¬æ•°æ®ç±»å‹æ¯”è¾ƒçš„æ˜¯å€¼ï¼Œå¼•ç”¨æ•°æ®ç±»å‹æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€) equals() : å®ƒçš„ä½œç”¨ä¹Ÿæ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ä½†å®ƒä¸€èˆ¬æœ‰ä¸¤ç§ä½¿ç”¨æƒ…å†µï¼š æƒ…å†µ1ï¼šç±»æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•ã€‚åˆ™é€šè¿‡equals()æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œç­‰ä»·äºé€šè¿‡â€œ==â€æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚ æƒ…å†µ2ï¼šç±»è¦†ç›–äº†equals()æ–¹æ³•ã€‚ä¸€èˆ¬ï¼Œæˆ‘ä»¬éƒ½è¦†ç›–equals()æ–¹æ³•æ¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼›è‹¥å®ƒä»¬çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™è¿”å›true(å³ï¼Œè®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰)ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š 1234567891011121314151617public class test1 &#123; public static void main(String[] args) &#123; String a = new String(&quot;ab&quot;); // a ä¸ºä¸€ä¸ªå¼•ç”¨ String b = new String(&quot;ab&quot;); // bä¸ºå¦ä¸€ä¸ªå¼•ç”¨,å¯¹è±¡çš„å†…å®¹ä¸€æ · String aa = &quot;ab&quot;; // æ”¾åœ¨å¸¸é‡æ± ä¸­ String bb = &quot;ab&quot;; // ä»å¸¸é‡æ± ä¸­æŸ¥æ‰¾ if (aa == bb) // true System.out.println(&quot;aa==bb&quot;); if (a == b) // falseï¼ŒéåŒä¸€å¯¹è±¡ System.out.println(&quot;a==b&quot;); if (a.equals(b)) // true System.out.println(&quot;aEQb&quot;); if (42 == 42.0) &#123; // true System.out.println(&quot;true&quot;); &#125; &#125;&#125; è¯´æ˜ï¼š Stringä¸­çš„equalsæ–¹æ³•æ˜¯è¢«é‡å†™è¿‡çš„ï¼Œå› ä¸ºobjectçš„equalsæ–¹æ³•æ˜¯æ¯”è¾ƒçš„å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œè€ŒStringçš„equalsæ–¹æ³•æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å€¼ã€‚ å½“åˆ›å»ºStringç±»å‹çš„å¯¹è±¡æ—¶ï¼Œè™šæ‹Ÿæœºä¼šåœ¨å¸¸é‡æ± ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å·²ç»å­˜åœ¨çš„å€¼å’Œè¦åˆ›å»ºçš„å€¼ç›¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœæœ‰å°±æŠŠå®ƒèµ‹ç»™å½“å‰å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å°±åœ¨å¸¸é‡æ± ä¸­é‡æ–°åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ã€‚ ä¸‰ hashCodeä¸equalsï¼ˆé‡è¦ï¼‰ é¢è¯•å®˜å¯èƒ½ä¼šé—®ä½ ï¼šâ€œä½ é‡å†™è¿‡ hashcode å’Œ equals ä¹ˆï¼Œä¸ºä»€ä¹ˆé‡å†™equalsæ—¶å¿…é¡»é‡å†™hashCodeæ–¹æ³•ï¼Ÿâ€ hashCodeï¼ˆï¼‰ä»‹ç» hashCode() çš„ä½œç”¨æ˜¯è·å–å“ˆå¸Œç ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ªintæ•´æ•°ã€‚è¿™ä¸ªå“ˆå¸Œç çš„ä½œç”¨æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚hashCode() å®šä¹‰åœ¨JDKçš„Object.javaä¸­ï¼Œè¿™å°±æ„å‘³ç€Javaä¸­çš„ä»»ä½•ç±»éƒ½åŒ…å«æœ‰hashCode() å‡½æ•°ã€‚å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼š Object çš„ hashcode æ–¹æ³•æ˜¯æœ¬åœ°æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ç”¨ c è¯­è¨€æˆ– c++ å®ç°çš„ï¼Œè¯¥æ–¹æ³•é€šå¸¸ç”¨æ¥å°†å¯¹è±¡çš„ å†…å­˜åœ°å€ è½¬æ¢ä¸ºæ•´æ•°ä¹‹åè¿”å›ã€‚ 1234567891011121314151617/** * Returns a hash code value for the object. This method is * supported for the benefit of hash tables such as those provided by * &#123;@link java.util.HashMap&#125;. * &lt;p&gt; * As much as is reasonably practical, the hashCode method defined by * class &#123;@code Object&#125; does return distinct integers for distinct * objects. (This is typically implemented by converting the internal * address of the object into an integer, but this implementation * technique is not required by the * Java&amp;trade; programming language.) * * @return a hash code value for this object. * @see java.lang.Object#equals(java.lang.Object) * @see java.lang.System#identityHashCode */public native int hashCode(); æ•£åˆ—è¡¨å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹(key-value)ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šèƒ½æ ¹æ®â€œé”®â€å¿«é€Ÿçš„æ£€ç´¢å‡ºå¯¹åº”çš„â€œå€¼â€ã€‚è¿™å…¶ä¸­å°±åˆ©ç”¨åˆ°äº†æ•£åˆ—ç ï¼ï¼ˆå¯ä»¥å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€è¦çš„å¯¹è±¡ï¼‰ ä¸ºä»€ä¹ˆè¦æœ‰hashCode æˆ‘ä»¬ä»¥â€œHashSetå¦‚ä½•æ£€æŸ¥é‡å¤â€ä¸ºä¾‹å­æ¥è¯´æ˜ä¸ºä»€ä¹ˆè¦æœ‰hashCodeï¼š å½“ä½ æŠŠå¯¹è±¡åŠ å…¥HashSetæ—¶ï¼ŒHashSetä¼šå…ˆè®¡ç®—å¯¹è±¡çš„hashcodeå€¼æ¥åˆ¤æ–­å¯¹è±¡åŠ å…¥çš„ä½ç½®ï¼ŒåŒæ—¶ä¹Ÿä¼šä¸å…¶ä»–å·²ç»åŠ å…¥çš„å¯¹è±¡çš„hashcodeå€¼ä½œæ¯”è¾ƒï¼Œå¦‚æœæ²¡æœ‰ç›¸ç¬¦çš„hashcodeï¼ŒHashSetä¼šå‡è®¾å¯¹è±¡æ²¡æœ‰é‡å¤å‡ºç°ã€‚ä½†æ˜¯å¦‚æœå‘ç°æœ‰ç›¸åŒhashcodeå€¼çš„å¯¹è±¡ï¼Œè¿™æ—¶ä¼šè°ƒç”¨equalsï¼ˆï¼‰æ–¹æ³•æ¥æ£€æŸ¥hashcodeç›¸ç­‰çš„å¯¹è±¡æ˜¯å¦çœŸçš„ç›¸åŒã€‚å¦‚æœä¸¤è€…ç›¸åŒï¼ŒHashSetå°±ä¸ä¼šè®©å…¶åŠ å…¥æ“ä½œæˆåŠŸã€‚å¦‚æœä¸åŒçš„è¯ï¼Œå°±ä¼šé‡æ–°æ•£åˆ—åˆ°å…¶ä»–ä½ç½®ã€‚ï¼ˆæ‘˜è‡ªæˆ‘çš„Javaå¯è’™ä¹¦ã€ŠHead fist javaã€‹ç¬¬äºŒç‰ˆï¼‰ã€‚è¿™æ ·æˆ‘ä»¬å°±å¤§å¤§å‡å°‘äº†equalsçš„æ¬¡æ•°ï¼Œç›¸åº”å°±å¤§å¤§æé«˜äº†æ‰§è¡Œé€Ÿåº¦ã€‚ hashCodeï¼ˆï¼‰ä¸equalsï¼ˆï¼‰çš„ç›¸å…³è§„å®š å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™hashcodeä¸€å®šä¹Ÿæ˜¯ç›¸åŒçš„ ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰,å¯¹ä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«è°ƒç”¨equalsæ–¹æ³•éƒ½è¿”å›true ä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„hashcodeå€¼ï¼Œå®ƒä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„ å› æ­¤ï¼Œequalsæ–¹æ³•è¢«è¦†ç›–è¿‡ï¼Œåˆ™hashCodeæ–¹æ³•ä¹Ÿå¿…é¡»è¢«è¦†ç›– hashCode()çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯¹å †ä¸Šçš„å¯¹è±¡äº§ç”Ÿç‹¬ç‰¹å€¼ã€‚å¦‚æœæ²¡æœ‰é‡å†™hashCode()ï¼Œåˆ™è¯¥classçš„ä¸¤ä¸ªå¯¹è±¡æ— è®ºå¦‚ä½•éƒ½ä¸ä¼šç›¸ç­‰ï¼ˆå³ä½¿è¿™ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ç›¸åŒçš„æ•°æ®ï¼‰ ä¸ºä»€ä¹ˆä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„hashcodeå€¼ï¼Œå®ƒä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„ï¼Ÿ åœ¨è¿™é‡Œè§£é‡Šä¸€ä½å°ä¼™ä¼´çš„é—®é¢˜ã€‚ä»¥ä¸‹å†…å®¹æ‘˜è‡ªã€ŠHead Fisrt Javaã€‹ã€‚ å› ä¸ºhashCode() æ‰€ä½¿ç”¨çš„æ‚å‡‘ç®—æ³•ä¹Ÿè®¸åˆšå¥½ä¼šè®©å¤šä¸ªå¯¹è±¡ä¼ å›ç›¸åŒçš„æ‚å‡‘å€¼ã€‚è¶Šç³Ÿç³•çš„æ‚å‡‘ç®—æ³•è¶Šå®¹æ˜“ç¢°æ’ï¼Œä½†è¿™ä¹Ÿä¸æ•°æ®å€¼åŸŸåˆ†å¸ƒçš„ç‰¹æ€§æœ‰å…³ï¼ˆæ‰€è°“ç¢°æ’ä¹Ÿå°±æ˜¯æŒ‡çš„æ˜¯ä¸åŒçš„å¯¹è±¡å¾—åˆ°ç›¸åŒçš„ hashCodeï¼‰ã€‚ æˆ‘ä»¬åˆšåˆšä¹Ÿæåˆ°äº† HashSet,å¦‚æœ HashSet åœ¨å¯¹æ¯”çš„æ—¶å€™ï¼ŒåŒæ ·çš„ hashcode æœ‰å¤šä¸ªå¯¹è±¡ï¼Œå®ƒä¼šä½¿ç”¨ equals() æ¥åˆ¤æ–­æ˜¯å¦çœŸçš„ç›¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ hashcode åªæ˜¯ç”¨æ¥ç¼©å°æŸ¥æ‰¾æˆæœ¬ã€‚ å‚è€ƒï¼š https://blog.csdn.net/zhzhao999/article/details/53449504 https://www.cnblogs.com/skywang12345/p/3324958.html https://www.cnblogs.com/Eason-S/p/5524837.html","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"å¹²è´§ï¼šè®¡ç®—æœºç½‘ç»œçŸ¥è¯†æ€»ç»“","slug":"other/å¹²è´§ï¼šè®¡ç®—æœºç½‘ç»œçŸ¥è¯†æ€»ç»“","date":"2019-09-11T04:03:11.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2019/09/11/other/å¹²è´§ï¼šè®¡ç®—æœºç½‘ç»œçŸ¥è¯†æ€»ç»“/","link":"","permalink":"http://zhoumoon.github.io/2019/09/11/other/%E5%B9%B2%E8%B4%A7%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/","excerpt":"","text":"ç›®å½•ç»“æ„ 1. è®¡ç®—æœºæ¦‚è¿° 2. ç‰©ç†å±‚ 3. æ•°æ®é“¾è·¯å±‚ 4. ç½‘ç»œå±‚ 5. è¿è¾“å±‚ 6. åº”ç”¨å±‚ ä¸€è®¡ç®—æœºæ¦‚è¿° ï¼ˆ1ï¼‰ï¼ŒåŸºæœ¬æœ¯è¯­ ç»“ç‚¹ ï¼ˆnodeï¼‰ï¼š ç½‘ç»œä¸­çš„ç»“ç‚¹å¯ä»¥æ˜¯è®¡ç®—æœºï¼Œé›†çº¿å™¨ï¼Œäº¤æ¢æœºæˆ–è·¯ç”±å™¨ç­‰ã€‚ é“¾è·¯ï¼ˆlink ï¼‰ï¼š ä»ä¸€ä¸ªç»“ç‚¹åˆ°å¦ä¸€ä¸ªç»“ç‚¹çš„ä¸€æ®µç‰©ç†çº¿è·¯ã€‚ä¸­é—´æ²¡æœ‰ä»»ä½•å…¶ä»–äº¤ç‚¹ã€‚ ä¸»æœºï¼ˆhostï¼‰ï¼š è¿æ¥åœ¨å› ç‰¹ç½‘ä¸Šçš„è®¡ç®—æœº. ISPï¼ˆInternet Service Providerï¼‰ï¼š å› ç‰¹ç½‘æœåŠ¡æä¾›è€…ï¼ˆæä¾›å•†ï¼‰. IXPï¼ˆInternet eXchange Pointï¼‰ï¼š äº’è”ç½‘äº¤æ¢ç‚¹IXPçš„ä¸»è¦ä½œç”¨å°±æ˜¯å…è®¸ä¸¤ä¸ªç½‘ç»œç›´æ¥ç›¸è¿å¹¶äº¤æ¢åˆ†ç»„ï¼Œè€Œä¸éœ€è¦å†é€šè¿‡ç¬¬ä¸‰ä¸ªç½‘ç»œæ¥è½¬å‘åˆ†ç»„ã€‚. RFC(Request For Comments) æ„æ€æ˜¯â€œè¯·æ±‚è¯„è®®â€ï¼ŒåŒ…å«äº†å…³äºInternetå‡ ä¹æ‰€æœ‰çš„é‡è¦çš„æ–‡å­—èµ„æ–™ã€‚ å¹¿åŸŸç½‘WANï¼ˆWide Area Networkï¼‰ ä»»åŠ¡æ˜¯é€šè¿‡é•¿è·ç¦»è¿é€ä¸»æœºå‘é€çš„æ•°æ® åŸåŸŸç½‘MANï¼ˆMetropolitan Area Networkï¼‰ ç”¨æ¥è®²å¤šä¸ªå±€åŸŸç½‘è¿›è¡Œäº’è¿ å±€åŸŸç½‘LANï¼ˆLocal Area Networkï¼‰ å­¦æ ¡æˆ–ä¼ä¸šå¤§å¤šæ‹¥æœ‰å¤šä¸ªäº’è¿çš„å±€åŸŸç½‘ ä¸ªäººåŒºåŸŸç½‘PANï¼ˆPersonal Area Networkï¼‰ åœ¨ä¸ªäººå·¥ä½œçš„åœ°æ–¹æŠŠå±äºä¸ªäººä½¿ç”¨çš„ç”µå­è®¾å¤‡ç”¨æ— çº¿æŠ€æœ¯è¿æ¥èµ·æ¥çš„ç½‘ç»œ ç«¯ç³»ç»Ÿï¼ˆend systemï¼‰ï¼š å¤„åœ¨å› ç‰¹ç½‘è¾¹ç¼˜çš„éƒ¨åˆ†å³æ˜¯è¿æ¥åœ¨å› ç‰¹ç½‘ä¸Šçš„æ‰€æœ‰çš„ä¸»æœº. åˆ†ç»„ï¼ˆpacket ï¼‰ï¼š å› ç‰¹ç½‘ä¸­ä¼ é€çš„æ•°æ®å•å…ƒã€‚ç”±é¦–éƒ¨headerå’Œæ•°æ®æ®µç»„æˆã€‚åˆ†ç»„åˆç§°ä¸ºåŒ…ï¼Œé¦–éƒ¨å¯ç§°ä¸ºåŒ…å¤´ã€‚ å­˜å‚¨è½¬å‘ï¼ˆstore and forward ï¼‰: è·¯ç”±å™¨æ”¶åˆ°ä¸€ä¸ªåˆ†ç»„ï¼Œå…ˆå­˜å‚¨ä¸‹æ¥ï¼Œå†æ£€æŸ¥å…¶é¦–éƒ¨ï¼ŒæŸ¥æ‰¾è½¬å‘è¡¨ï¼ŒæŒ‰ç…§é¦–éƒ¨ä¸­çš„ç›®çš„åœ°å€ï¼Œæ‰¾åˆ°åˆé€‚çš„æ¥å£è½¬å‘å‡ºå»ã€‚ å¸¦å®½ï¼ˆbandwidthï¼‰ï¼š åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œè¡¨ç¤ºåœ¨å•ä½æ—¶é—´å†…ä»ç½‘ç»œä¸­çš„æŸä¸€ç‚¹åˆ°å¦ä¸€ç‚¹æ‰€èƒ½é€šè¿‡çš„â€œæœ€é«˜æ•°æ®ç‡â€ã€‚å¸¸ç”¨æ¥è¡¨ç¤ºç½‘ç»œçš„é€šä¿¡çº¿è·¯æ‰€èƒ½ä¼ é€æ•°æ®çš„èƒ½åŠ›ã€‚å•ä½æ˜¯â€œæ¯”ç‰¹æ¯ç§’â€ï¼Œè®°ä¸ºb/sã€‚ ååé‡ï¼ˆthroughput ï¼‰ï¼š è¡¨ç¤ºåœ¨å•ä½æ—¶é—´å†…é€šè¿‡æŸä¸ªç½‘ç»œï¼ˆæˆ–ä¿¡é“ã€æ¥å£ï¼‰çš„æ•°æ®é‡ã€‚ååé‡æ›´ç»å¸¸åœ°ç”¨äºå¯¹ç°å®ä¸–ç•Œä¸­çš„ç½‘ç»œçš„ä¸€ç§æµ‹é‡ï¼Œä»¥ä¾¿çŸ¥é“å®é™…ä¸Šåˆ°åº•æœ‰å¤šå°‘æ•°æ®é‡èƒ½å¤Ÿé€šè¿‡ç½‘ç»œã€‚ååé‡å—ç½‘ç»œçš„å¸¦å®½æˆ–ç½‘ç»œçš„é¢å®šé€Ÿç‡çš„é™åˆ¶ã€‚ ï¼ˆ2ï¼‰ï¼Œé‡è¦çŸ¥è¯†ç‚¹æ€»ç»“ 1ï¼Œè®¡ç®—æœºç½‘ç»œï¼ˆç®€ç§°ç½‘ç»œï¼‰æŠŠè®¸å¤šè®¡ç®—æœºè¿æ¥åœ¨ä¸€èµ·ï¼Œè€Œäº’è”ç½‘æŠŠè®¸å¤šç½‘ç»œè¿æ¥åœ¨ä¸€èµ·ï¼Œæ˜¯ç½‘ç»œçš„ç½‘ç»œã€‚ 2ï¼Œå°å†™å­—æ¯iå¼€å¤´çš„internetï¼ˆäº’è”ç½‘ï¼‰æ˜¯é€šç”¨åè¯ï¼Œå®ƒæ³›æŒ‡ç”±å¤šä¸ªè®¡ç®—æœºç½‘ç»œç›¸äº’è¿æ¥è€Œæˆçš„ç½‘ç»œã€‚åœ¨è¿™äº›ç½‘ç»œä¹‹é—´çš„é€šä¿¡åè®®ï¼ˆå³é€šä¿¡è§„åˆ™ï¼‰å¯ä»¥æ˜¯ä»»æ„çš„ã€‚ å¤§å†™å­—æ¯Iå¼€å¤´çš„Internetï¼ˆäº’è”ç½‘ï¼‰æ˜¯ä¸“ç”¨åè¯ï¼Œå®ƒæŒ‡å…¨çƒæœ€å¤§çš„ï¼Œå¼€æ”¾çš„ï¼Œç”±ä¼—å¤šç½‘ç»œç›¸äº’è¿æ¥è€Œæˆçš„ç‰¹å®šçš„äº’è”ç½‘ï¼Œå¹¶é‡‡ç”¨TCP/IPåè®®ä½œä¸ºé€šä¿¡è§„åˆ™ï¼Œå…¶å‰èº«ä¸ºARPANETã€‚Internetçš„æ¨èè¯‘åä¸ºå› ç‰¹ç½‘ï¼Œç°åœ¨ä¸€èˆ¬æµè¡Œç§°ä¸ºäº’è”ç½‘ã€‚ 3ï¼Œè·¯ç”±å™¨æ˜¯å®ç°åˆ†ç»„äº¤æ¢çš„å…³é”®æ„ä»¶ï¼Œå…¶ä»»åŠ¡æ˜¯è½¬å‘æ”¶åˆ°çš„åˆ†ç»„ï¼Œè¿™æ˜¯ç½‘ç»œæ ¸å¿ƒéƒ¨åˆ†æœ€é‡è¦çš„åŠŸèƒ½ã€‚åˆ†ç»„äº¤æ¢é‡‡ç”¨å­˜å‚¨è½¬å‘æŠ€æœ¯ï¼Œè¡¨ç¤ºæŠŠä¸€ä¸ªæŠ¥æ–‡ï¼ˆè¦å‘é€çš„æ•´å—æ•°æ®ï¼‰åˆ†ä¸ºå‡ ä¸ªåˆ†ç»„åå†è¿›è¡Œä¼ é€ã€‚åœ¨å‘é€æŠ¥æ–‡ä¹‹å‰ï¼Œå…ˆæŠŠè¾ƒé•¿çš„æŠ¥æ–‡åˆ’åˆ†æˆä¸ºä¸€ä¸ªä¸ªæ›´å°çš„ç­‰é•¿æ•°æ®æ®µã€‚åœ¨æ¯ä¸ªæ•°æ®ç«¯çš„å‰é¢åŠ ä¸Šä¸€äº›ç”±å¿…è¦çš„æ§åˆ¶ä¿¡æ¯ç»„æˆçš„é¦–éƒ¨åï¼Œå°±æ„æˆäº†ä¸€ä¸ªåˆ†ç»„ã€‚åˆ†ç»„åˆç§°ä¸ºåŒ…ã€‚åˆ†ç»„æ˜¯åœ¨äº’è”ç½‘ä¸­ä¼ é€çš„æ•°æ®å•å…ƒï¼Œæ­£æ˜¯ç”±äºåˆ†ç»„çš„å¤´éƒ¨åŒ…å«äº†è¯¸å¦‚ç›®çš„åœ°å€å’Œæºåœ°å€ç­‰é‡è¦æ§åˆ¶ä¿¡æ¯ï¼Œæ¯ä¸€ä¸ªåˆ†ç»„æ‰èƒ½åœ¨äº’è”ç½‘ä¸­ç‹¬ç«‹çš„é€‰æ‹©ä¼ è¾“è·¯å¾„ï¼Œå¹¶æ­£ç¡®åœ°äº¤ä»˜åˆ°åˆ†ç»„ä¼ è¾“çš„ç»ˆç‚¹ã€‚ 4ï¼Œäº’è”ç½‘æŒ‰å·¥ä½œæ–¹å¼å¯åˆ’åˆ†ä¸ºè¾¹ç¼˜éƒ¨åˆ†å’Œæ ¸å¿ƒéƒ¨åˆ†ã€‚ä¸»æœºåœ¨ç½‘ç»œçš„è¾¹ç¼˜éƒ¨åˆ†ï¼Œå…¶ä½œç”¨æ˜¯è¿›è¡Œä¿¡æ¯å¤„ç†ã€‚ç”±å¤§é‡ç½‘ç»œå’Œè¿æ¥è¿™äº›ç½‘ç»œçš„è·¯ç”±å™¨ç»„æˆæ ¸å¿ƒéƒ¨åˆ†ï¼Œå…¶ä½œç”¨æ˜¯æä¾›è¿é€šæ€§å’Œäº¤æ¢ã€‚ 5ï¼Œè®¡ç®—æœºé€šä¿¡æ˜¯è®¡ç®—æœºä¸­è¿›ç¨‹ï¼ˆå³è¿è¡Œç€çš„ç¨‹åºï¼‰ä¹‹é—´çš„é€šä¿¡ã€‚è®¡ç®—æœºç½‘ç»œé‡‡ç”¨çš„é€šä¿¡æ–¹å¼æ˜¯å®¢æˆ·-æœåŠ¡å™¨æ–¹å¼ï¼ˆC/Sæ–¹å¼ï¼‰å’Œå¯¹ç­‰è¿æ¥æ–¹å¼ï¼ˆP2Pæ–¹å¼ï¼‰ã€‚ 6ï¼Œå®¢æˆ·å’ŒæœåŠ¡å™¨éƒ½æ˜¯æŒ‡é€šä¿¡ä¸­æ‰€æ¶‰åŠçš„åº”ç”¨è¿›ç¨‹ã€‚å®¢æˆ·æ˜¯æœåŠ¡è¯·æ±‚æ–¹ï¼ŒæœåŠ¡å™¨æ˜¯æœåŠ¡æä¾›æ–¹ã€‚ 7ï¼ŒæŒ‰ç…§ä½œç”¨èŒƒå›´çš„ä¸åŒï¼Œè®¡ç®—æœºç½‘ç»œåˆ†ä¸ºå¹¿åŸŸç½‘WANï¼ŒåŸåŸŸç½‘MANï¼Œå±€åŸŸç½‘LANï¼Œä¸ªäººåŒºåŸŸç½‘PANã€‚ 8ï¼Œè®¡ç®—æœºç½‘ç»œæœ€å¸¸ç”¨çš„æ€§èƒ½æŒ‡æ ‡æ˜¯ï¼šé€Ÿç‡ï¼Œå¸¦å®½ï¼Œååé‡ï¼Œæ—¶å»¶ï¼ˆå‘é€æ—¶å»¶ï¼Œå¤„ç†æ—¶å»¶ï¼Œæ’é˜Ÿæ—¶å»¶ï¼‰ï¼Œæ—¶å»¶å¸¦å®½ç§¯ï¼Œå¾€è¿”æ—¶é—´å’Œä¿¡é“åˆ©ç”¨ç‡ã€‚ 9ï¼Œç½‘ç»œåè®®å³åè®®ï¼Œæ˜¯ä¸ºè¿›è¡Œç½‘ç»œä¸­çš„æ•°æ®äº¤æ¢è€Œå»ºç«‹çš„è§„åˆ™ã€‚è®¡ç®—æœºç½‘ç»œçš„å„å±‚ä»¥åŠå…¶åè®®é›†åˆï¼Œç§°ä¸ºç½‘ç»œçš„ä½“ç³»ç»“æ„ã€‚ 10ï¼Œäº”å±‚ä½“ç³»ç»“æ„ç”±åº”ç”¨å±‚ï¼Œè¿è¾“å±‚ï¼Œç½‘ç»œå±‚ï¼ˆç½‘é™…å±‚ï¼‰ï¼Œæ•°æ®é“¾è·¯å±‚ï¼Œç‰©ç†å±‚ç»„æˆã€‚è¿è¾“å±‚æœ€ä¸»è¦çš„åè®®æ˜¯TCPå’ŒUDPåè®®ï¼Œç½‘ç»œå±‚æœ€é‡è¦çš„åè®®æ˜¯IPåè®®ã€‚ äºŒç‰©ç†å±‚ ï¼ˆ1ï¼‰ï¼ŒåŸºæœ¬æœ¯è¯­ æ•°æ®ï¼ˆdataï¼‰ï¼š è¿é€æ¶ˆæ¯çš„å®ä½“ã€‚ ä¿¡å·ï¼ˆsignalï¼‰ï¼š æ•°æ®çš„ç”µæ°”çš„æˆ–ç”µç£çš„è¡¨ç°ã€‚æˆ–è€…è¯´ä¿¡å·æ˜¯é€‚åˆåœ¨ä¼ è¾“ä»‹è´¨ä¸Šä¼ è¾“çš„å¯¹è±¡ã€‚ ç å…ƒï¼ˆ codeï¼‰ï¼š åœ¨ä½¿ç”¨æ—¶é—´åŸŸï¼ˆæˆ–ç®€ç§°ä¸ºæ—¶åŸŸï¼‰çš„æ³¢å½¢æ¥è¡¨ç¤ºæ•°å­—ä¿¡å·æ—¶ï¼Œä»£è¡¨ä¸åŒç¦»æ•£æ•°å€¼çš„åŸºæœ¬æ³¢å½¢ã€‚ å•å·¥ï¼ˆsimplex ï¼‰ï¼š åªèƒ½æœ‰ä¸€ä¸ªæ–¹å‘çš„é€šä¿¡è€Œæ²¡æœ‰åæ–¹å‘çš„äº¤äº’ã€‚ åŠåŒå·¥ï¼ˆhalf duplex ï¼‰ï¼š é€šä¿¡çš„åŒæ–¹éƒ½å¯ä»¥å‘é€ä¿¡æ¯ï¼Œä½†ä¸èƒ½åŒæ–¹åŒæ—¶å‘é€(å½“ç„¶ä¹Ÿå°±ä¸èƒ½åŒæ—¶æ¥æ”¶)ã€‚ å…¨åŒå·¥ï¼ˆfull duplexï¼‰ï¼š é€šä¿¡çš„åŒæ–¹å¯ä»¥åŒæ—¶å‘é€å’Œæ¥æ”¶ä¿¡æ¯ã€‚ å¥ˆæ°å‡†åˆ™ï¼š åœ¨ä»»ä½•ä¿¡é“ä¸­ï¼Œç å…ƒçš„ä¼ è¾“çš„æ•ˆç‡æ˜¯æœ‰ä¸Šé™çš„ï¼Œä¼ è¾“é€Ÿç‡è¶…è¿‡æ­¤ä¸Šé™ï¼Œå°±ä¼šå‡ºç°ä¸¥é‡çš„ç é—´ä¸²æ‰°é—®é¢˜ï¼Œä½¿æ¥æ”¶ç«¯å¯¹ç å…ƒçš„åˆ¤å†³ï¼ˆå³è¯†åˆ«ï¼‰æˆä¸ºä¸å¯èƒ½ã€‚ åŸºå¸¦ä¿¡å·ï¼ˆbaseband signalï¼‰ï¼š æ¥è‡ªä¿¡æºçš„ä¿¡å·ã€‚æŒ‡æ²¡æœ‰ç»è¿‡è°ƒåˆ¶çš„æ•°å­—ä¿¡å·æˆ–æ¨¡æ‹Ÿä¿¡å·ã€‚ å¸¦é€šï¼ˆé¢‘å¸¦ï¼‰ä¿¡å·ï¼ˆbandpass signalï¼‰ï¼š æŠŠåŸºå¸¦ä¿¡å·ç»è¿‡è½½æ³¢è°ƒåˆ¶åï¼ŒæŠŠä¿¡å·çš„é¢‘ç‡èŒƒå›´æ¬ç§»åˆ°è¾ƒé«˜çš„é¢‘æ®µä»¥ä¾¿åœ¨ä¿¡é“ä¸­ä¼ è¾“ï¼ˆå³ä»…åœ¨ä¸€æ®µé¢‘ç‡èŒƒå›´å†…èƒ½å¤Ÿé€šè¿‡ä¿¡é“ï¼‰ï¼Œè¿™é‡Œè°ƒåˆ¶è¿‡åçš„ä¿¡å·å°±æ˜¯å¸¦é€šä¿¡å·ã€‚ è°ƒåˆ¶ï¼ˆmodulation ï¼‰ï¼š å¯¹ä¿¡å·æºçš„ä¿¡æ¯è¿›è¡Œå¤„ç†ååŠ åˆ°è½½æ³¢ä¿¡å·ä¸Šï¼Œä½¿å…¶å˜ä¸ºé€‚åˆåœ¨ä¿¡é“ä¼ è¾“çš„å½¢å¼çš„è¿‡ç¨‹ã€‚ ä¿¡å™ªæ¯”ï¼ˆsignal-to-noise ratio ï¼‰ï¼š æŒ‡ä¿¡å·çš„å¹³å‡åŠŸç‡å’Œå™ªå£°çš„å¹³å‡åŠŸç‡ä¹‹æ¯”ï¼Œè®°ä¸ºS/Nã€‚ä¿¡å™ªæ¯”ï¼ˆdBï¼‰=10*log10ï¼ˆS/Nï¼‰ ä¿¡é“å¤ç”¨ï¼ˆchannel multiplexing ï¼‰ï¼š æŒ‡å¤šä¸ªç”¨æˆ·å…±äº«åŒä¸€ä¸ªä¿¡é“ã€‚ï¼ˆå¹¶ä¸ä¸€å®šæ˜¯åŒæ—¶ï¼‰ æ¯”ç‰¹ç‡ï¼ˆbit rate ï¼‰ï¼š å•ä½æ—¶é—´ï¼ˆæ¯ç§’ï¼‰å†…ä¼ é€çš„æ¯”ç‰¹æ•°ã€‚ æ³¢ç‰¹ç‡ï¼ˆbaud rateï¼‰ï¼š å•ä½æ—¶é—´è½½æ³¢è°ƒåˆ¶çŠ¶æ€æ”¹å˜çš„æ¬¡æ•°ã€‚é’ˆå¯¹æ•°æ®ä¿¡å·å¯¹è½½æ³¢çš„è°ƒåˆ¶é€Ÿç‡ã€‚ å¤ç”¨ï¼ˆmultiplexingï¼‰ï¼š å…±äº«ä¿¡é“çš„æ–¹æ³• ADSLï¼ˆAsymmetric Digital Subscriber Line ï¼‰ï¼š éå¯¹ç§°æ•°å­—ç”¨æˆ·çº¿ã€‚ å…‰çº¤åŒè½´æ··åˆç½‘ï¼ˆHFCç½‘ï¼‰: åœ¨ç›®å‰è¦†ç›–èŒƒå›´å¾ˆå¹¿çš„æœ‰çº¿ç”µè§†ç½‘çš„åŸºç¡€ä¸Šå¼€å‘çš„ä¸€ç§å±…æ°‘å®½å¸¦æ¥å…¥ç½‘ ï¼ˆ2ï¼‰ï¼Œé‡è¦çŸ¥è¯†ç‚¹æ€»ç»“ 1ï¼Œç‰©ç†å±‚çš„ä¸»è¦ä»»åŠ¡å°±æ˜¯ç¡®å®šä¸ä¼ è¾“åª’ä½“æ¥å£æœ‰å…³çš„ä¸€äº›ç‰¹æ€§ï¼Œå¦‚æœºæ¢°ç‰¹æ€§ï¼Œç”µæ°”ç‰¹æ€§ï¼ŒåŠŸèƒ½ç‰¹æ€§ï¼Œè¿‡ç¨‹ç‰¹æ€§ã€‚ 2ï¼Œä¸€ä¸ªæ•°æ®é€šä¿¡ç³»ç»Ÿå¯åˆ’åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ†ï¼Œå³æºç³»ç»Ÿï¼Œä¼ è¾“ç³»ç»Ÿï¼Œç›®çš„ç³»ç»Ÿã€‚æºç³»ç»ŸåŒ…æ‹¬æºç‚¹ï¼ˆæˆ–æºç«™ï¼Œä¿¡æºï¼‰å’Œå‘é€å™¨ï¼Œç›®çš„ç³»ç»ŸåŒ…æ‹¬æ¥æ”¶å™¨å’Œç»ˆç‚¹ã€‚ 3ï¼Œé€šä¿¡çš„ç›®çš„æ˜¯ä¼ é€æ¶ˆæ¯ã€‚å¦‚è¯éŸ³ï¼Œæ–‡å­—ï¼Œå›¾åƒç­‰éƒ½æ˜¯æ¶ˆæ¯ï¼Œæ•°æ®æ˜¯è¿é€æ¶ˆæ¯çš„å®ä½“ã€‚ä¿¡å·åˆ™æ˜¯æ•°æ®çš„ç”µå™¨æˆ–ç”µç£çš„è¡¨ç°ã€‚ 4ï¼Œæ ¹æ®ä¿¡å·ä¸­ä»£è¡¨æ¶ˆæ¯çš„å‚æ•°çš„å–å€¼æ–¹å¼ä¸åŒï¼Œä¿¡å·å¯åˆ†ä¸ºæ¨¡æ‹Ÿä¿¡å·ï¼ˆæˆ–è¿ç»­ä¿¡å·ï¼‰å’Œæ•°å­—ä¿¡å·ï¼ˆæˆ–ç¦»æ•£ä¿¡å·ï¼‰ã€‚åœ¨ä½¿ç”¨æ—¶é—´åŸŸï¼ˆç®€ç§°æ—¶åŸŸï¼‰çš„æ³¢å½¢è¡¨ç¤ºæ•°å­—ä¿¡å·æ—¶ï¼Œä»£è¡¨ä¸åŒç¦»æ•£æ•°å€¼çš„åŸºæœ¬æ³¢å½¢ç§°ä¸ºç å…ƒã€‚ 5ï¼Œæ ¹æ®åŒæ–¹ä¿¡æ¯äº¤äº’çš„æ–¹å¼ï¼Œé€šä¿¡å¯åˆ’åˆ†ä¸ºå•å‘é€šä¿¡ï¼ˆæˆ–å•å·¥é€šä¿¡ï¼‰ï¼ŒåŒå‘äº¤æ›¿é€šä¿¡ï¼ˆæˆ–åŠåŒå·¥é€šä¿¡ï¼‰ï¼ŒåŒå‘åŒæ—¶é€šä¿¡ï¼ˆå…¨åŒå·¥é€šä¿¡ï¼‰ã€‚ 6ï¼Œæ¥è‡ªä¿¡æºçš„ä¿¡å·ç§°ä¸ºåŸºå¸¦ä¿¡å·ã€‚ä¿¡å·è¦åœ¨ä¿¡é“ä¸Šä¼ è¾“å°±è¦ç»è¿‡è°ƒåˆ¶ã€‚è°ƒåˆ¶æœ‰åŸºå¸¦è°ƒåˆ¶å’Œå¸¦é€šè°ƒåˆ¶ä¹‹åˆ†ã€‚æœ€åŸºæœ¬çš„å¸¦é€šè°ƒåˆ¶æ–¹æ³•æœ‰è°ƒå¹…ï¼Œè°ƒé¢‘å’Œè°ƒç›¸ã€‚è¿˜æœ‰æ›´å¤æ‚çš„è°ƒåˆ¶æ–¹æ³•ï¼Œå¦‚æ­£äº¤æŒ¯å¹…è°ƒåˆ¶ã€‚ 7ï¼Œè¦æé«˜æ•°æ®åœ¨ä¿¡é“ä¸Šçš„ä¼ é€’é€Ÿç‡ï¼Œå¯ä»¥ä½¿ç”¨æ›´å¥½çš„ä¼ è¾“åª’ä½“ï¼Œæˆ–ä½¿ç”¨å…ˆè¿›çš„è°ƒåˆ¶æŠ€æœ¯ã€‚ä½†æ•°æ®ä¼ è¾“é€Ÿç‡ä¸å¯èƒ½ä»»æ„è¢«æé«˜ã€‚ 8ï¼Œä¼ è¾“åª’ä½“å¯åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œå³å¯¼å¼•å‹ä¼ è¾“åª’ä½“ï¼ˆåŒç»çº¿ï¼ŒåŒè½´ç”µç¼†ï¼Œå…‰çº¤ï¼‰å’Œéå¯¼å¼•å‹ä¼ è¾“åª’ä½“ï¼ˆæ— çº¿ï¼Œçº¢å¤–ï¼Œå¤§æ°”æ¿€å…‰ï¼‰ã€‚ 9ï¼Œä¸ºäº†æœ‰æ•ˆåˆ©ç”¨å…‰çº¤èµ„æºï¼Œåœ¨å…‰çº¤å¹²çº¿å’Œç”¨æˆ·ä¹‹é—´å¹¿æ³›ä½¿ç”¨æ— æºå…‰ç½‘ç»œPONã€‚æ— æºå…‰ç½‘ç»œæ— éœ€é…å¤‡ç”µæºï¼Œå…¶é•¿æœŸè¿è¥æˆæœ¬å’Œç®¡ç†æˆæœ¬éƒ½å¾ˆä½ã€‚æœ€æµè¡Œçš„æ— æºå…‰ç½‘ç»œæ˜¯ä»¥å¤ªç½‘æ— æºå…‰ç½‘ç»œEPONå’Œå‰æ¯”ç‰¹æ— æºå…‰ç½‘ç»œGPONã€‚ ï¼ˆ3ï¼‰ï¼Œæœ€é‡è¦çš„çŸ¥è¯†ç‚¹ â‘ ï¼Œç‰©ç†å±‚çš„ä»»åŠ¡ é€æ˜åœ°ä¼ é€æ¯”ç‰¹æµã€‚ä¹Ÿå¯ä»¥å°†ç‰©ç†å±‚çš„ä¸»è¦ä»»åŠ¡æè¿°ä¸ºç¡®å®šä¸ä¼ è¾“åª’ä½“çš„æ¥å£çš„ä¸€äº›ç‰¹æ€§ï¼Œå³ï¼šæœºæ¢°ç‰¹æ€§ï¼ˆæ¥å£æ‰€ç”¨æ¥çº¿å™¨çš„ä¸€äº›ç‰©ç†å±æ€§å¦‚å½¢çŠ¶å°ºå¯¸ï¼‰ï¼Œç”µæ°”ç‰¹æ€§ï¼ˆæ¥å£ç”µç¼†çš„å„æ¡çº¿ä¸Šå‡ºç°çš„ç”µå‹çš„èŒƒå›´ï¼‰ï¼ŒåŠŸèƒ½ç‰¹æ€§ï¼ˆæŸæ¡çº¿ä¸Šå‡ºç°çš„æŸä¸€ç”µå¹³çš„ç”µå‹çš„æ„ä¹‰ï¼‰ï¼Œè¿‡ç¨‹ç‰¹æ€§ï¼ˆå¯¹äºä¸åŒåŠŸèƒ½èƒ½çš„å„ç§å¯èƒ½äº‹ä»¶çš„å‡ºç°é¡ºåºï¼‰ã€‚ æ‹“å±•ï¼š ç‰©ç†å±‚è€ƒè™‘çš„æ˜¯æ€æ ·æ‰èƒ½åœ¨è¿æ¥å„ç§è®¡ç®—æœºçš„ä¼ è¾“åª’ä½“ä¸Šä¼ è¾“æ•°æ®æ¯”ç‰¹æµï¼Œè€Œä¸æ˜¯æŒ‡å…·ä½“çš„ä¼ è¾“åª’ä½“ã€‚ç°æœ‰çš„è®¡ç®—æœºç½‘ç»œä¸­çš„ç¡¬ä»¶è®¾å¤‡å’Œä¼ è¾“åª’ä½“çš„ç§ç±»éå¸¸ç¹å¤šï¼Œè€Œä¸”é€šä¿¡æ‰‹æ®µä¹Ÿæœ‰è®¸å¤šä¸åŒçš„æ–¹å¼ã€‚ç‰©ç†å±‚çš„ä½œç”¨æ­£æ˜¯å°½å¯èƒ½åœ°å±è”½æ‰è¿™äº›ä¼ è¾“åª’ä½“å’Œé€šä¿¡æ‰‹æ®µçš„å·®å¼‚ï¼Œä½¿ç‰©ç†å±‚ä¸Šé¢çš„æ•°æ®é“¾è·¯å±‚æ„Ÿè§‰ä¸åˆ°è¿™äº›å·®å¼‚ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿æ•°æ®é“¾è·¯å±‚åªè€ƒè™‘å®Œæˆæœ¬å±‚çš„åè®®å’ŒæœåŠ¡ï¼Œè€Œä¸å¿…è€ƒè™‘ç½‘ç»œçš„å…·ä½“ä¼ è¾“åª’ä½“å’Œé€šä¿¡æ‰‹æ®µæ˜¯ä»€ä¹ˆã€‚ â‘¡ï¼Œå‡ ç§å¸¸ç”¨çš„ä¿¡é“å¤ç”¨æŠ€æœ¯ â‘¢ï¼Œå‡ ç§å¸¸ç”¨çš„å®½å¸¦æ¥å…¥æŠ€æœ¯ï¼Œä¸»è¦æ˜¯ADSLå’ŒFTTx ç”¨æˆ·åˆ°äº’è”ç½‘çš„å®½å¸¦æ¥å…¥æ–¹æ³•æœ‰éå¯¹ç§°æ•°å­—ç”¨æˆ·çº¿ADSLï¼ˆç”¨æ•°å­—æŠ€æœ¯å¯¹ç°æœ‰çš„æ¨¡æ‹Ÿç”µè¯çº¿è¿›è¡Œæ”¹é€ ï¼Œè€Œä¸éœ€è¦é‡æ–°å¸ƒçº¿ã€‚ASDLçš„å¿«é€Ÿç‰ˆæœ¬æ˜¯ç”šé«˜é€Ÿæ•°å­—ç”¨æˆ·çº¿VDSLã€‚ï¼‰ï¼Œå…‰çº¤åŒè½´æ··åˆç½‘HFCï¼ˆæ˜¯åœ¨ç›®å‰è¦†ç›–èŒƒå›´å¾ˆå¹¿çš„æœ‰çº¿ç”µè§†ç½‘çš„åŸºç¡€ä¸Šå¼€å‘çš„ä¸€ç§å±…æ°‘å®½å¸¦æ¥å…¥ç½‘ï¼‰å’ŒFTTxï¼ˆå³å…‰çº¤åˆ°Â·Â·Â·Â·Â·Â·ï¼‰ã€‚ ä¸‰æ•°æ®é“¾è·¯å±‚ ï¼ˆ1ï¼‰ï¼ŒåŸºæœ¬æœ¯è¯­ é“¾è·¯ï¼ˆlinkï¼‰ï¼š ä¸€ä¸ªç»“ç‚¹åˆ°ç›¸é‚»ç»“ç‚¹çš„ä¸€æ®µç‰©ç†é“¾è·¯ æ•°æ®é“¾è·¯ï¼ˆdata linkï¼‰ï¼š æŠŠå®ç°æ§åˆ¶æ•°æ®è¿è¾“çš„åè®®çš„ç¡¬ä»¶å’Œè½¯ä»¶åŠ åˆ°é“¾è·¯ä¸Šå°±æ„æˆäº†æ•°æ®é“¾è·¯ å¾ªç¯å†—ä½™æ£€éªŒCRCï¼ˆCyclic Redundancy Checkï¼‰ï¼š ä¸ºäº†ä¿è¯æ•°æ®ä¼ è¾“çš„å¯é æ€§ï¼ŒCRCæ˜¯æ•°æ®é“¾è·¯å±‚å¹¿æ³›ä½¿ç”¨çš„ä¸€ç§æ£€é”™æŠ€æœ¯ å¸§ï¼ˆframeï¼‰ï¼š ä¸€ä¸ªæ•°æ®é“¾è·¯å±‚çš„ä¼ è¾“å•å…ƒï¼Œç”±ä¸€ä¸ªæ•°æ®é“¾è·¯å±‚é¦–éƒ¨å’Œå…¶æºå¸¦çš„å°åŒ…æ‰€ç»„æˆåè®®æ•°æ®å•å…ƒã€‚ MTUï¼ˆMaximum Transfer Uint ï¼‰ï¼š æœ€å¤§ä¼ é€å•å…ƒã€‚å¸§çš„æ•°æ®éƒ¨åˆ†çš„çš„é•¿åº¦ä¸Šé™ã€‚ è¯¯ç ç‡BERï¼ˆBit Error Rate ï¼‰ï¼š åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œä¼ è¾“é”™è¯¯çš„æ¯”ç‰¹å æ‰€ä¼ è¾“æ¯”ç‰¹æ€»æ•°çš„æ¯”ç‡ã€‚ PPPï¼ˆPoint-to-Point Protocol ï¼‰ï¼š ç‚¹å¯¹ç‚¹åè®®ã€‚å³ç”¨æˆ·è®¡ç®—æœºå’ŒISPè¿›è¡Œé€šä¿¡æ—¶æ‰€ä½¿ç”¨çš„æ•°æ®é“¾è·¯å±‚åè®®ã€‚ä»¥ä¸‹æ˜¯PPPå¸§çš„ç¤ºæ„å›¾: MACåœ°å€ï¼ˆMedia Access Controlæˆ–è€…Medium Access Controlï¼‰ï¼š æ„è¯‘ä¸ºåª’ä½“è®¿é—®æ§åˆ¶ï¼Œæˆ–ç§°ä¸ºç‰©ç†åœ°å€ã€ç¡¬ä»¶åœ°å€ï¼Œç”¨æ¥å®šä¹‰ç½‘ç»œè®¾å¤‡çš„ä½ç½®ã€‚ åœ¨OSIæ¨¡å‹ä¸­ï¼Œç¬¬ä¸‰å±‚ç½‘ç»œå±‚è´Ÿè´£ IPåœ°å€ï¼Œç¬¬äºŒå±‚æ•°æ®é“¾è·¯å±‚åˆ™è´Ÿè´£ MACåœ°å€ã€‚ å› æ­¤ä¸€ä¸ªä¸»æœºä¼šæœ‰ä¸€ä¸ªMACåœ°å€ï¼Œè€Œæ¯ä¸ªç½‘ç»œä½ç½®ä¼šæœ‰ä¸€ä¸ªä¸“å±äºå®ƒçš„IPåœ°å€ ã€‚ åœ°å€æ˜¯è¯†åˆ«æŸä¸ªç³»ç»Ÿçš„é‡è¦æ ‡è¯†ç¬¦ï¼Œâ€œåå­—æŒ‡å‡ºæˆ‘ä»¬æ‰€è¦å¯»æ‰¾çš„èµ„æºï¼Œåœ°å€æŒ‡å‡ºèµ„æºæ‰€åœ¨çš„åœ°æ–¹ï¼Œè·¯ç”±å‘Šè¯‰æˆ‘ä»¬å¦‚ä½•åˆ°è¾¾è¯¥å¤„â€ ç½‘æ¡¥ï¼ˆbridgeï¼‰ï¼š ä¸€ç§ç”¨äºæ•°æ®é“¾è·¯å±‚å®ç°ä¸­ç»§ï¼Œè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªå±€åŸŸç½‘çš„ç½‘ç»œäº’è¿è®¾å¤‡ã€‚ äº¤æ¢æœºï¼ˆswitch ï¼‰ï¼š å¹¿ä¹‰çš„æ¥è¯´ï¼Œäº¤æ¢æœºæŒ‡çš„æ˜¯ä¸€ç§é€šä¿¡ç³»ç»Ÿä¸­å®Œæˆä¿¡æ¯äº¤æ¢çš„è®¾å¤‡ã€‚è¿™é‡Œå·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚çš„äº¤æ¢æœºæŒ‡çš„æ˜¯äº¤æ¢å¼é›†çº¿å™¨ï¼Œå…¶å®è´¨æ˜¯ä¸€ä¸ªå¤šæ¥å£çš„ç½‘æ¡¥ ï¼ˆ2ï¼‰ï¼Œé‡è¦çŸ¥è¯†ç‚¹æ€»ç»“ 1ï¼Œé“¾è·¯æ˜¯ä»ä¸€ä¸ªç»“ç‚¹åˆ°ç›¸é‚»èŠ‚ç‚¹çš„ä¸€æ®µç‰©ç†é“¾è·¯ï¼Œæ•°æ®é“¾è·¯åˆ™åœ¨é“¾è·¯çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€äº›å¿…è¦çš„ç¡¬ä»¶ï¼ˆå¦‚ç½‘ç»œé€‚é…å™¨ï¼‰å’Œè½¯ä»¶ï¼ˆå¦‚åè®®çš„å®ç°ï¼‰ 2ï¼Œæ•°æ®é“¾è·¯å±‚ä½¿ç”¨çš„ä¸»è¦æ˜¯ç‚¹å¯¹ç‚¹ä¿¡é“å’Œå¹¿æ’­ä¿¡é“ä¸¤ç§ã€‚ 3ï¼Œæ•°æ®é“¾è·¯å±‚ä¼ è¾“çš„åè®®æ•°æ®å•å…ƒæ˜¯å¸§ã€‚æ•°æ®é“¾è·¯å±‚çš„ä¸‰ä¸ªåŸºæœ¬é—®é¢˜æ˜¯ï¼šå°è£…æˆå¸§ï¼Œé€æ˜ä¼ è¾“å’Œå·®é”™æ£€æµ‹ 4ï¼Œå¾ªç¯å†—ä½™æ£€éªŒCRCæ˜¯ä¸€ç§æ£€é”™æ–¹æ³•ï¼Œè€Œå¸§æ£€éªŒåºåˆ—FCSæ˜¯æ·»åŠ åœ¨æ•°æ®åé¢çš„å†—ä½™ç  5ï¼Œç‚¹å¯¹ç‚¹åè®®PPPæ˜¯æ•°æ®é“¾è·¯å±‚ä½¿ç”¨æœ€å¤šçš„ä¸€ç§åè®®ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šç®€å•ï¼Œåªæ£€æµ‹å·®é”™è€Œä¸å»çº æ­£å·®é”™ï¼Œä¸ä½¿ç”¨åºå·ï¼Œä¹Ÿä¸è¿›è¡Œæµé‡æ§åˆ¶ï¼Œå¯åŒæ—¶æ”¯æŒå¤šç§ç½‘ç»œå±‚åè®® 6ï¼ŒPPPoEæ˜¯ä¸ºå®½å¸¦ä¸Šç½‘çš„ä¸»æœºä½¿ç”¨çš„é“¾è·¯å±‚åè®® 7ï¼Œå±€åŸŸç½‘çš„ä¼˜ç‚¹æ˜¯ï¼šå…·æœ‰å¹¿æ’­åŠŸèƒ½ï¼Œä»ä¸€ä¸ªç«™ç‚¹å¯æ–¹ä¾¿åœ°è®¿é—®å…¨ç½‘ï¼›ä¾¿äºç³»ç»Ÿçš„æ‰©å±•å’Œé€æ¸æ¼”å˜ï¼›æé«˜äº†ç³»ç»Ÿçš„å¯é æ€§ï¼Œå¯ç”¨æ€§å’Œç”Ÿå­˜æ€§ã€‚ 8ï¼Œå…±å‘åª’ä½“é€šä¿¡èµ„æºçš„æ–¹æ³•æœ‰äºŒï¼šä¸€æ˜¯é™æ€åˆ’åˆ†ä¿¡é“(å„ç§å¤ç”¨æŠ€æœ¯)ï¼Œè€Œæ˜¯åŠ¨æ€åª’ä½“æ¥å…¥æ§åˆ¶ï¼Œåˆç§°ä¸ºå¤šç‚¹æ¥å…¥ï¼ˆéšå³æ¥å…¥æˆ–å—æ§æ¥å…¥ï¼‰ 9ï¼Œè®¡ç®—æœºä¸å¤–æ¥å±€åŸŸç½‘é€šä¿¡éœ€è¦é€šè¿‡é€šä¿¡é€‚é…å™¨ï¼ˆæˆ–ç½‘ç»œé€‚é…å™¨ï¼‰ï¼Œå®ƒåˆç§°ä¸ºç½‘ç»œæ¥å£å¡æˆ–ç½‘å¡ã€‚è®¡ç®—å™¨çš„ç¡¬ä»¶åœ°å€å°±åœ¨é€‚é…å™¨çš„ROMä¸­ã€‚ 10ï¼Œä»¥å¤ªç½‘é‡‡ç”¨çš„æ— è¿æ¥çš„å·¥ä½œæ–¹å¼ï¼Œå¯¹å‘é€çš„æ•°æ®å¸§ä¸è¿›è¡Œç¼–å·ï¼Œä¹Ÿä¸è¦æ±‚å¯¹æ–¹å‘å›ç¡®è®¤ã€‚ç›®çš„ç«™æ”¶åˆ°æœ‰å·®é”™å¸§å°±æŠŠå®ƒä¸¢æ‰ï¼Œå…¶ä»–ä»€ä¹ˆä¹Ÿä¸åš 11ï¼Œä»¥å¤ªç½‘é‡‡ç”¨çš„åè®®æ˜¯å…·æœ‰å†²çªæ£€æµ‹çš„è½½æ³¢ç›‘å¬å¤šç‚¹æ¥å…¥CSMA/CDã€‚åè®®çš„ç‰¹ç‚¹æ˜¯ï¼šå‘é€å‰å…ˆç›‘å¬ï¼Œè¾¹å‘é€è¾¹ç›‘å¬ï¼Œä¸€æ—¦å‘ç°æ€»çº¿ä¸Šå‡ºç°äº†ç¢°æ’ï¼Œå°±ç«‹å³åœæ­¢å‘é€ã€‚ç„¶åæŒ‰ç…§é€€é¿ç®—æ³•ç­‰å¾…ä¸€æ®µéšæœºæ—¶é—´åå†æ¬¡å‘é€ã€‚ å› æ­¤ï¼Œæ¯ä¸€ä¸ªç«™ç‚¹åœ¨è‡ªå·±å‘é€æ•°æ®ä¹‹åçš„ä¸€å°æ®µæ—¶é—´å†…ï¼Œå­˜åœ¨è¿™é­é‡ç¢°æ’çš„å¯èƒ½æ€§ã€‚ä»¥å¤ªç½‘ä¸Šçš„å„ç«™ç‚¹å¹³ç­‰çš„äº‰ç”¨ä»¥å¤ªç½‘ä¿¡é“ 12ï¼Œä»¥å¤ªç½‘çš„é€‚é…å™¨å…·æœ‰è¿‡æ»¤åŠŸèƒ½ï¼Œå®ƒåªæ¥æ”¶å•æ’­å¸§ï¼Œå¹¿æ’­å¸§å’Œå¤šæ’­å¸§ã€‚ 13ï¼Œä½¿ç”¨é›†çº¿å™¨å¯ä»¥åœ¨ç‰©ç†å±‚æ‰©å±•ä»¥å¤ªç½‘ï¼ˆæ‰©å±•åçš„ä»¥å¤ªç½‘ä»ç„¶æ˜¯ä¸€ä¸ªç½‘ç»œï¼‰ ï¼ˆ3ï¼‰ï¼Œæœ€é‡è¦çš„çŸ¥è¯†ç‚¹ â‘  æ•°æ®é“¾è·¯å±‚çš„ç‚¹å¯¹ç‚¹ä¿¡é“å’Œå¹¿æ’­ä¿¡é“çš„ç‰¹ç‚¹ï¼Œä»¥åŠè¿™ä¸¤ç§ä¿¡é“æ‰€ä½¿ç”¨çš„åè®®ï¼ˆPPPåè®®ä»¥åŠCSMA/CDåè®®ï¼‰çš„ç‰¹ç‚¹ â‘¡ æ•°æ®é“¾è·¯å±‚çš„ä¸‰ä¸ªåŸºæœ¬é—®é¢˜ï¼šå°è£…æˆå¸§ï¼Œé€æ˜ä¼ è¾“ï¼Œå·®é”™æ£€æµ‹ â‘¢ ä»¥å¤ªç½‘çš„MACå±‚ç¡¬ä»¶åœ°å€ â‘£ é€‚é…å™¨ï¼Œè½¬å‘å™¨ï¼Œé›†çº¿å™¨ï¼Œç½‘æ¡¥ï¼Œä»¥å¤ªç½‘äº¤æ¢æœºçš„ä½œç”¨ä»¥åŠé€‚ç”¨åœºåˆ å››ç½‘ç»œå±‚ ï¼ˆ1ï¼‰ï¼ŒåŸºæœ¬æœ¯è¯­ è™šç”µè·¯ï¼ˆVirtual Circuitï¼‰ï¼š åœ¨ä¸¤ä¸ªç»ˆç«¯è®¾å¤‡çš„é€»è¾‘æˆ–ç‰©ç†ç«¯å£ä¹‹é—´ï¼Œé€šè¿‡å»ºç«‹çš„åŒå‘çš„é€æ˜ä¼ è¾“é€šé“ã€‚è™šç”µè·¯è¡¨ç¤ºè¿™åªæ˜¯ä¸€æ¡é€»è¾‘ä¸Šçš„è¿æ¥ï¼Œåˆ†ç»„éƒ½æ²¿ç€è¿™æ¡é€»è¾‘è¿æ¥æŒ‰ç…§å­˜å‚¨è½¬å‘æ–¹å¼ä¼ é€ï¼Œè€Œå¹¶ä¸æ˜¯çœŸæ­£å»ºç«‹äº†ä¸€æ¡ç‰©ç†è¿æ¥ã€‚ IPï¼ˆInternet Protocol ï¼‰ï¼š ç½‘é™…åè®® IP æ˜¯ TCP/IPä½“ç³»ä¸­ä¸¤ä¸ªæœ€ä¸»è¦çš„åè®®ä¹‹ä¸€ï¼Œæ˜¯TCP/IPä½“ç³»ç»“æ„ç½‘é™…å±‚çš„æ ¸å¿ƒã€‚é…å¥—çš„æœ‰ARPï¼ŒRARPï¼ŒICMPï¼ŒIGMPã€‚ ARPï¼ˆAddress Resolution Protocolï¼‰ï¼š åœ°å€è§£æåè®® ICMPï¼ˆInternet Control Message Protocol ï¼‰ï¼š ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®® ï¼ˆICMP å…è®¸ä¸»æœºæˆ–è·¯ç”±å™¨æŠ¥å‘Šå·®é”™æƒ…å†µå’Œæä¾›æœ‰å…³å¼‚å¸¸æƒ…å†µçš„æŠ¥å‘Šã€‚ï¼‰ å­ç½‘æ©ç ï¼ˆsubnet mask ï¼‰ï¼š å®ƒæ˜¯ä¸€ç§ç”¨æ¥æŒ‡æ˜ä¸€ä¸ªIPåœ°å€çš„å“ªäº›ä½æ ‡è¯†çš„æ˜¯ä¸»æœºæ‰€åœ¨çš„å­ç½‘ä»¥åŠå“ªäº›ä½æ ‡è¯†çš„æ˜¯ä¸»æœºçš„ä½æ©ç ã€‚å­ç½‘æ©ç ä¸èƒ½å•ç‹¬å­˜åœ¨ï¼Œå®ƒå¿…é¡»ç»“åˆIPåœ°å€ä¸€èµ·ä½¿ç”¨ã€‚ CIDRï¼ˆ Classless Inter-Domain Routing ï¼‰ï¼š æ— åˆ†ç±»åŸŸé—´è·¯ç”±é€‰æ‹© ï¼ˆç‰¹ç‚¹æ˜¯æ¶ˆé™¤äº†ä¼ ç»Ÿçš„ A ç±»ã€B ç±»å’Œ C ç±»åœ°å€ä»¥åŠåˆ’åˆ†å­ç½‘çš„æ¦‚å¿µï¼Œå¹¶ä½¿ç”¨å„ç§é•¿åº¦çš„â€œç½‘ç»œå‰ç¼€â€(network-prefix)æ¥ä»£æ›¿åˆ†ç±»åœ°å€ä¸­çš„ç½‘ç»œå·å’Œå­ç½‘å·ï¼‰ é»˜è®¤è·¯ç”±ï¼ˆdefault routeï¼‰ï¼š å½“åœ¨è·¯ç”±è¡¨ä¸­æŸ¥ä¸åˆ°èƒ½åˆ°è¾¾ç›®çš„åœ°å€çš„è·¯ç”±æ—¶ï¼Œè·¯ç”±å™¨é€‰æ‹©çš„è·¯ç”±ã€‚é»˜è®¤è·¯ç”±è¿˜å¯ä»¥å‡å°è·¯ç”±è¡¨æ‰€å ç”¨çš„ç©ºé—´å’Œæœç´¢è·¯ç”±è¡¨æ‰€ç”¨çš„æ—¶é—´ã€‚ è·¯ç”±é€‰æ‹©ç®—æ³•ï¼ˆVirtual Circuitï¼‰ï¼š è·¯ç”±é€‰æ‹©åè®®çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚å› ç‰¹ç½‘é‡‡ç”¨è‡ªé€‚åº”çš„ï¼Œåˆ†å±‚æ¬¡çš„è·¯ç”±é€‰æ‹©åè®®ã€‚ ï¼ˆ2ï¼‰ï¼Œé‡è¦çŸ¥è¯†ç‚¹æ€»ç»“ 1ï¼ŒTCP/IPåè®®ä¸­çš„ç½‘ç»œå±‚å‘ä¸Šåªæä¾›ç®€å•çµæ´»çš„ï¼Œæ— è¿æ¥çš„ï¼Œå°½æœ€å¤§åŠªåŠ›äº¤ä»˜çš„æ•°æ®æŠ¥æœåŠ¡ã€‚ç½‘ç»œå±‚ä¸æä¾›æœåŠ¡è´¨é‡çš„æ‰¿è¯ºï¼Œä¸ä¿è¯åˆ†ç»„äº¤ä»˜çš„æ—¶é™æ‰€ä¼ é€çš„åˆ†ç»„å¯èƒ½å‡ºé”™ï¼Œä¸¢å¤±ï¼Œé‡å¤å’Œå¤±åºã€‚è¿›ç¨‹ä¹‹é—´é€šä¿¡çš„å¯é æ€§ç”±è¿è¾“å±‚è´Ÿè´£ 2ï¼Œåœ¨äº’è”ç½‘çš„äº¤ä»˜æœ‰ä¸¤ç§ï¼Œä¸€æ˜¯åœ¨æœ¬ç½‘ç»œç›´æ¥äº¤ä»˜ä¸ç”¨ç»è¿‡è·¯ç”±å™¨ï¼Œå¦ä¸€ç§æ˜¯å’Œå…¶ä»–ç½‘ç»œçš„é—´æ¥äº¤ä»˜ï¼Œè‡³å°‘ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼Œä½†æœ€åä¸€æ¬¡ä¸€å®šæ˜¯ç›´æ¥äº¤ä»˜ 3ï¼Œåˆ†ç±»çš„IPåœ°å€ç”±ç½‘ç»œå·å­—æ®µï¼ˆæŒ‡æ˜ç½‘ç»œï¼‰å’Œä¸»æœºå·å­—æ®µï¼ˆæŒ‡æ˜ä¸»æœºï¼‰ç»„æˆã€‚ç½‘ç»œå·å­—æ®µæœ€å‰é¢çš„ç±»åˆ«æŒ‡æ˜IPåœ°å€çš„ç±»åˆ«ã€‚IPåœ°å€å¸‚ä¸€ä¸­åˆ†ç­‰çº§çš„åœ°å€ç»“æ„ã€‚IPåœ°å€ç®¡ç†æœºæ„åˆ†é…IPåœ°å€æ—¶åªåˆ†é…ç½‘ç»œå·ï¼Œä¸»æœºå·ç”±å¾—åˆ°è¯¥ç½‘ç»œå·çš„å•ä½è‡ªè¡Œåˆ†é…ã€‚è·¯ç”±å™¨æ ¹æ®ç›®çš„ä¸»æœºæ‰€è¿æ¥çš„ç½‘ç»œå·æ¥è½¬å‘åˆ†ç»„ã€‚ä¸€ä¸ªè·¯ç”±å™¨è‡³å°‘è¿æ¥åˆ°ä¸¤ä¸ªç½‘ç»œï¼Œæ‰€ä»¥ä¸€ä¸ªè·¯ç”±å™¨è‡³å°‘åº”å½“æœ‰ä¸¤ä¸ªä¸åŒçš„IPåœ°å€ 4ï¼ŒIPæ•°æ®æŠ¥åˆ†ä¸ºé¦–éƒ¨å’Œæ•°æ®ä¸¤éƒ¨åˆ†ã€‚é¦–éƒ¨çš„å‰ä¸€éƒ¨åˆ†æ˜¯å›ºå®šé•¿åº¦ï¼Œå…±20å­—èŠ‚ï¼Œæ˜¯æ‰€æœ‰IPæ•°æ®åŒ…å¿…é¡»å…·æœ‰çš„ï¼ˆæºåœ°å€ï¼Œç›®çš„åœ°å€ï¼Œæ€»é•¿åº¦ç­‰é‡è¦åœ°æ®µéƒ½å›ºå®šåœ¨é¦–éƒ¨ï¼‰ã€‚ä¸€äº›é•¿åº¦å¯å˜çš„å¯é€‰å­—æ®µå›ºå®šåœ¨é¦–éƒ¨çš„åé¢ã€‚IPé¦–éƒ¨ä¸­çš„ç”Ÿå­˜æ—¶é—´ç»™å‡ºäº†IPæ•°æ®æŠ¥åœ¨äº’è”ç½‘ä¸­æ‰€èƒ½ç»è¿‡çš„æœ€å¤§è·¯ç”±å™¨æ•°ã€‚å¯é˜²æ­¢IPæ•°æ®æŠ¥åœ¨äº’è”ç½‘ä¸­æ— é™åˆ¶çš„å…œåœˆå­ã€‚ 5ï¼Œåœ°å€è§£æåè®®ARPæŠŠIPåœ°å€è§£æä¸ºç¡¬ä»¶åœ°å€ã€‚ARPçš„é«˜é€Ÿç¼“å­˜å¯ä»¥å¤§å¤§å‡å°‘ç½‘ç»œä¸Šçš„é€šä¿¡é‡ã€‚å› ä¸ºè¿™æ ·å¯ä»¥ä½¿ä¸»æœºä¸‹æ¬¡å†ä¸åŒæ ·åœ°å€çš„ä¸»æœºé€šä¿¡æ—¶ï¼Œå¯ä»¥ç›´æ¥ä»é«˜é€Ÿç¼“å­˜ä¸­æ‰¾åˆ°æ‰€éœ€è¦çš„ç¡¬ä»¶åœ°å€è€Œä¸éœ€è¦å†å»å¹¿æ’­æ–¹å¼å‘é€ARPè¯·æ±‚åˆ†ç»„ 6ï¼Œæ— åˆ†ç±»åŸŸé—´è·¯ç”±é€‰æ‹©CIDRæ˜¯è§£å†³ç›®å‰IPåœ°å€ç´§ç¼ºçš„ä¸€ä¸ªå¥½åŠæ³•ã€‚CIDRè®°æ³•æŠŠIPåœ°å€åé¢åŠ ä¸Šæ–œçº¿â€œ/â€ï¼Œç„¶åå†™ä¸Šå‰ç¼€æ‰€æ‰€å çš„ä½æ•°ã€‚å‰ç¼€ï¼ˆæˆ–ç½‘ç»œå‰ç¼€ç”¨æ¥æŒ‡æ˜ç½‘ç»œï¼‰ï¼Œå‰ç¼€åé¢çš„éƒ¨åˆ†æ˜¯åç¼€ï¼Œç”¨æ¥æŒ‡æ˜ä¸»æœºã€‚CIDRæŠŠå‰ç¼€éƒ½ç›¸åŒçš„è¿ç»­çš„IPåœ°å€ç»„æˆä¸€ä¸ªâ€œCIDRåœ°å€å—â€ï¼ŒIPåœ°å€åˆ†é…éƒ½ä»¥CIDRåœ°å€å—ä¸ºå•ä½ã€‚ 7ï¼Œ ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®®æ˜¯IPå±‚çš„åè®®.ICMPæŠ¥æ–‡ä½œä¸ºIPæ•°æ®æŠ¥çš„æ•°æ®ï¼ŒåŠ ä¸Šé¦–éƒ¨åç»„æˆIPæ•°æ®æŠ¥å‘é€å‡ºå»ã€‚ä½¿ç”¨ICMPæ•°æ®æŠ¥å¹¶ä¸æ˜¯ä¸ºäº†å®ç°å¯é ä¼ è¾“ã€‚ICMPå…è®¸ä¸»æœºæˆ–è·¯ç”±å™¨æŠ¥å‘Šå·®é”™æƒ…å†µå’Œæä¾›æœ‰å…³å¼‚å¸¸æƒ…å†µçš„æŠ¥å‘Šã€‚ICMPæŠ¥æ–‡çš„ç§ç±»æœ‰ä¸¤ç§ ICMPå·®é”™æŠ¥å‘ŠæŠ¥æ–‡å’ŒICMPè¯¢é—®æŠ¥æ–‡ã€‚ 8ï¼Œè¦è§£å†³IPåœ°å€è€—å°½çš„é—®é¢˜ï¼Œæœ€æ ¹æœ¬çš„åŠæ³•æ˜¯é‡‡ç”¨å…·æœ‰æ›´å¤§åœ°å€å¼“ç®­çš„æ–°ç‰ˆæœ¬IPåè®®-IPv6ã€‚IPv6æ‰€å¸¦æ¥çš„å˜åŒ–æœ‰â‘ æ›´å¤§çš„åœ°å€ç©ºé—´ï¼ˆé‡‡ç”¨128ä½åœ°å€ï¼‰â‘¡çµæ´»çš„é¦–éƒ¨æ ¼å¼â‘¢æ”¹è¿›çš„é€‰é¡¹â‘£æ”¯æŒå³æ’å³ç”¨â‘¤æ”¯æŒèµ„æºçš„é¢„åˆ†é…â‘¥IPv6çš„é¦–éƒ¨æ”¹ä¸º8å­—èŠ‚å¯¹é½ã€‚å¦å¤–IPæ•°æ®æŠ¥çš„ç›®çš„åœ°å€å¯ä»¥æ˜¯ä»¥ä¸‹ä¸‰ç§åŸºæœ¬ç±»å‹åœ°å€ä¹‹ä¸€ï¼šå•æ’­ï¼Œå¤šæ’­å’Œä»»æ’­ 9ï¼Œè™šæ‹Ÿä¸“ç”¨ç½‘ç»œVPNåˆ©ç”¨å…¬ç”¨çš„äº’è”ç½‘ä½œä¸ºæœ¬æœºæ„ä¸“ç”¨ç½‘ä¹‹é—´çš„é€šä¿¡è½½ä½“ã€‚VPNå†…ä½¿ç”¨äº’è”ç½‘çš„ä¸“ç”¨åœ°å€ã€‚ä¸€ä¸ªVPNè‡³å°‘è¦æœ‰ä¸€ä¸ªè·¯ç”±å™¨å…·æœ‰åˆæ³•çš„å…¨çƒIPåœ°å€ï¼Œè¿™æ ·æ‰èƒ½å’Œæœ¬ç³»ç»Ÿçš„å¦ä¸€ä¸ªVPNé€šè¿‡äº’è”ç½‘è¿›è¡Œé€šä¿¡ã€‚æ‰€æœ‰é€šè¿‡äº’è”ç½‘ä¼ é€çš„æ•°æ®éƒ½éœ€è¦åŠ å¯† 10ï¼Œ MPLSçš„ç‰¹ç‚¹æ˜¯ï¼šâ‘ æ”¯æŒé¢å‘è¿æ¥çš„æœåŠ¡è´¨é‡â‘¡æ”¯æŒæµé‡å·¥ç¨‹ï¼Œå¹³è¡¡ç½‘ç»œè´Ÿè½½â‘¢æœ‰æ•ˆçš„æ”¯æŒè™šæ‹Ÿä¸“ç”¨ç½‘VPNã€‚MPLSåœ¨å…¥å£èŠ‚ç‚¹ç»™æ¯ä¸€ä¸ªIPæ•°æ®æŠ¥æ‰“ä¸Šå›ºå®šé•¿åº¦çš„â€œæ ‡è®°â€ï¼Œç„¶åæ ¹æ®æ ‡è®°åœ¨ç¬¬äºŒå±‚ï¼ˆé“¾è·¯å±‚ï¼‰ç”¨ç¡¬ä»¶è¿›è¡Œè½¬å‘ï¼ˆåœ¨æ ‡è®°äº¤æ¢è·¯ç”±å™¨ä¸­è¿›è¡Œæ ‡è®°äº¤æ¢ï¼‰ï¼Œå› è€Œè½¬å‘é€Ÿç‡å¤§å¤§åŠ å¿«ã€‚ ï¼ˆ3ï¼‰ï¼Œæœ€é‡è¦çŸ¥è¯†ç‚¹ â‘  è™šæ‹Ÿäº’è”ç½‘ç»œçš„æ¦‚å¿µ â‘¡ IPåœ°å€å’Œç‰©ç†åœ°å€çš„å…³ç³» â‘¢ ä¼ ç»Ÿçš„åˆ†ç±»çš„IPåœ°å€ï¼ˆåŒ…æ‹¬å­ç½‘æ©ç ï¼‰å’Œè¯¯åˆ†ç±»åŸŸé—´è·¯ç”±é€‰æ‹©CIDR â‘£ è·¯ç”±é€‰æ‹©åè®®çš„å·¥ä½œåŸç† äº”è¿è¾“å±‚ ï¼ˆ1ï¼‰ï¼ŒåŸºæœ¬æœ¯è¯­ è¿›ç¨‹ï¼ˆprocessï¼‰ï¼š æŒ‡è®¡ç®—æœºä¸­æ­£åœ¨è¿è¡Œçš„ç¨‹åºå®ä½“ åº”ç”¨è¿›ç¨‹äº’ç›¸é€šä¿¡ï¼š ä¸€å°ä¸»æœºçš„è¿›ç¨‹å’Œå¦ä¸€å°ä¸»æœºä¸­çš„ä¸€ä¸ªè¿›ç¨‹äº¤æ¢æ•°æ®çš„è¿‡ç¨‹ï¼ˆå¦å¤–æ³¨æ„é€šä¿¡çœŸæ­£çš„ç«¯ç‚¹ä¸æ˜¯ä¸»æœºè€Œæ˜¯ä¸»æœºä¸­çš„è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ç«¯åˆ°ç«¯çš„é€šä¿¡æ˜¯åº”ç”¨è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼‰ ä¼ è¾“å±‚çš„å¤ç”¨ä¸åˆ†ç”¨ï¼š å¤ç”¨æŒ‡å‘é€æ–¹ä¸åŒçš„è¿›ç¨‹éƒ½å¯ä»¥é€šè¿‡ç»Ÿä¸€ä¸ªè¿è¾“å±‚åè®®ä¼ é€æ•°æ®ã€‚åˆ†ç”¨æŒ‡æ¥æ”¶æ–¹çš„è¿è¾“å±‚åœ¨å‰¥å»æŠ¥æ–‡çš„é¦–éƒ¨åèƒ½æŠŠè¿™äº›æ•°æ®æ­£ç¡®çš„äº¤ä»˜åˆ°ç›®çš„åº”ç”¨è¿›ç¨‹ã€‚ TCPï¼ˆTransmission Control Protocolï¼‰ï¼š ä¼ è¾“æ§åˆ¶åè®® UDPï¼ˆUser Datagram Protocolï¼‰ï¼š ç”¨æˆ·æ•°æ®æŠ¥åè®® ç«¯å£ï¼ˆportï¼‰ï¼ˆlinkï¼‰ï¼š ç«¯å£çš„ç›®çš„æ˜¯ä¸ºäº†ç¡®è®¤å¯¹æ–¹æœºå™¨æ˜¯é‚£ä¸ªè¿›ç¨‹åœ¨äºè‡ªå·±è¿›è¡Œäº¤äº’ï¼Œæ¯”å¦‚MSNå’ŒQQçš„ç«¯å£ä¸åŒï¼Œå¦‚æœæ²¡æœ‰ç«¯å£å°±å¯èƒ½å‡ºç°QQè¿›ç¨‹å’ŒMSNäº¤äº’é”™è¯¯ã€‚ç«¯å£åˆç§°åè®®ç«¯å£å·ã€‚ åœæ­¢ç­‰å¾…åè®®ï¼ˆlinkï¼‰ï¼š æŒ‡å‘é€æ–¹æ¯å‘é€å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ï¼Œåœ¨æ”¶åˆ°ç¡®è®¤ä¹‹ååœ¨å‘é€ä¸‹ä¸€ä¸ªåˆ†ç»„ã€‚ æµé‡æ§åˆ¶ï¼ˆlinkï¼‰ï¼š å°±æ˜¯è®©å‘é€æ–¹çš„å‘é€é€Ÿç‡ä¸è¦å¤ªå¿«ï¼Œæ—¢è¦è®©æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶ï¼Œä¹Ÿä¸è¦ä½¿ç½‘ç»œå‘ç”Ÿæ‹¥å¡ã€‚ æ‹¥å¡æ§åˆ¶ï¼ˆlinkï¼‰ï¼š é˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥åˆ°ç½‘ç»œä¸­ï¼Œè¿™æ ·å¯ä»¥ä½¿ç½‘ç»œä¸­çš„è·¯ç”±å™¨æˆ–é“¾è·¯ä¸è‡´è¿‡è½½ã€‚æ‹¥å¡æ§åˆ¶æ‰€è¦åšçš„éƒ½æœ‰ä¸€ä¸ªå‰æï¼Œå°±æ˜¯ç½‘ç»œèƒ½å¤Ÿæ‰¿å—ç°æœ‰çš„ç½‘ç»œè´Ÿè·ã€‚ ï¼ˆ2ï¼‰ï¼Œé‡è¦çŸ¥è¯†ç‚¹æ€»ç»“ 1ï¼Œè¿è¾“å±‚æä¾›åº”ç”¨è¿›ç¨‹ä¹‹é—´çš„é€»è¾‘é€šä¿¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿è¾“å±‚ä¹‹é—´çš„é€šä¿¡å¹¶ä¸æ˜¯çœŸæ­£åœ¨ä¸¤ä¸ªè¿è¾“å±‚ä¹‹é—´ç›´æ¥ä¼ è¾“æ•°æ®ã€‚è¿è¾“å±‚å‘åº”ç”¨å±‚å±è”½äº†ä¸‹é¢ç½‘ç»œçš„ç»†èŠ‚ï¼ˆå¦‚ç½‘ç»œæ‹“è¡¥ï¼Œæ‰€é‡‡ç”¨çš„è·¯ç”±é€‰æ‹©åè®®ç­‰ï¼‰ï¼Œå®ƒä½¿åº”ç”¨è¿›ç¨‹ä¹‹é—´çœ‹èµ·æ¥å¥½åƒä¸¤ä¸ªè¿è¾“å±‚å®ä½“ä¹‹é—´æœ‰ä¸€æ¡ç«¯åˆ°ç«¯çš„é€»è¾‘é€šä¿¡ä¿¡é“ã€‚ 2ï¼Œç½‘ç»œå±‚ä¸ºä¸»æœºæä¾›é€»è¾‘é€šä¿¡ï¼Œè€Œè¿è¾“å±‚ä¸ºåº”ç”¨è¿›ç¨‹ä¹‹é—´æä¾›ç«¯åˆ°ç«¯çš„é€»è¾‘é€šä¿¡ã€‚ 3ï¼Œè¿è¾“å±‚çš„ä¸¤ä¸ªé‡è¦åè®®æ˜¯ç”¨æˆ·æ•°æ®æŠ¥åè®®UDPå’Œä¼ è¾“æ§åˆ¶åè®®TCPã€‚æŒ‰ç…§OSIçš„æœ¯è¯­ï¼Œä¸¤ä¸ªå¯¹ç­‰è¿è¾“å®ä½“åœ¨é€šä¿¡æ—¶ä¼ é€çš„æ•°æ®å•ä½å«åšè¿è¾“åè®®æ•°æ®å•å…ƒTPDUï¼ˆTransport Protocol Data Unitï¼‰ã€‚ä½†åœ¨TCP/IPä½“ç³»ä¸­ï¼Œåˆ™æ ¹æ®æ‰€ä½¿ç”¨çš„åè®®æ˜¯TCPæˆ–UDPï¼Œåˆ†åˆ«ç§°ä¹‹ä¸ºTCPæŠ¥æ–‡æ®µæˆ–UDPç”¨æˆ·æ•°æ®æŠ¥ã€‚ 4ï¼ŒUDPåœ¨ä¼ é€æ•°æ®ä¹‹å‰ä¸éœ€è¦å…ˆå»ºç«‹è¿æ¥ï¼Œè¿œåœ°ä¸»æœºåœ¨æ”¶åˆ°UDPæŠ¥æ–‡åï¼Œä¸éœ€è¦ç»™å‡ºä»»ä½•ç¡®è®¤ã€‚è™½ç„¶UDPä¸æä¾›å¯é äº¤ä»˜ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹UDPç¡®æ˜¯ä¸€ç§æœ€æœ‰æ•ˆçš„å·¥ä½œæ–¹å¼ã€‚ TCPæä¾›é¢å‘è¿æ¥çš„æœåŠ¡ã€‚åœ¨ä¼ é€æ•°æ®ä¹‹å‰å¿…é¡»å…ˆå»ºç«‹è¿æ¥ï¼Œæ•°æ®ä¼ é€ç»“æŸåè¦é‡Šæ”¾è¿æ¥ã€‚TCPä¸æä¾›å¹¿æ’­æˆ–å¤šæ’­æœåŠ¡ã€‚ç”±äºTCPè¦æä¾›å¯é çš„ï¼Œé¢å‘è¿æ¥çš„ä¼ è¾“æœåŠ¡ï¼Œè¿™ä¸€éš¾ä»¥é¿å…å¢åŠ äº†è®¸å¤šå¼€é”€ï¼Œå¦‚ç¡®è®¤ï¼Œæµé‡æ§åˆ¶ï¼Œè®¡æ—¶å™¨ä»¥åŠè¿æ¥ç®¡ç†ç­‰ã€‚è¿™ä¸ä»…ä½¿åè®®æ•°æ®å•å…ƒçš„é¦–éƒ¨å¢å¤§å¾ˆå¤šï¼Œè¿˜è¦å ç”¨è®¸å¤šå¤„ç†æœºèµ„æºã€‚ 5ï¼Œç¡¬ä»¶ç«¯å£æ˜¯ä¸åŒç¡¬ä»¶è®¾å¤‡è¿›è¡Œäº¤äº’çš„æ¥å£ï¼Œè€Œè½¯ä»¶ç«¯å£æ˜¯åº”ç”¨å±‚å„ç§åè®®è¿›ç¨‹ä¸è¿è¾“å®ä½“è¿›è¡Œå±‚é—´äº¤äº’çš„ä¸€ç§åœ°å€ã€‚UDPå’ŒTCPçš„é¦–éƒ¨æ ¼å¼ä¸­éƒ½æœ‰æºç«¯å£å’Œç›®çš„ç«¯å£è¿™ä¸¤ä¸ªé‡è¦å­—æ®µã€‚å½“è¿è¾“å±‚æ”¶åˆ°IPå±‚äº¤ä¸Šæ¥çš„è¿è¾“å±‚æŠ¥æ–‡æ—¶ï¼Œå°±èƒ½å¤Ÿ æ ¹æ®å…¶é¦–éƒ¨ä¸­çš„ç›®çš„ç«¯å£å·æŠŠæ•°æ®äº¤ä»˜åº”ç”¨å±‚çš„ç›®çš„åº”ç”¨å±‚ã€‚ï¼ˆä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´è¿›è¡Œé€šä¿¡ä¸å…‰è¦çŸ¥é“å¯¹æ–¹IPåœ°å€è€Œä¸”è¦çŸ¥é“å¯¹æ–¹çš„ç«¯å£å·(ä¸ºäº†æ‰¾åˆ°å¯¹æ–¹è®¡ç®—æœºä¸­çš„åº”ç”¨è¿›ç¨‹)ï¼‰ 6ï¼Œè¿è¾“å±‚ç”¨ä¸€ä¸ª16ä½ç«¯å£å·æ ‡å¿—ä¸€ä¸ªç«¯å£ã€‚ç«¯å£å·åªæœ‰æœ¬åœ°æ„ä¹‰ï¼Œå®ƒåªæ˜¯ä¸ºäº†æ ‡å¿—è®¡ç®—æœºåº”ç”¨å±‚ä¸­çš„å„ä¸ªè¿›ç¨‹åœ¨å’Œè¿è¾“å±‚äº¤äº’æ—¶çš„å±‚é—´æ¥å£ã€‚åœ¨äº’è”ç½‘çš„ä¸åŒè®¡ç®—æœºä¸­ï¼Œç›¸åŒçš„ç«¯å£å·æ˜¯æ²¡æœ‰å…³è”çš„ã€‚åè®®ç«¯å£å·ç®€ç§°ç«¯å£ã€‚è™½ç„¶é€šä¿¡çš„ç»ˆç‚¹æ˜¯åº”ç”¨è¿›ç¨‹ï¼Œä½†åªè¦æŠŠæ‰€å‘é€çš„æŠ¥æ–‡äº¤åˆ°ç›®çš„ä¸»æœºçš„æŸä¸ªåˆé€‚ç«¯å£ï¼Œå‰©ä¸‹çš„å·¥ä½œï¼ˆæœ€åäº¤ä»˜ç›®çš„è¿›ç¨‹ï¼‰å°±ç”±TCPå’ŒUDPæ¥å®Œæˆã€‚ 7ï¼Œè¿è¾“å±‚çš„ç«¯å£å·åˆ†ä¸ºæœåŠ¡å™¨ç«¯ä½¿ç”¨çš„ç«¯å£å·ï¼ˆ01023æŒ‡æ´¾ç»™ç†ŸçŸ¥ç«¯å£ï¼Œ102449151æ˜¯ç™»è®°ç«¯å£å·ï¼‰å’Œå®¢æˆ·ç«¯æš‚æ—¶ä½¿ç”¨çš„ç«¯å£å·ï¼ˆ49152~65535ï¼‰ 8ï¼ŒUDPçš„ä¸»è¦ç‰¹ç‚¹æ˜¯â‘ æ— è¿æ¥â‘¡å°½æœ€å¤§åŠªåŠ›äº¤ä»˜â‘¢é¢å‘æŠ¥æ–‡â‘£æ— æ‹¥å¡æ§åˆ¶â‘¤æ”¯æŒä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡â‘¥é¦–éƒ¨å¼€é”€å°ï¼ˆåªæœ‰å››ä¸ªå­—æ®µï¼šæºç«¯å£ï¼Œç›®çš„ç«¯å£ï¼Œé•¿åº¦å’Œæ£€éªŒå’Œï¼‰ 9ï¼ŒTCPçš„ä¸»è¦ç‰¹ç‚¹æ˜¯â‘ é¢å‘è¿æ¥â‘¡æ¯ä¸€æ¡TCPè¿æ¥åªèƒ½æ˜¯ä¸€å¯¹ä¸€çš„â‘¢æä¾›å¯é äº¤ä»˜â‘£æä¾›å…¨åŒå·¥é€šä¿¡â‘¤é¢å‘å­—èŠ‚æµ 10ï¼ŒTCPç”¨ä¸»æœºçš„IPåœ°å€åŠ ä¸Šä¸»æœºä¸Šçš„ç«¯å£å·ä½œä¸ºTCPè¿æ¥çš„ç«¯ç‚¹ã€‚è¿™æ ·çš„ç«¯ç‚¹å°±å«åšå¥—æ¥å­—ï¼ˆsocketï¼‰æˆ–æ’å£ã€‚å¥—æ¥å­—ç”¨ï¼ˆIPåœ°å€ï¼šç«¯å£å·ï¼‰æ¥è¡¨ç¤ºã€‚æ¯ä¸€æ¡TCPè¿æ¥å”¯ä¸€è¢«é€šä¿¡ä¸¤ç«¯çš„ä¸¤ä¸ªç«¯ç‚¹æ‰€ç¡®å®šã€‚ 11ï¼Œåœæ­¢ç­‰å¾…åè®®æ˜¯ä¸ºäº†å®ç°å¯é ä¼ è¾“çš„ï¼Œå®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚åœ¨æ”¶åˆ°ç¡®è®¤åå†å‘ä¸‹ä¸€ä¸ªåˆ†ç»„ã€‚ 12ï¼Œä¸ºäº†æé«˜ä¼ è¾“æ•ˆç‡ï¼Œå‘é€æ–¹å¯ä»¥ä¸ä½¿ç”¨ä½æ•ˆç‡çš„åœæ­¢ç­‰å¾…åè®®ï¼Œè€Œæ˜¯é‡‡ç”¨æµæ°´çº¿ä¼ è¾“ã€‚æµæ°´çº¿ä¼ è¾“å°±æ˜¯å‘é€æ–¹å¯è¿ç»­å‘é€å¤šä¸ªåˆ†ç»„ï¼Œä¸å¿…æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœä¸‹æ¥ç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚è¿™æ ·å¯ä½¿ä¿¡é“ä¸Šä¸€ç›´æœ‰æ•°æ®ä¸é—´æ–­çš„åœ¨ä¼ é€ã€‚è¿™ç§ä¼ è¾“æ–¹å¼å¯ä»¥æ˜æ˜¾æé«˜ä¿¡é“åˆ©ç”¨ç‡ã€‚ 13ï¼Œåœæ­¢ç­‰å¾…åè®®ä¸­è¶…æ—¶é‡ä¼ æ˜¯æŒ‡åªè¦è¶…è¿‡ä¸€æ®µæ—¶é—´ä»ç„¶æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œå°±é‡ä¼ å‰é¢å‘é€è¿‡çš„åˆ†ç»„ï¼ˆè®¤ä¸ºåˆšæ‰å‘é€è¿‡çš„åˆ†ç»„ä¸¢å¤±äº†ï¼‰ã€‚å› æ­¤æ¯å‘é€å®Œä¸€ä¸ªåˆ†ç»„éœ€è¦è®¾ç½®ä¸€ä¸ªè¶…æ—¶è®¡æ—¶å™¨ï¼Œå…¶é‡è½¬æ—¶é—´åº”æ¯”æ•°æ®åœ¨åˆ†ç»„ä¼ è¾“çš„å¹³å‡å¾€è¿”æ—¶é—´æ›´é•¿ä¸€äº›ã€‚è¿™ç§è‡ªåŠ¨é‡ä¼ æ–¹å¼å¸¸ç§°ä¸ºè‡ªåŠ¨é‡ä¼ è¯·æ±‚ARQã€‚å¦å¤–åœ¨åœæ­¢ç­‰å¾…åè®®ä¸­è‹¥æ”¶åˆ°é‡å¤åˆ†ç»„ï¼Œå°±ä¸¢å¼ƒè¯¥åˆ†ç»„ï¼Œä½†åŒæ—¶è¿˜è¦å‘é€ç¡®è®¤ã€‚è¿ç»­ARQåè®®å¯æé«˜ä¿¡é“åˆ©ç”¨ç‡ã€‚å‘é€ç»´æŒä¸€ä¸ªå‘é€çª—å£ï¼Œå‡¡ä½äºå‘é€çª—å£å†…çš„åˆ†ç»„å¯è¿ç»­å‘é€å‡ºå»ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚æ¥æ”¶æ–¹ä¸€èˆ¬é‡‡ç”¨ç´¯ç§¯ç¡®è®¤ï¼Œå¯¹æŒ‰åºåˆ°è¾¾çš„æœ€åä¸€ä¸ªåˆ†ç»„å‘é€ç¡®è®¤ï¼Œè¡¨æ˜åˆ°è¿™ä¸ªåˆ†ç»„ä½ç½®çš„æ‰€æœ‰åˆ†ç»„éƒ½å·²ç»æ­£ç¡®æ”¶åˆ°äº†ã€‚ 14ï¼ŒTCPæŠ¥æ–‡æ®µçš„å‰20ä¸ªå­—èŠ‚æ˜¯å›ºå®šçš„ï¼Œåé¢æœ‰4nå­—èŠ‚æ˜¯æ ¹æ®éœ€è¦å¢åŠ çš„é€‰é¡¹ã€‚å› æ­¤ï¼ŒTCPé¦–éƒ¨çš„æœ€å°é•¿åº¦æ˜¯20å­—èŠ‚ã€‚ 15ï¼ŒTCPä½¿ç”¨æ»‘åŠ¨çª—å£æœºåˆ¶ã€‚å‘é€çª—å£é‡Œé¢çš„åºå·è¡¨ç¤ºå…è®¸å‘é€çš„åºå·ã€‚å‘é€çª—å£åæ²¿çš„åé¢éƒ¨åˆ†è¡¨ç¤ºå·²å‘é€ä¸”å·²æ”¶åˆ°ç¡®è®¤ï¼Œè€Œå‘é€çª—å£å‰æ²¿çš„å‰é¢éƒ¨åˆ†è¡¨ç¤ºä¸æ™•ä¸å‘é€ã€‚å‘é€çª—å£åæ²¿çš„å˜åŒ–æƒ…å†µæœ‰ä¸¤ç§å¯èƒ½ï¼Œå³ä¸åŠ¨ï¼ˆæ²¡æœ‰æ”¶åˆ°æ–°çš„ç¡®è®¤ï¼‰å’Œå‰ç§»ï¼ˆæ”¶åˆ°äº†æ–°çš„ç¡®è®¤ï¼‰ã€‚å‘é€çª—å£çš„å‰æ²¿é€šå¸¸æ˜¯ä¸æ–­å‘å‰ç§»åŠ¨çš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬æ€»æ˜¯å¸Œæœ›æ•°æ®ä¼ è¾“æ›´å¿«ä¸€äº›ã€‚ä½†å¦‚æœå‘é€æ–¹æŠŠæ•°æ®å‘é€çš„è¿‡å¿«ï¼Œæ¥æ”¶æ–¹å°±å¯èƒ½æ¥ä¸åŠæ¥æ”¶ï¼Œè¿™å°±ä¼šé€ æˆæ•°æ®çš„ä¸¢å¤±ã€‚æ‰€è°“æµé‡æ§åˆ¶å°±æ˜¯è®©å‘é€æ–¹çš„å‘é€é€Ÿç‡ä¸è¦å¤ªå¿«ï¼Œè¦è®©æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶ã€‚ 16ï¼Œåœ¨æŸæ®µæ—¶é—´ï¼Œè‹¥å¯¹ç½‘ç»œä¸­æŸä¸€èµ„æºçš„éœ€æ±‚è¶…è¿‡äº†è¯¥èµ„æºæ‰€èƒ½æä¾›çš„å¯ç”¨éƒ¨åˆ†ï¼Œç½‘ç»œçš„æ€§èƒ½å°±è¦å˜åã€‚è¿™ç§æƒ…å†µå°±å«æ‹¥å¡ã€‚æ‹¥å¡æ§åˆ¶å°±æ˜¯ä¸ºäº†é˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥åˆ°ç½‘ç»œä¸­ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç½‘ç»œä¸­çš„è·¯ç”±å™¨æˆ–é“¾è·¯ä¸è‡´è¿‡è½½ã€‚æ‹¥å¡æ§åˆ¶æ‰€è¦åšçš„éƒ½æœ‰ä¸€ä¸ªå‰æï¼Œå°±æ˜¯ç½‘ç»œèƒ½å¤Ÿæ‰¿å—ç°æœ‰çš„ç½‘ç»œè´Ÿè·ã€‚æ‹¥å¡æ§åˆ¶æ˜¯ä¸€ä¸ªå…¨å±€æ€§çš„è¿‡ç¨‹ï¼Œæ¶‰åŠåˆ°æ‰€æœ‰çš„ä¸»æœºï¼Œæ‰€æœ‰çš„è·¯ç”±å™¨ï¼Œä»¥åŠä¸é™ä½ç½‘ç»œä¼ è¾“æ€§èƒ½æœ‰å…³çš„æ‰€æœ‰å› ç´ ã€‚ç›¸åï¼Œæµé‡æ§åˆ¶å¾€å¾€æ˜¯ç‚¹å¯¹ç‚¹é€šä¿¡é‡çš„æ§åˆ¶ï¼Œæ˜¯ä¸ªç«¯åˆ°ç«¯çš„é—®é¢˜ã€‚æµé‡æ§åˆ¶æ‰€è¦åšåˆ°çš„å°±æ˜¯æŠ‘åˆ¶å‘é€ç«¯å‘é€æ•°æ®çš„é€Ÿç‡ï¼Œä»¥ä¾¿ä½¿æ¥æ”¶ç«¯æ¥å¾—åŠæ¥æ”¶ã€‚ 17ï¼Œä¸ºäº†è¿›è¡Œæ‹¥å¡æ§åˆ¶ï¼ŒTCPå‘é€æ–¹è¦ç»´æŒä¸€ä¸ªæ‹¥å¡çª—å£cwndçš„çŠ¶æ€å˜é‡ã€‚æ‹¥å¡æ§åˆ¶çª—å£çš„å¤§å°å–å†³äºç½‘ç»œçš„æ‹¥å¡ç¨‹åº¦ï¼Œå¹¶ä¸”åŠ¨æ€å˜åŒ–ã€‚å‘é€æ–¹è®©è‡ªå·±çš„å‘é€çª—å£å–ä¸ºæ‹¥å¡çª—å£å’Œæ¥æ”¶æ–¹çš„æ¥å—çª—å£ä¸­è¾ƒå°çš„ä¸€ä¸ªã€‚ 18ï¼ŒTCPçš„æ‹¥å¡æ§åˆ¶é‡‡ç”¨äº†å››ç§ç®—æ³•ï¼Œå³æ…¢å¼€å§‹ï¼Œæ‹¥å¡é¿å…ï¼Œå¿«é‡ä¼ å’Œå¿«æ¢å¤ã€‚åœ¨ç½‘ç»œå±‚ä¹Ÿå¯ä»¥ä½¿è·¯ç”±å™¨é‡‡ç”¨é€‚å½“çš„åˆ†ç»„ä¸¢å¼ƒç­–ç•¥ï¼ˆå¦‚ä¸»åŠ¨é˜Ÿåˆ—ç®¡ç†AQMï¼‰ï¼Œä»¥å‡å°‘ç½‘ç»œæ‹¥å¡çš„å‘ç”Ÿã€‚ 19ï¼Œè¿è¾“è¿æ¥çš„ä¸‰ä¸ªé˜¶æ®µï¼Œå³ï¼šè¿æ¥å»ºç«‹ï¼Œæ•°æ®ä¼ é€å’Œè¿æ¥é‡Šæ”¾ã€‚ 20ï¼Œä¸»åŠ¨å‘èµ·TCPè¿æ¥å»ºç«‹çš„åº”ç”¨è¿›ç¨‹å«åšå®¢æˆ·ï¼Œè€Œè¢«åŠ¨ç­‰å¾…è¿æ¥å»ºç«‹çš„åº”ç”¨è¿›ç¨‹å«åšæœåŠ¡å™¨ã€‚TCPè¿æ¥é‡‡ç”¨ä¸‰æŠ¥æ–‡æ¡æ‰‹æœºåˆ¶ã€‚æœåŠ¡å™¨è¦ç¡®è®¤ç”¨æˆ·çš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå®¢æˆ·è¦å¯¹æœåŠ¡å™¨çš„ç¡®è®¤è¿›è¡Œç¡®è®¤ã€‚ 21ï¼ŒTCPçš„è¿æ¥é‡Šæ”¾é‡‡ç”¨å››æŠ¥æ–‡æ¡æ‰‹æœºåˆ¶ã€‚ä»»ä½•ä¸€æ–¹éƒ½å¯ä»¥åœ¨æ•°æ®ä¼ é€ç»“æŸåå‘å‡ºè¿æ¥é‡Šæ”¾çš„é€šçŸ¥ï¼Œå¾…å¯¹æ–¹ç¡®è®¤åè¿›å…¥åŠå…³é—­çŠ¶æ€ã€‚å½“å¦ä¸€æ–¹ä¹Ÿæ²¡æœ‰æ•°æ®å†å‘é€æ—¶ï¼Œåˆ™å‘é€è¿æ¥é‡Šæ”¾é€šçŸ¥ï¼Œå¯¹æ–¹ç¡®è®¤åå°±å®Œå…¨å…³é—­äº†TCPè¿æ¥ ï¼ˆ3ï¼‰ï¼Œæœ€é‡è¦çš„çŸ¥è¯†ç‚¹ â‘  ç«¯å£å’Œå¥—æ¥å­—çš„æ„ä¹‰ â‘¡ æ— è¿æ¥UDPçš„ç‰¹ç‚¹ â‘¢ é¢å‘è¿æ¥TCPçš„ç‰¹ç‚¹ â‘£ åœ¨ä¸å¯é çš„ç½‘ç»œä¸Šå®ç°å¯é ä¼ è¾“çš„å·¥ä½œåŸç†ï¼Œåœæ­¢ç­‰å¾…åè®®å’ŒARQåè®® â‘  TCPçš„æ»‘åŠ¨çª—å£ï¼Œæµé‡æ§åˆ¶ï¼Œæ‹¥å¡æ§åˆ¶å’Œè¿æ¥ç®¡ç† å…­åº”ç”¨å±‚ ï¼ˆ1ï¼‰ï¼ŒåŸºæœ¬æœ¯è¯­ åŸŸåç³»ç»Ÿï¼ˆDNSï¼‰ï¼š DNSï¼ˆDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼‰ï¼Œä¸‡ç»´ç½‘ä¸Šä½œä¸ºåŸŸåå’ŒIPåœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œèƒ½å¤Ÿä½¿ç”¨æˆ·æ›´æ–¹ä¾¿çš„è®¿é—®äº’è”ç½‘ï¼Œè€Œä¸ç”¨å»è®°ä½èƒ½å¤Ÿè¢«æœºå™¨ç›´æ¥è¯»å–çš„IPæ•°ä¸²ã€‚ é€šè¿‡åŸŸåï¼Œæœ€ç»ˆå¾—åˆ°è¯¥åŸŸåå¯¹åº”çš„IPåœ°å€çš„è¿‡ç¨‹å«åšåŸŸåè§£æï¼ˆæˆ–ä¸»æœºåè§£æï¼‰ã€‚DNSåè®®è¿è¡Œåœ¨UDPåè®®ä¹‹ä¸Šï¼Œä½¿ç”¨ç«¯å£å·53ã€‚åœ¨RFCæ–‡æ¡£ä¸­RFC 2181å¯¹DNSæœ‰è§„èŒƒè¯´æ˜ï¼ŒRFC 2136å¯¹DNSçš„åŠ¨æ€æ›´æ–°è¿›è¡Œè¯´æ˜ï¼ŒRFC 2308å¯¹DNSæŸ¥è¯¢çš„åå‘ç¼“å­˜è¿›è¡Œè¯´æ˜ã€‚ æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFTPï¼‰ï¼š FTP æ˜¯File TransferProtocolï¼ˆæ–‡ä»¶ä¼ è¾“åè®®ï¼‰çš„è‹±æ–‡ç®€ç§°ï¼Œè€Œä¸­æ–‡ç®€ç§°ä¸ºâ€œæ–‡ä¼ åè®®â€ã€‚ç”¨äºInternetä¸Šçš„æ§åˆ¶æ–‡ä»¶çš„åŒå‘ä¼ è¾“ã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼ˆApplicationï¼‰ã€‚ åŸºäºä¸åŒçš„æ“ä½œç³»ç»Ÿæœ‰ä¸åŒçš„FTPåº”ç”¨ç¨‹åºï¼Œè€Œæ‰€æœ‰è¿™äº›åº”ç”¨ç¨‹åºéƒ½éµå®ˆåŒä¸€ç§åè®®ä»¥ä¼ è¾“æ–‡ä»¶ã€‚åœ¨FTPçš„ä½¿ç”¨å½“ä¸­ï¼Œç”¨æˆ·ç»å¸¸é‡åˆ°ä¸¤ä¸ªæ¦‚å¿µï¼š&quot;ä¸‹è½½&quot;ï¼ˆDownloadï¼‰å’Œ&quot;ä¸Šä¼ &quot;ï¼ˆUploadï¼‰ã€‚ &quot;ä¸‹è½½&quot;æ–‡ä»¶å°±æ˜¯ä»è¿œç¨‹ä¸»æœºæ‹·è´æ–‡ä»¶è‡³è‡ªå·±çš„è®¡ç®—æœºä¸Šï¼›&quot;ä¸Šä¼ &quot;æ–‡ä»¶å°±æ˜¯å°†æ–‡ä»¶ä»è‡ªå·±çš„è®¡ç®—æœºä¸­æ‹·è´è‡³è¿œç¨‹ä¸»æœºä¸Šã€‚ç”¨Internetè¯­è¨€æ¥è¯´ï¼Œç”¨æˆ·å¯é€šè¿‡å®¢æˆ·æœºç¨‹åºå‘ï¼ˆä»ï¼‰è¿œç¨‹ä¸»æœºä¸Šä¼ ï¼ˆä¸‹è½½ï¼‰æ–‡ä»¶ã€‚ ç®€å•æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆTFTPï¼‰ï¼š TFTPï¼ˆTrivial File Transfer Protocol,ç®€å•æ–‡ä»¶ä¼ è¾“åè®®ï¼‰æ˜¯TCP/IPåè®®æ—ä¸­çš„ä¸€ä¸ªç”¨æ¥åœ¨å®¢æˆ·æœºä¸æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œç®€å•æ–‡ä»¶ä¼ è¾“çš„åè®®ï¼Œæä¾›ä¸å¤æ‚ã€å¼€é”€ä¸å¤§çš„æ–‡ä»¶ä¼ è¾“æœåŠ¡ã€‚ç«¯å£å·ä¸º69ã€‚ è¿œç¨‹ç»ˆç«¯åè®®ï¼ˆTELENETï¼‰ï¼š Telnetåè®®æ˜¯TCP/IPåè®®æ—ä¸­çš„ä¸€å‘˜ï¼Œæ˜¯Internetè¿œç¨‹ç™»é™†æœåŠ¡çš„æ ‡å‡†åè®®å’Œä¸»è¦æ–¹å¼ã€‚å®ƒä¸ºç”¨æˆ·æä¾›äº†åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šå®Œæˆè¿œç¨‹ä¸»æœºå·¥ä½œçš„èƒ½åŠ›ã€‚ åœ¨ç»ˆç«¯ä½¿ç”¨è€…çš„ç”µè„‘ä¸Šä½¿ç”¨telnetç¨‹åºï¼Œç”¨å®ƒè¿æ¥åˆ°æœåŠ¡å™¨ã€‚ç»ˆç«¯ä½¿ç”¨è€…å¯ä»¥åœ¨telnetç¨‹åºä¸­è¾“å…¥å‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤ä¼šåœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œå°±åƒç›´æ¥åœ¨æœåŠ¡å™¨çš„æ§åˆ¶å°ä¸Šè¾“å…¥ä¸€æ ·ã€‚ å¯ä»¥åœ¨æœ¬åœ°å°±èƒ½æ§åˆ¶æœåŠ¡å™¨ã€‚è¦å¼€å§‹ä¸€ä¸ªtelnetä¼šè¯ï¼Œå¿…é¡»è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ¥ç™»å½•æœåŠ¡å™¨ã€‚Telnetæ˜¯å¸¸ç”¨çš„è¿œç¨‹æ§åˆ¶WebæœåŠ¡å™¨çš„æ–¹æ³•ã€‚ ä¸‡ç»´ç½‘ï¼ˆWWWï¼‰ï¼š WWWæ˜¯ç¯çƒä¿¡æ¯ç½‘çš„ç¼©å†™ï¼Œï¼ˆäº¦ä½œâ€œWebâ€ã€â€œWWWâ€ã€â€œ'W3'â€ï¼Œè‹±æ–‡å…¨ç§°ä¸ºâ€œWorld Wide Webâ€ï¼‰ï¼Œä¸­æ–‡åå­—ä¸ºâ€œä¸‡ç»´ç½‘â€ï¼Œ&quot;ç¯çƒç½‘&quot;ç­‰ï¼Œå¸¸ç®€ç§°ä¸ºWebã€‚åˆ†ä¸ºWebå®¢æˆ·ç«¯å’ŒWebæœåŠ¡å™¨ç¨‹åºã€‚ WWWå¯ä»¥è®©Webå®¢æˆ·ç«¯ï¼ˆå¸¸ç”¨æµè§ˆå™¨ï¼‰è®¿é—®æµè§ˆWebæœåŠ¡å™¨ä¸Šçš„é¡µé¢ã€‚æ˜¯ä¸€ä¸ªç”±è®¸å¤šäº’ç›¸é“¾æ¥çš„è¶…æ–‡æœ¬ç»„æˆçš„ç³»ç»Ÿï¼Œé€šè¿‡äº’è”ç½‘è®¿é—®ã€‚åœ¨è¿™ä¸ªç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªæœ‰ç”¨çš„äº‹ç‰©ï¼Œç§°ä¸ºä¸€æ ·â€œèµ„æºâ€ï¼›å¹¶ä¸”ç”±ä¸€ä¸ªå…¨å±€â€œç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦â€ï¼ˆURIï¼‰æ ‡è¯†ï¼›è¿™äº›èµ„æºé€šè¿‡è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHypertext Transfer Protocolï¼‰ä¼ é€ç»™ç”¨æˆ·ï¼Œè€Œåè€…é€šè¿‡ç‚¹å‡»é“¾æ¥æ¥è·å¾—èµ„æºã€‚ ä¸‡ç»´ç½‘è”ç›Ÿï¼ˆè‹±è¯­ï¼šWorld Wide Web Consortiumï¼Œç®€ç§°W3Cï¼‰ï¼Œåˆç§°W3Cç†äº‹ä¼šã€‚1994å¹´10æœˆåœ¨éº»çœç†å·¥å­¦é™¢ï¼ˆMITï¼‰è®¡ç®—æœºç§‘å­¦å®éªŒå®¤æˆç«‹ã€‚ä¸‡ç»´ç½‘è”ç›Ÿçš„åˆ›å»ºè€…æ˜¯ä¸‡ç»´ç½‘çš„å‘æ˜è€…è’‚å§†Â·ä¼¯çº³æ–¯-æã€‚ ä¸‡ç»´ç½‘å¹¶ä¸ç­‰åŒäº’è”ç½‘ï¼Œä¸‡ç»´ç½‘åªæ˜¯äº’è”ç½‘æ‰€èƒ½æä¾›çš„æœåŠ¡å…¶ä¸­ä¹‹ä¸€ï¼Œæ˜¯é ç€äº’è”ç½‘è¿è¡Œçš„ä¸€é¡¹æœåŠ¡ã€‚ ä¸‡ç»´ç½‘çš„å¤§è‡´å·¥ä½œå·¥ç¨‹ï¼š ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰ï¼š ç»Ÿä¸€èµ„æºå®šä½ç¬¦æ˜¯å¯¹å¯ä»¥ä»äº’è”ç½‘ä¸Šå¾—åˆ°çš„èµ„æºçš„ä½ç½®å’Œè®¿é—®æ–¹æ³•çš„ä¸€ç§ç®€æ´çš„è¡¨ç¤ºï¼Œæ˜¯äº’è”ç½‘ä¸Šæ ‡å‡†èµ„æºçš„åœ°å€ã€‚äº’è”ç½‘ä¸Šçš„æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„URLï¼Œå®ƒåŒ…å«çš„ä¿¡æ¯æŒ‡å‡ºæ–‡ä»¶çš„ä½ç½®ä»¥åŠæµè§ˆå™¨åº”è¯¥æ€ä¹ˆå¤„ç†å®ƒã€‚ è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHTTPï¼‰ï¼š è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHTTPï¼ŒHyperText Transfer Protocol)æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ã€‚æ‰€æœ‰çš„WWWæ–‡ä»¶éƒ½å¿…é¡»éµå®ˆè¿™ä¸ªæ ‡å‡†ã€‚ è®¾è®¡HTTPæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚1960å¹´ç¾å›½äººTed Nelsonæ„æ€äº†ä¸€ç§é€šè¿‡è®¡ç®—æœºå¤„ç†æ–‡æœ¬ä¿¡æ¯çš„æ–¹æ³•ï¼Œå¹¶ç§°ä¹‹ä¸ºè¶…æ–‡æœ¬ï¼ˆhypertextï¼‰,è¿™æˆä¸ºäº†HTTPè¶…æ–‡æœ¬ä¼ è¾“åè®®æ ‡å‡†æ¶æ„çš„å‘å±•æ ¹åŸºã€‚ ä»£ç†æœåŠ¡å™¨ï¼ˆProxy Serverï¼‰ï¼š ä»£ç†æœåŠ¡å™¨ï¼ˆProxy Serverï¼‰æ˜¯ä¸€ç§ç½‘ç»œå®ä½“ï¼Œå®ƒåˆç§°ä¸ºä¸‡ç»´ç½‘é«˜é€Ÿç¼“å­˜ã€‚ ä»£ç†æœåŠ¡å™¨æŠŠæœ€è¿‘çš„ä¸€äº›è¯·æ±‚å’Œå“åº”æš‚å­˜åœ¨æœ¬åœ°ç£ç›˜ä¸­ã€‚å½“æ–°è¯·æ±‚åˆ°è¾¾æ—¶ï¼Œè‹¥ä»£ç†æœåŠ¡å™¨å‘ç°è¿™ä¸ªè¯·æ±‚ä¸æš‚æ—¶å­˜æ”¾çš„çš„è¯·æ±‚ç›¸åŒï¼Œå°±è¿”å›æš‚å­˜çš„å“åº”ï¼Œè€Œä¸éœ€è¦æŒ‰URLçš„åœ°å€å†æ¬¡å»äº’è”ç½‘è®¿é—®è¯¥èµ„æºã€‚ ä»£ç†æœåŠ¡å™¨å¯åœ¨å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å·¥ä½œï¼Œä¹Ÿå¯ä»¥åœ¨ä¸­é—´ç³»ç»Ÿå·¥ä½œã€‚ httpè¯·æ±‚å¤´ï¼š httpè¯·æ±‚å¤´ï¼ŒHTTPå®¢æˆ·ç¨‹åºï¼ˆä¾‹å¦‚æµè§ˆå™¨ï¼‰ï¼Œå‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™å¿…é¡»æŒ‡æ˜è¯·æ±‚ç±»å‹ï¼ˆä¸€èˆ¬æ˜¯GETæˆ–è€…POSTï¼‰ã€‚å¦‚æœ‰å¿…è¦ï¼Œå®¢æˆ·ç¨‹åºè¿˜å¯ä»¥é€‰æ‹©å‘é€å…¶ä»–çš„è¯·æ±‚å¤´ã€‚ - Acceptï¼šæµè§ˆå™¨å¯æ¥å—çš„MIMEç±»å‹ã€‚ - Accept-Charsetï¼šæµè§ˆå™¨å¯æ¥å—çš„å­—ç¬¦é›†ã€‚ - Accept-Encodingï¼šæµè§ˆå™¨èƒ½å¤Ÿè¿›è¡Œè§£ç çš„æ•°æ®ç¼–ç æ–¹å¼ï¼Œæ¯”å¦‚gzipã€‚Servletèƒ½å¤Ÿå‘æ”¯æŒgzipçš„æµè§ˆå™¨è¿”å›ç»gzipç¼–ç çš„HTMLé¡µé¢ã€‚è®¸å¤šæƒ…å½¢ä¸‹è¿™å¯ä»¥å‡å°‘5åˆ°10å€çš„ä¸‹è½½æ—¶é—´ã€‚ - Accept-Languageï¼šæµè§ˆå™¨æ‰€å¸Œæœ›çš„è¯­è¨€ç§ç±»ï¼Œå½“æœåŠ¡å™¨èƒ½å¤Ÿæä¾›ä¸€ç§ä»¥ä¸Šçš„è¯­è¨€ç‰ˆæœ¬æ—¶è¦ç”¨åˆ°ã€‚ - Authorizationï¼šæˆæƒä¿¡æ¯ï¼Œé€šå¸¸å‡ºç°åœ¨å¯¹æœåŠ¡å™¨å‘é€çš„WWW-Authenticateå¤´çš„åº”ç­”ä¸­ã€‚ - Connectionï¼šè¡¨ç¤ºæ˜¯å¦éœ€è¦æŒä¹…è¿æ¥ã€‚å¦‚æœServletçœ‹åˆ°è¿™é‡Œçš„å€¼ä¸ºâ€œKeep-Aliveâ€ï¼Œæˆ–è€…çœ‹åˆ°è¯·æ±‚ä½¿ç”¨çš„æ˜¯HTTP 1.1ï¼ˆHTTP 1.1é»˜è®¤è¿›è¡ŒæŒä¹…è¿æ¥ï¼‰ï¼Œå®ƒå°±å¯ä»¥åˆ©ç”¨æŒä¹…è¿æ¥çš„ä¼˜ç‚¹ï¼Œå½“é¡µé¢åŒ…å«å¤šä¸ªå…ƒç´ æ—¶ï¼ˆä¾‹å¦‚Appletï¼Œå›¾ç‰‡ï¼‰ï¼Œæ˜¾è‘—åœ°å‡å°‘ä¸‹è½½æ‰€éœ€è¦çš„æ—¶é—´ã€‚è¦å®ç°è¿™ä¸€ç‚¹ï¼ŒServletéœ€è¦åœ¨åº”ç­”ä¸­å‘é€ä¸€ä¸ªContent-Lengthå¤´ï¼Œæœ€ç®€å•çš„å®ç°æ–¹æ³•æ˜¯ï¼šå…ˆæŠŠå†…å®¹å†™å…¥ByteArrayOutputStreamï¼Œç„¶ååœ¨æ­£å¼å†™å‡ºå†…å®¹ä¹‹å‰è®¡ç®—å®ƒçš„å¤§å°ã€‚ - Content-Lengthï¼šè¡¨ç¤ºè¯·æ±‚æ¶ˆæ¯æ­£æ–‡çš„é•¿åº¦ã€‚ - Cookieï¼šè¿™æ˜¯æœ€é‡è¦çš„è¯·æ±‚å¤´ä¿¡æ¯ä¹‹ä¸€ - Fromï¼šè¯·æ±‚å‘é€è€…çš„emailåœ°å€ï¼Œç”±ä¸€äº›ç‰¹æ®Šçš„Webå®¢æˆ·ç¨‹åºä½¿ç”¨ï¼Œæµè§ˆå™¨ä¸ä¼šç”¨åˆ°å®ƒã€‚ - Hostï¼šåˆå§‹URLä¸­çš„ä¸»æœºå’Œç«¯å£ã€‚ - If-Modified-Sinceï¼šåªæœ‰å½“æ‰€è¯·æ±‚çš„å†…å®¹åœ¨æŒ‡å®šçš„æ—¥æœŸä¹‹ååˆç»è¿‡ä¿®æ”¹æ‰è¿”å›å®ƒï¼Œå¦åˆ™è¿”å›304â€œNot Modifiedâ€åº”ç­”ã€‚ - Pragmaï¼šæŒ‡å®šâ€œno-cacheâ€å€¼è¡¨ç¤ºæœåŠ¡å™¨å¿…é¡»è¿”å›ä¸€ä¸ªåˆ·æ–°åçš„æ–‡æ¡£ï¼Œå³ä½¿å®ƒæ˜¯ä»£ç†æœåŠ¡å™¨è€Œä¸”å·²ç»æœ‰äº†é¡µé¢çš„æœ¬åœ°æ‹·è´ã€‚ - Refererï¼šåŒ…å«ä¸€ä¸ªURLï¼Œç”¨æˆ·ä»è¯¥URLä»£è¡¨çš„é¡µé¢å‡ºå‘è®¿é—®å½“å‰è¯·æ±‚çš„é¡µé¢ã€‚ - User-Agentï¼šæµè§ˆå™¨ç±»å‹ï¼Œå¦‚æœServletè¿”å›çš„å†…å®¹ä¸æµè§ˆå™¨ç±»å‹æœ‰å…³åˆ™è¯¥å€¼éå¸¸æœ‰ç”¨ã€‚ ç®€å•é‚®ä»¶ä¼ è¾“åè®®(SMTP)ï¼š SMTPï¼ˆSimple Mail Transfer Protocolï¼‰å³ç®€å•é‚®ä»¶ä¼ è¾“åè®®,å®ƒæ˜¯ä¸€ç»„ç”¨äºç”±æºåœ°å€åˆ°ç›®çš„åœ°å€ä¼ é€é‚®ä»¶çš„è§„åˆ™ï¼Œç”±å®ƒæ¥æ§åˆ¶ä¿¡ä»¶çš„ä¸­è½¬æ–¹å¼ã€‚ SMTPåè®®å±äºTCP/IPåè®®ç°‡ï¼Œå®ƒå¸®åŠ©æ¯å°è®¡ç®—æœºåœ¨å‘é€æˆ–ä¸­è½¬ä¿¡ä»¶æ—¶æ‰¾åˆ°ä¸‹ä¸€ä¸ªç›®çš„åœ°ã€‚ é€šè¿‡SMTPåè®®æ‰€æŒ‡å®šçš„æœåŠ¡å™¨,å°±å¯ä»¥æŠŠE-mailå¯„åˆ°æ”¶ä¿¡äººçš„æœåŠ¡å™¨ä¸Šäº†ï¼Œæ•´ä¸ªè¿‡ç¨‹åªè¦å‡ åˆ†é’Ÿã€‚SMTPæœåŠ¡å™¨åˆ™æ˜¯éµå¾ªSMTPåè®®çš„å‘é€é‚®ä»¶æœåŠ¡å™¨ï¼Œç”¨æ¥å‘é€æˆ–ä¸­è½¬å‘å‡ºçš„ç”µå­é‚®ä»¶ã€‚ æœç´¢å¼•æ“ï¼š æœç´¢å¼•æ“ï¼ˆSearch Engineï¼‰æ˜¯æŒ‡æ ¹æ®ä¸€å®šçš„ç­–ç•¥ã€è¿ç”¨ç‰¹å®šçš„è®¡ç®—æœºç¨‹åºä»äº’è”ç½‘ä¸Šæœé›†ä¿¡æ¯ï¼Œåœ¨å¯¹ä¿¡æ¯è¿›è¡Œç»„ç»‡å’Œå¤„ç†åï¼Œä¸ºç”¨æˆ·æä¾›æ£€ç´¢æœåŠ¡ï¼Œå°†ç”¨æˆ·æ£€ç´¢ç›¸å…³çš„ä¿¡æ¯å±•ç¤ºç»™ç”¨æˆ·çš„ç³»ç»Ÿã€‚ æœç´¢å¼•æ“åŒ…æ‹¬å…¨æ–‡ç´¢å¼•ã€ç›®å½•ç´¢å¼•ã€å…ƒæœç´¢å¼•æ“ã€å‚ç›´æœç´¢å¼•æ“ã€é›†åˆå¼æœç´¢å¼•æ“ã€é—¨æˆ·æœç´¢å¼•æ“ä¸å…è´¹é“¾æ¥åˆ—è¡¨ç­‰ã€‚ å…¨æ–‡ç´¢å¼•ï¼š å…¨æ–‡ç´¢å¼•æŠ€æœ¯æ˜¯ç›®å‰æœç´¢å¼•æ“çš„å…³é”®æŠ€æœ¯ã€‚ è¯•æƒ³åœ¨1Må¤§å°çš„æ–‡ä»¶ä¸­æœç´¢ä¸€ä¸ªè¯ï¼Œå¯èƒ½éœ€è¦å‡ ç§’ï¼Œåœ¨100Mçš„æ–‡ä»¶ä¸­å¯èƒ½éœ€è¦å‡ åç§’ï¼Œå¦‚æœåœ¨æ›´å¤§çš„æ–‡ä»¶ä¸­æœç´¢é‚£ä¹ˆå°±éœ€è¦æ›´å¤§çš„ç³»ç»Ÿå¼€é”€ï¼Œè¿™æ ·çš„å¼€é”€æ˜¯ä¸ç°å®çš„ã€‚ æ‰€ä»¥åœ¨è¿™æ ·çš„çŸ›ç›¾ä¸‹å‡ºç°äº†å…¨æ–‡ç´¢å¼•æŠ€æœ¯ï¼Œæœ‰æ—¶å€™æœ‰äººå«å€’æ’æ–‡æ¡£æŠ€æœ¯ã€‚ ç›®å½•ç´¢å¼•ï¼š ç›®å½•ç´¢å¼•ï¼ˆ search index/directory)ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å°†ç½‘ç«™åˆ†é—¨åˆ«ç±»åœ°å­˜æ”¾åœ¨ç›¸åº”çš„ç›®å½•ä¸­ï¼Œå› æ­¤ç”¨æˆ·åœ¨æŸ¥è¯¢ä¿¡æ¯æ—¶ï¼Œå¯é€‰æ‹©å…³é”®è¯æœç´¢ï¼Œä¹Ÿå¯æŒ‰åˆ†ç±»ç›®å½•é€å±‚æŸ¥æ‰¾ã€‚ å‚ç›´æœç´¢å¼•æ“ï¼š å‚ç›´æœç´¢å¼•æ“æ˜¯é’ˆå¯¹æŸä¸€ä¸ªè¡Œä¸šçš„ä¸“ä¸šæœç´¢å¼•æ“ï¼Œæ˜¯æœç´¢å¼•æ“çš„ç»†åˆ†å’Œå»¶ä¼¸ï¼Œæ˜¯å¯¹ç½‘é¡µåº“ä¸­çš„æŸç±»ä¸“é—¨çš„ä¿¡æ¯è¿›è¡Œä¸€æ¬¡æ•´åˆï¼Œå®šå‘åˆ†å­—æ®µæŠ½å–å‡ºéœ€è¦çš„æ•°æ®è¿›è¡Œå¤„ç†åå†ä»¥æŸç§å½¢å¼è¿”å›ç»™ç”¨æˆ·ã€‚ å‚ç›´æœç´¢æ˜¯ç›¸å¯¹é€šç”¨æœç´¢å¼•æ“çš„ä¿¡æ¯é‡å¤§ã€æŸ¥è¯¢ä¸å‡†ç¡®ã€æ·±åº¦ä¸å¤Ÿç­‰æå‡ºæ¥çš„æ–°çš„æœç´¢å¼•æ“æœåŠ¡æ¨¡å¼ï¼Œé€šè¿‡é’ˆå¯¹æŸä¸€ç‰¹å®šé¢†åŸŸã€æŸä¸€ç‰¹å®šäººç¾¤æˆ–æŸä¸€ç‰¹å®šéœ€æ±‚æä¾›çš„æœ‰ä¸€å®šä»·å€¼çš„ä¿¡æ¯å’Œç›¸å…³æœåŠ¡ã€‚ å…¶ç‰¹ç‚¹å°±æ˜¯â€œä¸“ã€ç²¾ã€æ·±â€ï¼Œä¸”å…·æœ‰è¡Œä¸šè‰²å½©ï¼Œç›¸æ¯”è¾ƒé€šç”¨æœç´¢å¼•æ“çš„æµ·é‡ä¿¡æ¯æ— åºåŒ–ï¼Œå‚ç›´æœç´¢å¼•æ“åˆ™æ˜¾å¾—æ›´åŠ ä¸“æ³¨ã€å…·ä½“å’Œæ·±å…¥ã€‚ ï¼ˆ2ï¼‰ï¼Œé‡è¦çŸ¥è¯†ç‚¹æ€»ç»“ 1ï¼Œæ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFTPï¼‰ä½¿ç”¨TCPå¯é çš„è¿è¾“æœåŠ¡ã€‚FTPä½¿ç”¨å®¢æˆ·æœåŠ¡å™¨æ–¹å¼ã€‚ä¸€ä¸ªFTPæœåŠ¡å™¨è¿›ç¨‹å¯ä»¥åŒæ—¶ä¸ºå¤šä¸ªç”¨æˆ·æä¾›æœåŠ¡ã€‚åœ¨è¿›è¿›è¡Œæ–‡ä»¶ä¼ è¾“æ—¶ï¼ŒFTPçš„å®¢æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´è¦å…ˆå»ºç«‹ä¸¤ä¸ªå¹¶è¡Œçš„TCPè¿æ¥:æ§åˆ¶è¿æ¥å’Œæ•°æ®è¿æ¥ã€‚å®é™…ç”¨äºä¼ è¾“æ–‡ä»¶çš„æ˜¯æ•°æ®è¿æ¥ã€‚ 2ï¼Œä¸‡ç»´ç½‘å®¢æˆ·ç¨‹åºä¸æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œäº¤äº’ä½¿ç”¨çš„åè®®æ—¶è¶…æ–‡æœ¬ä¼ è¾“åè®®HTTPã€‚HTTPä½¿ç”¨TCPè¿æ¥è¿›è¡Œå¯é ä¼ è¾“ã€‚ä½†HTTPæœ¬èº«æ˜¯æ— è¿æ¥ã€æ— çŠ¶æ€çš„ã€‚HTTP/1.1åè®®ä½¿ç”¨äº†æŒç»­è¿æ¥ï¼ˆåˆ†ä¸ºéæµæ°´çº¿æ–¹å¼å’Œæµæ°´çº¿æ–¹å¼ï¼‰ 3ï¼Œç”µå­é‚®ä»¶æŠŠé‚®ä»¶å‘é€åˆ°æ”¶ä»¶äººä½¿ç”¨çš„é‚®ä»¶æœåŠ¡å™¨ï¼Œå¹¶æ”¾åœ¨å…¶ä¸­çš„æ”¶ä»¶äººé‚®ç®±ä¸­ï¼Œæ”¶ä»¶äººå¯éšæ—¶ä¸Šç½‘åˆ°è‡ªå·±ä½¿ç”¨çš„é‚®ä»¶æœåŠ¡å™¨è¯»å–ï¼Œç›¸å½“äºç”µå­é‚®ç®±ã€‚ 4ï¼Œä¸€ä¸ªç”µå­é‚®ä»¶ç³»ç»Ÿæœ‰ä¸‰ä¸ªé‡è¦ç»„æˆæ„ä»¶ï¼šç”¨æˆ·ä»£ç†ã€é‚®ä»¶æœåŠ¡å™¨ã€é‚®ä»¶åè®®ï¼ˆåŒ…æ‹¬é‚®ä»¶å‘é€åè®®ï¼Œå¦‚SMTPï¼Œå’Œé‚®ä»¶è¯»å–åè®®ï¼Œå¦‚POP3å’ŒIMAPï¼‰ã€‚ç”¨æˆ·ä»£ç†å’Œé‚®ä»¶æœåŠ¡å™¨éƒ½è¦è¿è¡Œè¿™äº›åè®®ã€‚ ï¼ˆ3ï¼‰ï¼Œæœ€é‡è¦çŸ¥è¯†ç‚¹æ€»ç»“ â‘  åŸŸåç³»ç»Ÿ-ä»åŸŸåè§£æå‡ºIPåœ°å€ â‘¡ è®¿é—®ä¸€ä¸ªç½‘ç«™å¤§è‡´çš„è¿‡ç¨‹ â‘¢ ç³»ç»Ÿè°ƒç”¨å’Œåº”ç”¨ç¼–ç¨‹æ¥å£æ¦‚å¿µ","categories":[],"tags":[{"name":"Http","slug":"Http","permalink":"http://zhoumoon.github.io/tags/Http/"}]},{"title":"Javaä¿®æ”¹é¡¹ç›®webè®¿é—®æ ¹ç›®å½•","slug":"Java/javaä¿®æ”¹é¡¹ç›®webè®¿é—®æ ¹ç›®å½•","date":"2019-08-14T13:31:22.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2019/08/14/Java/javaä¿®æ”¹é¡¹ç›®webè®¿é—®æ ¹ç›®å½•/","link":"","permalink":"http://zhoumoon.github.io/2019/08/14/Java/java%E4%BF%AE%E6%94%B9%E9%A1%B9%E7%9B%AEweb%E8%AE%BF%E9%97%AE%E6%A0%B9%E7%9B%AE%E5%BD%95/","excerpt":"","text":"Javaä¿®æ”¹é¡¹ç›®webè®¿é—®æ ¹ç›®å½• åœ¨å¼€å‘Java WEBé¡¹ç›®æ—¶å¯èƒ½éœ€è¦ä¿®æ”¹é¡¹ç›®è®¿é—®çš„æ ¹ç›®å½•ï¼Œä¾‹å¦‚http://localhost:8080/test, â€testâ€œæ˜¯webé¡¹ç›®è®¿é—®æ ¹ç›®å½•ï¼ˆè¿™é‡Œåªæ˜¯ä¸ªäººè¿™ä¹ˆç§°å‘¼ï¼Œå¹¶ä¸æ˜¯å®˜æ–¹æœ¯è¯­ï¼‰ã€‚å¯èƒ½éœ€æ±‚ä¸åŒï¼Œåœ¨è®¿é—®çš„æ—¶å€™ä¸éœ€è¦testæˆ–è€…æ˜¯éœ€è¦æ›´æ¢æˆåˆ«çš„åç§°ã€‚æ€»è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ä¸éœ€è¦å½“å‰é»˜è®¤é¡¹ç›®åç§°ä½œä¸ºwebè®¿é—®æ ¹ç›®å½•ã€‚é‚£ä¹ˆå¦‚ä½•ä¿®æ”¹ï¼Ÿ ç›´æ¥é€šè¿‡å¼€å‘å·¥å…·ä¿®æ”¹ï¼Œè¿™é‡Œä»¥Eclipseä¸ºä¾‹ã€‚åœ¨Eclipseä¸­é€‰æ‹©é¡¹ç›®ï¼Œç„¶åç‚¹å‡»â€œproject&quot;,é€‰æ‹©propertiesé€‰é¡¹ï¼Œåœ¨é…ç½®çª—å£é€‰æ‹©â€Web Project Settingsâ€œé€‰é¡¹ï¼Œæœ€åä¿®æ”¹æƒ³è¦çš„åç§°å³å¯ã€‚ é€šè¿‡Tomcatè®¾ç½®ï¼Œè¿™é‡Œæ¯”è¾ƒå±€é™ï¼Œå› ä¸ºæœ¬äººè¿˜æ²¡æœ‰ç”¨è¿‡å…¶ä»–å®¹å™¨ã€‚ åœ¨tomcatæ ¹ç›®å½•ä¸‹æ‰“å¼€confæ–‡ä»¶å¤¹ï¼Œç„¶åç¼–è¾‘server.xml. æ‰¾åˆ°æ ‡ç­¾ï¼Œåœ¨è¯¥æ ‡ç­¾ä¸­å¡«å…¥ä¸€ä¸‹å†…å®¹ 1&lt;Context path=&quot;/webrootName&quot; docBase=&quot;realPath&quot; &gt;&lt;/Context&gt; è¿™é‡Œåªç”¨åˆ°pathï¼ŒdocBaseä¸¤ä¸ªå±æ€§ã€‚åˆ†è¡¨è¡¨ç¤ºwebåº”ç”¨æ ¹ç›®å½•å’Œé¡¹ç›®æ‰€åœ¨æ–‡ä»¶è·¯å¾„ã€‚ ä¿®æ”¹å®Œæˆåï¼Œé‡å¯tomcatæœåŠ¡ï¼Œç›´æ¥è®¿é—®http://localhost:8080/webrootName å³èƒ½è®¿é—®éƒ¨ç½²çš„é¡¹ç›®ã€‚ æ³¨ï¼šè¿™é‡Œhttp://localhost:8080/åªæ˜¯æµ‹è¯•æ¡ˆä¾‹ï¼Œéœ€è¦æŒ‰ç…§å„è‡ªç¯å¢ƒå˜åŒ–ã€‚","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"Javaå¤šçº¿ç¨‹ä¹‹å†…å­˜å¯è§æ€§","slug":"Java/Javaå¤šçº¿ç¨‹ä¹‹å†…å­˜å¯è§æ€§","date":"2019-08-13T15:59:37.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2019/08/13/Java/Javaå¤šçº¿ç¨‹ä¹‹å†…å­˜å¯è§æ€§/","link":"","permalink":"http://zhoumoon.github.io/2019/08/13/Java/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B9%8B%E5%86%85%E5%AD%98%E5%8F%AF%E8%A7%81%E6%80%A7/","excerpt":"","text":"Javaå¤šçº¿ç¨‹ä¹‹å†…å­˜å¯è§æ€§ å¯è§æ€§ï¼šä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡å€¼çš„ä¿®æ”¹ï¼Œèƒ½å¤ŸåŠæ—¶çš„è¢«å…¶ä»–çº¿ç¨‹çœ‹åˆ°; å…±äº«å˜é‡ï¼šå¦‚æœä¸€ä¸ªå˜é‡åœ¨å¤šä¸ªçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­éƒ½å­˜åœ¨å‰¯æœ¬ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡å°±æ˜¯å‡ ä¸ªçº¿ç¨‹çš„å…±äº«å˜é‡ã€‚ Javaå†…å­˜æ¨¡å‹ï¼ˆJMM) Javaå†…å­˜æ¨¡å‹ï¼ˆJava Memory Modelï¼‰ æè¿°äº†Javaç¨‹åºä¸­ä¸ªå„ç§å˜é‡ ï¼ˆçº¿ç¨‹å…±äº«å˜é‡ï¼‰çš„è®¿é—®è§„åˆ™ï¼Œä»¥åŠåœ¨JVMä¸­å°†å˜é‡å­˜å‚¨åˆ°å†…å­˜å’Œä»å†…å­˜ä¸­è¯»å–å˜é‡è¿™æ ·çš„åº•å±‚ç»†èŠ‚; æ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å·¥ä½œå†…å­˜ï¼Œé‡Œé¢ä¿å­˜è¯¥çº¿ç¨‹ä½¿ç”¨åˆ°çš„å˜é‡ å‰¯æœ¬ï¼ˆä¸»å†…å­˜ä¸­è¯¥å˜é‡çš„ä¸€ä»½æ‹·è´ï¼‰ ä¸¤æ¡è§„å®šï¼š çº¿ç¨‹å¯¹å…±äº«å˜é‡çš„æ‰€æœ‰æ“ä½œå¿…é¡»åœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œä¸èƒ½ç›´æ¥ä»ä¸»å†…å­˜ä¸­è¯»å†™ ä¸åŒçº¿ç¨‹æ— æ³•ç›´æ¥è®¿é—®å…¶ä»–çº¿ç¨‹å·¥ä½œå†…å­˜çš„å˜é‡ï¼Œçº¿ç¨‹é—´å˜é‡å€¼ä¼ é€’éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆ å…±äº«å˜é‡å¯è§æ€§å®ç°çš„åŸç† çº¿ç¨‹1å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹æƒ³è¦è¢«çº¿ç¨‹2åŠæ—¶çœ‹åˆ°ï¼Œå¿…é¡»ç»è¿‡å¦‚ä¸‹2ä¸ªæ­¥éª¤ï¼š æŠŠå·¥ä½œå†…å­˜1ä¸­æ›´æ–°è¿‡çš„å…±äº«å˜é‡åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ å°†ä¸»å†…å­˜æœ€æ–°çš„å…±äº«å˜é‡çš„å€¼æ›´æ–°åˆ°å·¥ä½œå†…å­˜2ä¸­ synchronizedå®ç°å¯è§æ€§ synchronized èƒ½å¤Ÿå®ç°ï¼š åŸå­æ€§ï¼ˆåŒæ­¥ï¼‰ å¯è§æ€§ åŸå­æ€§å’Œå¯è§æ€§JMMå…³äºsynchronizedçš„ä¸¤æ¡è§„å®šï¼š çº¿ç¨‹è§£é”å‰ï¼Œå¿…é¡»æŠŠå…±äº«å˜é‡çš„æœ€æ–°å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ï¼› çº¿ç¨‹åŠ é”å‰ï¼Œå°†æ¸…ç©ºå·¥ä½œå†…å­˜ä¸­å…±äº«å˜é‡çš„å€¼ï¼Œä»è€Œä½¿ç”¨å…±äº«å˜é‡éœ€è¦ä»ä¸»å†…å­˜ä¸­é‡æ–°è¯»å–æœ€æ–°çš„å€¼ï¼ˆæ³¨æ„ï¼šåŠ é”å’Œè§£é”éœ€è¦æ˜¯åŒä¸€æŠŠé”ï¼‰","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"Java Tree é€’å½’å®ç°(é¡¹ç›®ä¸­å®é™…åº”ç”¨)","slug":"Java/Java_Tree_é€’å½’å®ç°(é¡¹ç›®ä¸­å®é™…åº”ç”¨)","date":"2019-08-13T15:23:10.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2019/08/13/Java/Java_Tree_é€’å½’å®ç°(é¡¹ç›®ä¸­å®é™…åº”ç”¨)/","link":"","permalink":"http://zhoumoon.github.io/2019/08/13/Java/Java_Tree_%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0(%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8)/","excerpt":"","text":"Java Tree é€’å½’å®ç°(é¡¹ç›®ä¸­å®é™…åº”ç”¨) Java Tree é€’å½’å®ç°(é¡¹ç›®ä¸­å®é™…åº”ç”¨) éƒ¨é—¨Bean 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657import java.util.ArrayList;import java.util.List;public class Department &#123; private int id; private String name; private int parentId; private List&lt;Department&gt; children = new ArrayList&lt;Department&gt;(); public Department(int id, String name, int parentId) &#123; this.id = id; this.name = name; this.parentId = parentId; &#125; public int getId() &#123; return id; &#125; public void setId(int id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getParentId() &#123; return parentId; &#125; public void setParentId(int parentId) &#123; this.parentId = parentId; &#125; public List&lt;Department&gt; getChildren() &#123; return children; &#125; public void setChildren(List&lt;Department&gt; children) &#123; this.children = children; &#125; @Override public String toString() &#123; return &quot;Department&#123;&quot; + &quot;id=&quot; + id + &quot;, name=&#x27;&quot; + name + &#x27;\\&#x27;&#x27; + &quot;, parentId=&quot; + parentId + &quot;, children=&quot; + children + &#x27;&#125;&#x27;; &#125;&#125; æµ‹è¯•ç±» 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import java.util.ArrayList;import java.util.List;public class DempartmentThree &#123; public static void main(String[] args) &#123; List&lt;Department&gt; departmentList = new ArrayList&lt;&gt;(); departmentList.add(new Department(1, &quot;ç ”å‘éƒ¨é—¨&quot;, 0)); departmentList.add(new Department(2, &quot;ç ”å‘å›¢é˜Ÿ1&quot;, 1)); departmentList.add(new Department(3, &quot;ç ”å‘å›¢é˜Ÿ2&quot;, 1)); departmentList.add(new Department(4, &quot;è´¢åŠ¡éƒ¨é—¨&quot;, 0)); departmentList.add(new Department(5, &quot;è´¢åŠ¡Aéƒ¨é—¨&quot;, 4)); departmentList.add(new Department(6, &quot;è´¢åŠ¡Béƒ¨é—¨&quot;, 4)); departmentList.add(new Department(7, &quot;è´¢åŠ¡Aéƒ¨é—¨å›¢é˜Ÿ1&quot;, 5)); departmentList.add(new Department(8, &quot;è´¢åŠ¡Aéƒ¨é—¨å›¢é˜Ÿ2&quot;, 5)); departmentList.add(new Department(9, &quot;è´¢åŠ¡Béƒ¨é—¨å›¢é˜Ÿ1&quot;, 6)); departmentList.add(new Department(10, &quot;è´¢åŠ¡Béƒ¨é—¨å›¢é˜Ÿ2&quot;, 6)); List&lt;Department&gt; listTree = getThree(departmentList,0); //Tree System.out.println(listTree); System.out.println(&quot;--------------&quot;); //ç”±TreeæŸä¸ªèŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹ç»„æˆçš„å§“åé›†åˆ //System.out.println(getTreeName(listTree.get(0))); &#125; private static List&lt;Department&gt; getThree(List&lt;Department&gt; list,int parentId)&#123; //è·å–æ‰€æœ‰å­èŠ‚ç‚¹ List&lt;Department&gt; childTreeList = getChildTree(list,parentId); for (Department dept:childTreeList) &#123; dept.setChildren(getThree(list,dept.getId())); &#125; return childTreeList; &#125; private static List&lt;Department&gt; getChildTree(List&lt;Department&gt; list,int id)&#123; List&lt;Department&gt; childTree = new ArrayList&lt;&gt;(); for (Department dept:list) &#123; if(dept.getParentId() == id)&#123; childTree.add(dept); &#125; &#125; return childTree; &#125;&#125; ä½¿ç”¨é˜Ÿåˆ—å°†æ ‘ç»“æ„è½¬æ¢ä¸ºlist 123456789101112131415161718//å–å‡ºä¸Šè¿°éƒ¨é—¨Treeä¸­çš„æŸä¸ªèŠ‚ç‚¹åŠå…¶æ‰€æœ‰å­èŠ‚ç‚¹çš„nameå€¼//åˆ©ç”¨é˜Ÿåˆ—çš„ç‰¹ç‚¹(å…ˆè¿›å…ˆå‡º)private static List&lt;String&gt; getTreeName(Department department) &#123; //éƒ¨é—¨åç§°é›†åˆ List&lt;String&gt; names = new ArrayList&lt;String&gt;(); //éƒ¨é—¨é˜Ÿåˆ— Queue&lt;Department&gt; queue = new LinkedList&lt;Department&gt;(); //å…ˆå°†æ ‘é¡¶å‹å…¥é˜Ÿåˆ— queue.add(department); while (!queue.isEmpty()) &#123; //ä»é˜Ÿåˆ—å–å‡º Department d = queue.remove(); names.add(d.getName()); queue.addAll(d.getChildren()); &#125; return names;&#125;","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"Javaç”ŸæˆMD5çš„å‘","slug":"Java/Javaç”ŸæˆMD5çš„å‘","date":"2019-08-13T14:53:22.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2019/08/13/Java/Javaç”ŸæˆMD5çš„å‘/","link":"","permalink":"http://zhoumoon.github.io/2019/08/13/Java/Java%E7%94%9F%E6%88%90MD5%E7%9A%84%E5%9D%91/","excerpt":"","text":"Javaç”ŸæˆMD5çš„å‘ Javaç”ŸæˆMD5çš„å‘ æœ¬æ¥ä¸€åˆ‡éƒ½é£å¹³æµªé™ï¼Œä»Šå¤©æ¥å£è°ƒç”¨æ–¹çªç„¶åœ¨ç¾¤é‡Œè‰¾ç‰¹æˆ‘ï¼Œè¯´è°ƒæ¥å£çš„æ—¶å€™è¿”å›é‰´æƒå¤±è´¥ã€‚ å…¶ä¸­rå’Œtæ˜¯ç”¨æ¥å‚ä¸åŠ å¯†è¿ç®—çš„å­—ç¬¦ä¸²ï¼Œç„¶ååŒæ–¹éƒ½æŒæœ‰å·²çŸ¥çš„å…¬é’¥ï¼Œæ‰€ä»¥åœ¨ä»£ç ä¸­è¿›è¡Œå¦‚ä¸‹çš„è®¡ç®—ï¼š DataCenterUtils.getMD5(r + t + SECRET_KEY) å¾—åˆ°çš„ç»“æœå’Œsignåšæ¯”è¾ƒï¼Œä¸€è‡´åˆ™éªŒè¯é€šè¿‡ã€‚ é—®é¢˜å°±å‡ºåœ¨è®¡ç®—å‡ºmd5å€¼ä¹‹åï¼Œè½¬åŒ–æˆStringç±»å‹çš„è¿‡ç¨‹ï¼Œä¹‹å‰çš„å“¥ä»¬æ˜¯è¿™ä¹ˆè½¬åŒ–çš„ï¼š 12345678910111213public static String getMD5(String str) throws Exception&#123;// ç”Ÿæˆä¸€ä¸ªMD5åŠ å¯†è®¡ç®—æ‘˜è¦_MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);// è®¡ç®—md5å‡½æ•°_md.update(str.getBytes());return new BigInteger(1, md.digest()).toString(16);&#125; ä¹ä¸€çœ‹æ²¡æœ‰é—®é¢˜ï¼Œå¾ˆå¤šäººä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ï¼Œä½†æ˜¯å¦‚æœå¾—åˆ°çš„md5ç»“æœæ˜¯ä»¥0å¼€å¤´çš„ï¼Œé‚£ç»“æœå°±æ‚²å‰§äº†ï¼Œè½¬åŒ–ä¸ºæ•°å€¼ç±»å‹çš„æ—¶å€™ä¼šå°†å¼€å¤´çš„0ä¸¢å¼ƒï¼Œæ‰€ä»¥é€ æˆç»“æœå’Œsignä¸ä¸€è‡´çš„æƒ…å†µå‡ºç°ï¼ å°†ä»£ç è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹åï¼Œé—®é¢˜è§£å†³ï¼š 12345678910111213141516171819202122232425262728293031public static String getMD5(String str) throws Exception&#123;// ç”Ÿæˆä¸€ä¸ªMD5åŠ å¯†è®¡ç®—æ‘˜è¦MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);// è®¡ç®—md5å‡½æ•°md.update(str.getBytes());return toHexString(md.digest());&#125;private static String toHexString(byte[] bytes) &#123;Formatter formatter = new Formatter();for (byte b : bytes) &#123;formatter.format(&quot;%02x&quot;, b);&#125;String res = formatter.toString();formatter.close();return res;&#125; åˆ©ç”¨formatterå°†å­—èŠ‚ä¸€ä¸ªä¸ªçš„è½¬ä¸ºåå…­è¿›åˆ¶çš„å½¢å¼å³å¯ï¼","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"Java æ–‡ä»¶å¤„ç†","slug":"Java/Javaæ–‡ä»¶_æ–‡ä»¶å¤„ç†","date":"2019-08-13T01:13:11.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2019/08/13/Java/Javaæ–‡ä»¶_æ–‡ä»¶å¤„ç†/","link":"","permalink":"http://zhoumoon.github.io/2019/08/13/Java/Java%E6%96%87%E4%BB%B6_%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/","excerpt":"","text":"Java æ–‡ä»¶å¤„ç† 1ã€è·å–æ–‡ä»¶-æ–‡ä»¶å¤¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public class UtilFile &#123; /** * é€’å½’è·å–æŸä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ * * @param fileNameList * å­˜æ”¾æ–‡ä»¶åç§°çš„list * @param path * æ–‡ä»¶å¤¹çš„è·¯å¾„ * @return æ–‡ä»¶åç§° */ public static ArrayList&lt;String&gt; getAllFileName(String path, ArrayList&lt;String&gt; fileNameList) &#123; ArrayList&lt;String&gt; files = new ArrayList&lt;String&gt;(); File file = new File(path); File[] tempList = file.listFiles(); for (int i = 0; i &lt; tempList.length; i++) &#123; if (tempList[i].isFile()) &#123; // æ–‡ä»¶è·¯å¾„ // System.out.println(&quot;æ–‡ ä»¶ï¼š&quot; + tempList[i]); // fileNameList.add(tempList[i].toString()); String fName = tempList[i].toString(); File tempFile = new File(fName.trim()); String fileName = tempFile.getName(); // System.out.println(&quot;fileName = &quot; + fileName); // è·å–æ–‡ä»¶åç§°æ·»åŠ å…¥list files.add(fileName); fileNameList.add(tempList[i].getName()); &#125; if (tempList[i].isDirectory()) &#123; // æ–‡ä»¶å¤¹è·¯å¾„ // System.out.println(&quot;æ–‡ä»¶å¤¹ï¼š&quot; + tempList[i]); getAllFileName(tempList[i].getAbsolutePath(), fileNameList); &#125; &#125; return files; &#125; public static void main(String[] args) &#123; ArrayList&lt;String&gt; files = new ArrayList&lt;String&gt;(); files = UtilFile.getAllFileName(&quot;E:/apache-tomcat-8.5.15/webapps/mexx/excel&quot;, new ArrayList&lt;String&gt;()); for (String string : files) &#123; System.out.println(&quot;æ–‡ä»¶å:&quot; + string); &#125; &#125;&#125; files:è¿”å›çš„æ–‡ä»¶å tempList[i].toString():è·å–åˆ°çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹å®Œæ•´è·¯å¾„ é‡ç‚¹ çœå»äº†åˆ‡å‰²å­—ç¬¦ä¸²,æ­¥éª¤,é¿å…åœ¨ä¸åŒå¹³å°è·¯å¾„é—®é¢˜,ç›´æ¥å¯ä»¥æ‹¿åˆ°è·¯å¾„æœ€åçš„æ–‡ä»¶å 1234String fName =&quot;E:/apache-tomcat-8.5.15/webapps/mexx/excel&quot;;File tempFile = new File(fName.trim());String fileName = tempFile.getName();System.out.println(&quot;fileName = &quot; + fileName); 2ã€æ–‡ä»¶ä¸‹è½½ Controller 1234567891011121314151617181920212223242526272829 /** * æ–‡ä»¶ä¸‹è½½ * * @throws IOException */@RequestMapping(value = &quot;/download&quot;, method = RequestMethod.GET)public void download(@RequestParam(value = &quot;filename&quot;) String filename, HttpServletRequest request, HttpServletResponse response) throws IOException &#123; // æ¨¡æ‹Ÿæ–‡ä»¶ï¼Œmyfile.txtä¸ºéœ€è¦ä¸‹è½½çš„æ–‡ä»¶ //String path = request.getSession().getServletContext().getRealPath(&quot;Excel&quot;) + &quot;\\\\&quot; + filename; String path =EXCEL_URL + &quot;/&quot; + filename; // è·å–è¾“å…¥æµ InputStream bis = new BufferedInputStream(new FileInputStream(new File(path))); // è½¬ç ï¼Œå…å¾—æ–‡ä»¶åä¸­æ–‡ä¹±ç  filename = URLEncoder.encode(filename, &quot;UTF-8&quot;); // è®¾ç½®æ–‡ä»¶ä¸‹è½½å¤´ response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + filename); // 1.è®¾ç½®æ–‡ä»¶ContentTypeç±»å‹ï¼Œè¿™æ ·è®¾ç½®ï¼Œä¼šè‡ªåŠ¨åˆ¤æ–­ä¸‹è½½æ–‡ä»¶ç±»å‹ response.setContentType(&quot;multipart/form-data&quot;); BufferedOutputStream out = new BufferedOutputStream(response.getOutputStream()); int len = 0; while ((len = bis.read()) != -1) &#123; out.write(len); out.flush(); &#125; out.close(); System.out.println(ExcelController.getIpAddr(request)+&quot;ä¸‹è½½å®Œæˆ&quot;);&#125; 3ã€å‰ç«¯æ˜¾ç¤º 12345&lt;div style=&quot;margin-top:30px;&quot;&gt; &lt;c:forEach items=&quot;$&#123;filesList &#125;&quot; var=&quot;fileName&quot; &gt; &lt;button type=&quot;button&quot; &gt;$&#123;fileName&#125;&lt;/button&gt; &lt;/c:forEach&gt;&lt;/div&gt;","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"MySQLé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®","slug":"DB/dockerå®‰è£…Oracle_11g","date":"2018-11-15T14:42:02.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2018/11/15/DB/dockerå®‰è£…Oracle_11g/","link":"","permalink":"http://zhoumoon.github.io/2018/11/15/DB/docker%E5%AE%89%E8%A3%85Oracle_11g/","excerpt":"","text":"dockerå®‰è£…Oracle 11g æ“ä½œç³»ç»Ÿåˆ‡æ¢åˆ°rootç”¨æˆ·ï¼š 1su root å¯åŠ¨docker 1systemctl start docker æ‹‰å–oracleé•œåƒ(oracle 11.0.2 64bit ä¼ä¸šç‰ˆ å®ä¾‹å: helowin) 1docker pull [registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g](http://registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g) åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨ï¼ˆæ˜ å°„æœ¬åœ°ç«¯å£1521) 1234567docker run \\--name oracle \\-p 1521:1521 \\-d [registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g](http://registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g) è¿›å…¥dockerçš„oracle_11g å®¹å™¨ 1docker exec -it å®¹å™¨ID /bin/bash åŠ è½½ç¯å¢ƒå˜é‡ 1source /home/oracle/.bash_profile ç™»å½•sqlplus 1234sqlplus /nologsql&gt; connect /as sysdba# åˆ°è¿™é‡Œå°±å¯ä»¥è¿›è¡Œæ‚¨æƒ³è¦çš„ä»»ä½•æ“ä½œäº†# å®¹å™¨æ“ä½œç³»ç»Ÿç”¨æˆ· rootï¼šhelowin å¦‚éœ€ç”¨plsqlç­‰å·¥å…·è¿æ¥ è¯·è®¾ç½®ç”¨æˆ·å’Œå¯†ç (oracle 11.0.2 64bit ä¼ä¸šç‰ˆ å®ä¾‹å: helowin)ã€‚ä¾‹ï¼š 12sql&gt; create user test identified by test;sql&gt; grant connect,resource,dba to test; å¦‚éœ€æ˜ å°„oracleçš„æ•°æ®æ–‡ä»¶ æŠŠå®¹å™¨å†…å¯¹åº”çš„æ–‡ä»¶ï¼Œæ‹·è´åˆ°å®¿ä¸»æœºï¼Œæ˜ å°„å³å¯ï¼ˆå¦‚ä¸‹ï¼‰ 12/home/oracle/app/oracle/oradata//home/oracle/app/oracle/flash_recovery_area/helowin/ æ¨èä½¿ç”¨docker-composeç®¡ç† å‚è€ƒï¼šhttps://dev.aliyun.com/detail.html?spm=5176.1972343.2.2.jhKAjR&amp;repoId=1969","categories":[],"tags":[{"name":"Oracle","slug":"Oracle","permalink":"http://zhoumoon.github.io/tags/Oracle/"}]},{"title":"plsqlè¿æ¥æœ¬åœ°Oracle","slug":"DB/plsqlè¿æ¥æœ¬åœ°Oracle","date":"2018-11-03T11:22:00.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2018/11/03/DB/plsqlè¿æ¥æœ¬åœ°Oracle/","link":"","permalink":"http://zhoumoon.github.io/2018/11/03/DB/plsql%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0Oracle/","excerpt":"","text":"plsqlè¿æ¥æœ¬åœ°Oracle https://www.cnblogs.com/hongten/p/hongten_oracle_plsql.htm æˆ‘ä»¬æŠŠoracleæˆåŠŸçš„å®‰è£…åœ¨äº†æˆ‘ä»¬çš„è®¡ç®—æœºä¸Šé¢ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•æ‰èƒ½å°†PLSQL developerè¿ æ¥åˆ°æœ¬åœ°çš„oracleå‘¢ï¼Ÿ é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»æœ‰ä¸‹é¢æ­¥å‡†å¤‡ï¼š 1.å®‰è£…å¥½Oracle 2.å®‰è£…å¥½PLSQL developer ä¸‹é¢å°±æ˜¯è®©PLSQL developerè¿æ¥åˆ°oracleæ•°æ®åº“çš„æ“ä½œæ­¥éª¤äº† é€‰æ‹©ï¼šNet Configuration Assistant(çº¢è‰²æ¡†æ‰€æŒ‡) å¯åŠ¨ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ åå­—å¯ä»¥ä»»æ„ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ é€‰æ‹©æœ¬åœ°NetæœåŠ¡åé…ç½®ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»ä¸‹ä¸€æ­¥ ç‚¹å‡»å®ŒæˆæŒ‰é’® å¯åŠ¨PLSQLï¼Œæ•°æ®åº“é€‰æ‹©ä¸ºï¼šORACT è¿æ¥æˆåŠŸï¼","categories":[],"tags":[{"name":"Oracle","slug":"Oracle","permalink":"http://zhoumoon.github.io/tags/Oracle/"}]},{"title":"MySQL idä»1å¼€å§‹è‡ªå¢ è§£å†³idä¸è¿ç»­çš„é—®é¢˜","slug":"DB/mysql_idä»1å¼€å§‹è‡ªå¢_è§£å†³idä¸è¿ç»­çš„é—®é¢˜-LancerWuçš„åšå®¢-CSDNåšå®¢","date":"2018-02-03T23:11:02.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2018/02/04/DB/mysql_idä»1å¼€å§‹è‡ªå¢_è§£å†³idä¸è¿ç»­çš„é—®é¢˜-LancerWuçš„åšå®¢-CSDNåšå®¢/","link":"","permalink":"http://zhoumoon.github.io/2018/02/04/DB/mysql_id%E4%BB%8E1%E5%BC%80%E5%A7%8B%E8%87%AA%E5%A2%9E_%E8%A7%A3%E5%86%B3id%E4%B8%8D%E8%BF%9E%E7%BB%AD%E7%9A%84%E9%97%AE%E9%A2%98-LancerWu%E7%9A%84%E5%8D%9A%E5%AE%A2-CSDN%E5%8D%9A%E5%AE%A2/","excerpt":"","text":"MySQL idä»1å¼€å§‹è‡ªå¢ è§£å†³idä¸è¿ç»­çš„é—®é¢˜ TRUNCATE TABLE tablename æ¥å®ç°idä»å¤´è‡ªå¢ï¼Œä½†æ˜¯è¿™ä¸ªå‘½ä»¤åŒæ—¶ä¹Ÿä¼šæ¸…ç©ºæ•´ä¸ªè¡¨ æ­£ç¡®çš„åšæ³•ï¼š alter table tablename auto_increment = 1; è¿™ä¸ªå‘½ä»¤ä¸ä¼šæ”¹åŠ¨ç°æœ‰çš„è¡¨çš„å†…å®¹å’Œé¡ºåºï¼ŒåŒæ—¶æ–°æ’å…¥è¡Œçš„idä¼šå…ˆä½¿ç”¨å·²åˆ é™¤çš„idï¼Œå®Œç¾å¡«è¡¥ç©ºç¼ºidã€‚","categories":[],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://zhoumoon.github.io/tags/MySQL/"}]},{"title":"ä¸€åƒè¡ŒMySQLå‘½ä»¤","slug":"DB/ä¸€åƒè¡ŒMySQLå‘½ä»¤","date":"2018-02-03T23:11:02.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2018/02/04/DB/ä¸€åƒè¡ŒMySQLå‘½ä»¤/","link":"","permalink":"http://zhoumoon.github.io/2018/02/04/DB/%E4%B8%80%E5%8D%83%E8%A1%8CMySQL%E5%91%BD%E4%BB%A4/","excerpt":"","text":"ä¸€åƒè¡ŒMySQLå‘½ä»¤ éå¸¸ä¸é”™çš„æ€»ç»“ï¼Œå¼ºçƒˆå»ºè®®ä¿å­˜ä¸‹æ¥ï¼Œéœ€è¦çš„æ—¶å€™çœ‹ä¸€çœ‹ã€‚ åŸºæœ¬æ“ä½œ æ•°æ®åº“æ“ä½œ è¡¨çš„æ“ä½œ æ•°æ®æ“ä½œ å­—ç¬¦é›†ç¼–ç  æ•°æ®ç±»å‹(åˆ—ç±»å‹) åˆ—å±æ€§(åˆ—çº¦æŸ) å»ºè¡¨è§„èŒƒ SELECT UNION å­æŸ¥è¯¢ è¿æ¥æŸ¥è¯¢(join) TRUNCATE å¤‡ä»½ä¸è¿˜åŸ è§†å›¾ äº‹åŠ¡(transaction) é”è¡¨ è§¦å‘å™¨ SQLç¼–ç¨‹ å­˜å‚¨è¿‡ç¨‹ ç”¨æˆ·å’Œæƒé™ç®¡ç† è¡¨ç»´æŠ¤ æ‚é¡¹ åŸºæœ¬æ“ä½œ 123456789/* WindowsæœåŠ¡ */-- å¯åŠ¨MySQL net start mysql-- åˆ›å»ºWindowsæœåŠ¡ sc create mysql binPath= mysqld_bin_path(æ³¨æ„ï¼šç­‰å·ä¸å€¼ä¹‹é—´æœ‰ç©ºæ ¼)/* è¿æ¥ä¸æ–­å¼€æœåŠ¡å™¨ */mysql -h åœ°å€ -P ç«¯å£ -u ç”¨æˆ·å -p å¯†ç SHOW PROCESSLIST -- æ˜¾ç¤ºå“ªäº›çº¿ç¨‹æ­£åœ¨è¿è¡ŒSHOW VARIABLES -- æ˜¾ç¤ºç³»ç»Ÿå˜é‡ä¿¡æ¯ æ•°æ®åº“æ“ä½œ 12345678910111213141516171819/* æ•°æ®åº“æ“ä½œ */ -------------------- æŸ¥çœ‹å½“å‰æ•°æ®åº“ SELECT DATABASE();-- æ˜¾ç¤ºå½“å‰æ—¶é—´ã€ç”¨æˆ·åã€æ•°æ®åº“ç‰ˆæœ¬ SELECT now(), user(), version();-- åˆ›å»ºåº“ CREATE DATABASE[ IF NOT EXISTS] æ•°æ®åº“å æ•°æ®åº“é€‰é¡¹ æ•°æ®åº“é€‰é¡¹ï¼š CHARACTER SET charset_name COLLATE collation_name-- æŸ¥çœ‹å·²æœ‰åº“ SHOW DATABASES[ LIKE &#x27;PATTERN&#x27;]-- æŸ¥çœ‹å½“å‰åº“ä¿¡æ¯ SHOW CREATE DATABASE æ•°æ®åº“å-- ä¿®æ”¹åº“çš„é€‰é¡¹ä¿¡æ¯ ALTER DATABASE åº“å é€‰é¡¹ä¿¡æ¯-- åˆ é™¤åº“ DROP DATABASE[ IF EXISTS] æ•°æ®åº“å åŒæ—¶åˆ é™¤è¯¥æ•°æ®åº“ç›¸å…³çš„ç›®å½•åŠå…¶ç›®å½•å†…å®¹ è¡¨çš„æ“ä½œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576-- åˆ›å»ºè¡¨ CREATE [TEMPORARY] TABLE[ IF NOT EXISTS] [åº“å.]è¡¨å ( è¡¨çš„ç»“æ„å®šä¹‰ )[ è¡¨é€‰é¡¹] æ¯ä¸ªå­—æ®µå¿…é¡»æœ‰æ•°æ®ç±»å‹ æœ€åä¸€ä¸ªå­—æ®µåä¸èƒ½æœ‰é€—å· TEMPORARY ä¸´æ—¶è¡¨ï¼Œä¼šè¯ç»“æŸæ—¶è¡¨è‡ªåŠ¨æ¶ˆå¤± å¯¹äºå­—æ®µçš„å®šä¹‰ï¼š å­—æ®µå æ•°æ®ç±»å‹ [NOT NULL | NULL] [DEFAULT default_value] [AUTO_INCREMENT] [UNIQUE [KEY] | [PRIMARY] KEY] [COMMENT &#x27;string&#x27;]-- è¡¨é€‰é¡¹ -- å­—ç¬¦é›† CHARSET = charset_name å¦‚æœè¡¨æ²¡æœ‰è®¾å®šï¼Œåˆ™ä½¿ç”¨æ•°æ®åº“å­—ç¬¦é›† -- å­˜å‚¨å¼•æ“ ENGINE = engine_name è¡¨åœ¨ç®¡ç†æ•°æ®æ—¶é‡‡ç”¨çš„ä¸åŒçš„æ•°æ®ç»“æ„ï¼Œç»“æ„ä¸åŒä¼šå¯¼è‡´å¤„ç†æ–¹å¼ã€æä¾›çš„ç‰¹æ€§æ“ä½œç­‰ä¸åŒ å¸¸è§çš„å¼•æ“ï¼šInnoDB MyISAM Memory/Heap BDB Merge Example CSV MaxDB Archive ä¸åŒçš„å¼•æ“åœ¨ä¿å­˜è¡¨çš„ç»“æ„å’Œæ•°æ®æ—¶é‡‡ç”¨ä¸åŒçš„æ–¹å¼ MyISAMè¡¨æ–‡ä»¶å«ä¹‰ï¼š.frmè¡¨å®šä¹‰ï¼Œ.MYDè¡¨æ•°æ®ï¼Œ.MYIè¡¨ç´¢å¼• InnoDBè¡¨æ–‡ä»¶å«ä¹‰ï¼š.frmè¡¨å®šä¹‰ï¼Œè¡¨ç©ºé—´æ•°æ®å’Œæ—¥å¿—æ–‡ä»¶ SHOW ENGINES -- æ˜¾ç¤ºå­˜å‚¨å¼•æ“çš„çŠ¶æ€ä¿¡æ¯ SHOW ENGINE å¼•æ“å &#123;LOGS|STATUS&#125; -- æ˜¾ç¤ºå­˜å‚¨å¼•æ“çš„æ—¥å¿—æˆ–çŠ¶æ€ä¿¡æ¯ -- è‡ªå¢èµ·å§‹æ•° AUTO_INCREMENT = è¡Œæ•° -- æ•°æ®æ–‡ä»¶ç›®å½• DATA DIRECTORY = &#x27;ç›®å½•&#x27; -- ç´¢å¼•æ–‡ä»¶ç›®å½• INDEX DIRECTORY = &#x27;ç›®å½•&#x27; -- è¡¨æ³¨é‡Š COMMENT = &#x27;string&#x27; -- åˆ†åŒºé€‰é¡¹ PARTITION BY ... (è¯¦ç»†è§æ‰‹å†Œ)-- æŸ¥çœ‹æ‰€æœ‰è¡¨ SHOW TABLES[ LIKE &#x27;pattern&#x27;] SHOW TABLES FROM åº“å-- æŸ¥çœ‹è¡¨æœºæ„ SHOW CREATE TABLE è¡¨å ï¼ˆä¿¡æ¯æ›´è¯¦ç»†ï¼‰ DESC è¡¨å / DESCRIBE è¡¨å / EXPLAIN è¡¨å / SHOW COLUMNS FROM è¡¨å [LIKE &#x27;PATTERN&#x27;] SHOW TABLE STATUS [FROM db_name] [LIKE &#x27;pattern&#x27;]-- ä¿®æ”¹è¡¨ -- ä¿®æ”¹è¡¨æœ¬èº«çš„é€‰é¡¹ ALTER TABLE è¡¨å è¡¨çš„é€‰é¡¹ eg: ALTER TABLE è¡¨å ENGINE=MYISAM; -- å¯¹è¡¨è¿›è¡Œé‡å‘½å RENAME TABLE åŸè¡¨å TO æ–°è¡¨å RENAME TABLE åŸè¡¨å TO åº“å.è¡¨å ï¼ˆå¯å°†è¡¨ç§»åŠ¨åˆ°å¦ä¸€ä¸ªæ•°æ®åº“ï¼‰ -- RENAMEå¯ä»¥äº¤æ¢ä¸¤ä¸ªè¡¨å -- ä¿®æ”¹è¡¨çš„å­—æ®µæœºæ„ï¼ˆ13.1.2. ALTER TABLEè¯­æ³•ï¼‰ ALTER TABLE è¡¨å æ“ä½œå -- æ“ä½œå ADD[ COLUMN] å­—æ®µå®šä¹‰ -- å¢åŠ å­—æ®µ AFTER å­—æ®µå -- è¡¨ç¤ºå¢åŠ åœ¨è¯¥å­—æ®µååé¢ FIRST -- è¡¨ç¤ºå¢åŠ åœ¨ç¬¬ä¸€ä¸ª ADD PRIMARY KEY(å­—æ®µå) -- åˆ›å»ºä¸»é”® ADD UNIQUE [ç´¢å¼•å] (å­—æ®µå)-- åˆ›å»ºå”¯ä¸€ç´¢å¼• ADD INDEX [ç´¢å¼•å] (å­—æ®µå) -- åˆ›å»ºæ™®é€šç´¢å¼• DROP[ COLUMN] å­—æ®µå -- åˆ é™¤å­—æ®µ MODIFY[ COLUMN] å­—æ®µå å­—æ®µå±æ€§ -- æ”¯æŒå¯¹å­—æ®µå±æ€§è¿›è¡Œä¿®æ”¹ï¼Œä¸èƒ½ä¿®æ”¹å­—æ®µå(æ‰€æœ‰åŸæœ‰å±æ€§ä¹Ÿéœ€å†™ä¸Š) CHANGE[ COLUMN] åŸå­—æ®µå æ–°å­—æ®µå å­—æ®µå±æ€§ -- æ”¯æŒå¯¹å­—æ®µåä¿®æ”¹ DROP PRIMARY KEY -- åˆ é™¤ä¸»é”®(åˆ é™¤ä¸»é”®å‰éœ€åˆ é™¤å…¶AUTO_INCREMENTå±æ€§) DROP INDEX ç´¢å¼•å -- åˆ é™¤ç´¢å¼• DROP FOREIGN KEY å¤–é”® -- åˆ é™¤å¤–é”®-- åˆ é™¤è¡¨ DROP TABLE[ IF EXISTS] è¡¨å ...-- æ¸…ç©ºè¡¨æ•°æ® TRUNCATE [TABLE] è¡¨å-- å¤åˆ¶è¡¨ç»“æ„ CREATE TABLE è¡¨å LIKE è¦å¤åˆ¶çš„è¡¨å-- å¤åˆ¶è¡¨ç»“æ„å’Œæ•°æ® CREATE TABLE è¡¨å [AS] SELECT * FROM è¦å¤åˆ¶çš„è¡¨å-- æ£€æŸ¥è¡¨æ˜¯å¦æœ‰é”™è¯¯ CHECK TABLE tbl_name [, tbl_name] ... [option] ...-- ä¼˜åŒ–è¡¨ OPTIMIZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ...-- ä¿®å¤è¡¨ REPAIR [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ... [QUICK] [EXTENDED] [USE_FRM]-- åˆ†æè¡¨ ANALYZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ... æ•°æ®æ“ä½œ 1234567891011121314151617/* æ•°æ®æ“ä½œ */ -------------------- å¢ INSERT [INTO] è¡¨å [(å­—æ®µåˆ—è¡¨)] VALUES (å€¼åˆ—è¡¨)[, (å€¼åˆ—è¡¨), ...] -- å¦‚æœè¦æ’å…¥çš„å€¼åˆ—è¡¨åŒ…å«æ‰€æœ‰å­—æ®µå¹¶ä¸”é¡ºåºä¸€è‡´ï¼Œåˆ™å¯ä»¥çœç•¥å­—æ®µåˆ—è¡¨ã€‚ -- å¯åŒæ—¶æ’å…¥å¤šæ¡æ•°æ®è®°å½•ï¼ REPLACE ä¸ INSERT å®Œå…¨ä¸€æ ·ï¼Œå¯äº’æ¢ã€‚ INSERT [INTO] è¡¨å SET å­—æ®µå=å€¼[, å­—æ®µå=å€¼, ...]-- æŸ¥ SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨å[ å…¶ä»–å­å¥] -- å¯æ¥è‡ªå¤šä¸ªè¡¨çš„å¤šä¸ªå­—æ®µ -- å…¶ä»–å­å¥å¯ä»¥ä¸ä½¿ç”¨ -- å­—æ®µåˆ—è¡¨å¯ä»¥ç”¨*ä»£æ›¿ï¼Œè¡¨ç¤ºæ‰€æœ‰å­—æ®µ-- åˆ  DELETE FROM è¡¨å[ åˆ é™¤æ¡ä»¶å­å¥] æ²¡æœ‰æ¡ä»¶å­å¥ï¼Œåˆ™ä¼šåˆ é™¤å…¨éƒ¨-- æ”¹ UPDATE è¡¨å SET å­—æ®µå=æ–°å€¼[, å­—æ®µå=æ–°å€¼] [æ›´æ–°æ¡ä»¶] å­—ç¬¦é›†ç¼–ç  123456789101112131415161718/* å­—ç¬¦é›†ç¼–ç  */ -------------------- MySQLã€æ•°æ®åº“ã€è¡¨ã€å­—æ®µå‡å¯è®¾ç½®ç¼–ç -- æ•°æ®ç¼–ç ä¸å®¢æˆ·ç«¯ç¼–ç ä¸éœ€ä¸€è‡´SHOW VARIABLES LIKE &#x27;character_set_%&#x27; -- æŸ¥çœ‹æ‰€æœ‰å­—ç¬¦é›†ç¼–ç é¡¹ character_set_client å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€æ•°æ®æ—¶ä½¿ç”¨çš„ç¼–ç  character_set_results æœåŠ¡å™¨ç«¯å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯æ‰€ä½¿ç”¨çš„ç¼–ç  character_set_connection è¿æ¥å±‚ç¼–ç SET å˜é‡å = å˜é‡å€¼ SET character_set_client = gbk; SET character_set_results = gbk; SET character_set_connection = gbk;SET NAMES GBK; -- ç›¸å½“äºå®Œæˆä»¥ä¸Šä¸‰ä¸ªè®¾ç½®-- æ ¡å¯¹é›† æ ¡å¯¹é›†ç”¨ä»¥æ’åº SHOW CHARACTER SET [LIKE &#x27;pattern&#x27;]/SHOW CHARSET [LIKE &#x27;pattern&#x27;] æŸ¥çœ‹æ‰€æœ‰å­—ç¬¦é›† SHOW COLLATION [LIKE &#x27;pattern&#x27;] æŸ¥çœ‹æ‰€æœ‰æ ¡å¯¹é›† CHARSET å­—ç¬¦é›†ç¼–ç  è®¾ç½®å­—ç¬¦é›†ç¼–ç  COLLATE æ ¡å¯¹é›†ç¼–ç  è®¾ç½®æ ¡å¯¹é›†ç¼–ç  æ•°æ®ç±»å‹(åˆ—ç±»å‹) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697/* æ•°æ®ç±»å‹ï¼ˆåˆ—ç±»å‹ï¼‰ */ ------------------1. æ•°å€¼ç±»å‹-- a. æ•´å‹ ---------- ç±»å‹ å­—èŠ‚ èŒƒå›´ï¼ˆæœ‰ç¬¦å·ä½ï¼‰ tinyint 1å­—èŠ‚ -128 ~ 127 æ— ç¬¦å·ä½ï¼š0 ~ 255 smallint 2å­—èŠ‚ -32768 ~ 32767 mediumint 3å­—èŠ‚ -8388608 ~ 8388607 int 4å­—èŠ‚ bigint 8å­—èŠ‚ int(M) Mè¡¨ç¤ºæ€»ä½æ•° - é»˜è®¤å­˜åœ¨ç¬¦å·ä½ï¼Œunsigned å±æ€§ä¿®æ”¹ - æ˜¾ç¤ºå®½åº¦ï¼Œå¦‚æœæŸä¸ªæ•°ä¸å¤Ÿå®šä¹‰å­—æ®µæ—¶è®¾ç½®çš„ä½æ•°ï¼Œåˆ™å‰é¢ä»¥0è¡¥å¡«ï¼Œzerofill å±æ€§ä¿®æ”¹ ä¾‹ï¼šint(5) æ’å…¥ä¸€ä¸ªæ•°&#x27;123&#x27;ï¼Œè¡¥å¡«åä¸º&#x27;00123&#x27; - åœ¨æ»¡è¶³è¦æ±‚çš„æƒ…å†µä¸‹ï¼Œè¶Šå°è¶Šå¥½ã€‚ - 1è¡¨ç¤ºboolå€¼çœŸï¼Œ0è¡¨ç¤ºboolå€¼å‡ã€‚MySQLæ²¡æœ‰å¸ƒå°”ç±»å‹ï¼Œé€šè¿‡æ•´å‹0å’Œ1è¡¨ç¤ºã€‚å¸¸ç”¨tinyint(1)è¡¨ç¤ºå¸ƒå°”å‹ã€‚-- b. æµ®ç‚¹å‹ ---------- ç±»å‹ å­—èŠ‚ èŒƒå›´ float(å•ç²¾åº¦) 4å­—èŠ‚ double(åŒç²¾åº¦) 8å­—èŠ‚ æµ®ç‚¹å‹æ—¢æ”¯æŒç¬¦å·ä½ unsigned å±æ€§ï¼Œä¹Ÿæ”¯æŒæ˜¾ç¤ºå®½åº¦ zerofill å±æ€§ã€‚ ä¸åŒäºæ•´å‹ï¼Œå‰åå‡ä¼šè¡¥å¡«0. å®šä¹‰æµ®ç‚¹å‹æ—¶ï¼Œéœ€æŒ‡å®šæ€»ä½æ•°å’Œå°æ•°ä½æ•°ã€‚ float(M, D) double(M, D) Mè¡¨ç¤ºæ€»ä½æ•°ï¼ŒDè¡¨ç¤ºå°æ•°ä½æ•°ã€‚ Må’ŒDçš„å¤§å°ä¼šå†³å®šæµ®ç‚¹æ•°çš„èŒƒå›´ã€‚ä¸åŒäºæ•´å‹çš„å›ºå®šèŒƒå›´ã€‚ Mæ—¢è¡¨ç¤ºæ€»ä½æ•°ï¼ˆä¸åŒ…æ‹¬å°æ•°ç‚¹å’Œæ­£è´Ÿå·ï¼‰ï¼Œä¹Ÿè¡¨ç¤ºæ˜¾ç¤ºå®½åº¦ï¼ˆæ‰€æœ‰æ˜¾ç¤ºç¬¦å·å‡åŒ…æ‹¬ï¼‰ã€‚ æ”¯æŒç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºã€‚ æµ®ç‚¹æ•°è¡¨ç¤ºè¿‘ä¼¼å€¼ã€‚-- c. å®šç‚¹æ•° ---------- decimal -- å¯å˜é•¿åº¦ decimal(M, D) Mä¹Ÿè¡¨ç¤ºæ€»ä½æ•°ï¼ŒDè¡¨ç¤ºå°æ•°ä½æ•°ã€‚ ä¿å­˜ä¸€ä¸ªç²¾ç¡®çš„æ•°å€¼ï¼Œä¸ä¼šå‘ç”Ÿæ•°æ®çš„æ”¹å˜ï¼Œä¸åŒäºæµ®ç‚¹æ•°çš„å››èˆäº”å…¥ã€‚ å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ¥ä¿å­˜ï¼Œæ¯9ä½æ•°å­—ä¿å­˜ä¸º4ä¸ªå­—èŠ‚ã€‚2. å­—ç¬¦ä¸²ç±»å‹-- a. char, varchar ---------- char å®šé•¿å­—ç¬¦ä¸²ï¼Œé€Ÿåº¦å¿«ï¼Œä½†æµªè´¹ç©ºé—´ varchar å˜é•¿å­—ç¬¦ä¸²ï¼Œé€Ÿåº¦æ…¢ï¼Œä½†èŠ‚çœç©ºé—´ Mè¡¨ç¤ºèƒ½å­˜å‚¨çš„æœ€å¤§é•¿åº¦ï¼Œæ­¤é•¿åº¦æ˜¯å­—ç¬¦æ•°ï¼Œéå­—èŠ‚æ•°ã€‚ ä¸åŒçš„ç¼–ç ï¼Œæ‰€å ç”¨çš„ç©ºé—´ä¸åŒã€‚ char,æœ€å¤š255ä¸ªå­—ç¬¦ï¼Œä¸ç¼–ç æ— å…³ã€‚ varchar,æœ€å¤š65535å­—ç¬¦ï¼Œä¸ç¼–ç æœ‰å…³ã€‚ ä¸€æ¡æœ‰æ•ˆè®°å½•æœ€å¤§ä¸èƒ½è¶…è¿‡65535ä¸ªå­—èŠ‚ã€‚ utf8 æœ€å¤§ä¸º21844ä¸ªå­—ç¬¦ï¼Œgbk æœ€å¤§ä¸º32766ä¸ªå­—ç¬¦ï¼Œlatin1 æœ€å¤§ä¸º65532ä¸ªå­—ç¬¦ varchar æ˜¯å˜é•¿çš„ï¼Œéœ€è¦åˆ©ç”¨å­˜å‚¨ç©ºé—´ä¿å­˜ varchar çš„é•¿åº¦ï¼Œå¦‚æœæ•°æ®å°äº255ä¸ªå­—èŠ‚ï¼Œåˆ™é‡‡ç”¨ä¸€ä¸ªå­—èŠ‚æ¥ä¿å­˜é•¿åº¦ï¼Œåä¹‹éœ€è¦ä¸¤ä¸ªå­—èŠ‚æ¥ä¿å­˜ã€‚ varchar çš„æœ€å¤§æœ‰æ•ˆé•¿åº¦ç”±æœ€å¤§è¡Œå¤§å°å’Œä½¿ç”¨çš„å­—ç¬¦é›†ç¡®å®šã€‚ æœ€å¤§æœ‰æ•ˆé•¿åº¦æ˜¯65532å­—èŠ‚ï¼Œå› ä¸ºåœ¨varcharå­˜å­—ç¬¦ä¸²æ—¶ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯ç©ºçš„ï¼Œä¸å­˜åœ¨ä»»ä½•æ•°æ®ï¼Œç„¶åè¿˜éœ€ä¸¤ä¸ªå­—èŠ‚æ¥å­˜æ”¾å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæ‰€ä»¥æœ‰æ•ˆé•¿åº¦æ˜¯64432-1-2=65532å­—èŠ‚ã€‚ ä¾‹ï¼šè‹¥ä¸€ä¸ªè¡¨å®šä¹‰ä¸º CREATE TABLE tb(c1 int, c2 char(30), c3 varchar(N)) charset=utf8; é—®Nçš„æœ€å¤§å€¼æ˜¯å¤šå°‘ï¼Ÿ ç­”ï¼š(65535-1-2-4-30*3)/3-- b. blob, text ---------- blob äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼ˆå­—èŠ‚å­—ç¬¦ä¸²ï¼‰ tinyblob, blob, mediumblob, longblob text éäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼ˆå­—ç¬¦å­—ç¬¦ä¸²ï¼‰ tinytext, text, mediumtext, longtext text åœ¨å®šä¹‰æ—¶ï¼Œä¸éœ€è¦å®šä¹‰é•¿åº¦ï¼Œä¹Ÿä¸ä¼šè®¡ç®—æ€»é•¿åº¦ã€‚ text ç±»å‹åœ¨å®šä¹‰æ—¶ï¼Œä¸å¯ç»™defaultå€¼-- c. binary, varbinary ---------- ç±»ä¼¼äºcharå’Œvarcharï¼Œç”¨äºä¿å­˜äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯ä¿å­˜å­—èŠ‚å­—ç¬¦ä¸²è€Œéå­—ç¬¦å­—ç¬¦ä¸²ã€‚ char, varchar, text å¯¹åº” binary, varbinary, blob.3. æ—¥æœŸæ—¶é—´ç±»å‹ ä¸€èˆ¬ç”¨æ•´å‹ä¿å­˜æ—¶é—´æˆ³ï¼Œå› ä¸ºPHPå¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†æ—¶é—´æˆ³è¿›è¡Œæ ¼å¼åŒ–ã€‚ datetime 8å­—èŠ‚ æ—¥æœŸåŠæ—¶é—´ 1000-01-01 00:00:00 åˆ° 9999-12-31 23:59:59 date 3å­—èŠ‚ æ—¥æœŸ 1000-01-01 åˆ° 9999-12-31 timestamp 4å­—èŠ‚ æ—¶é—´æˆ³ 19700101000000 åˆ° 2038-01-19 03:14:07 time 3å­—èŠ‚ æ—¶é—´ -838:59:59 åˆ° 838:59:59 year 1å­—èŠ‚ å¹´ä»½ 1901 - 2155datetime YYYY-MM-DD hh:mm:sstimestamp YY-MM-DD hh:mm:ss YYYYMMDDhhmmss YYMMDDhhmmss YYYYMMDDhhmmss YYMMDDhhmmssdate YYYY-MM-DD YY-MM-DD YYYYMMDD YYMMDD YYYYMMDD YYMMDDtime hh:mm:ss hhmmss hhmmssyear YYYY YY YYYY YY4. æšä¸¾å’Œé›†åˆ-- æšä¸¾(enum) ----------enum(val1, val2, val3...) åœ¨å·²çŸ¥çš„å€¼ä¸­è¿›è¡Œå•é€‰ã€‚æœ€å¤§æ•°é‡ä¸º65535. æšä¸¾å€¼åœ¨ä¿å­˜æ—¶ï¼Œä»¥2ä¸ªå­—èŠ‚çš„æ•´å‹(smallint)ä¿å­˜ã€‚æ¯ä¸ªæšä¸¾å€¼ï¼ŒæŒ‰ä¿å­˜çš„ä½ç½®é¡ºåºï¼Œä»1å¼€å§‹é€ä¸€é€’å¢ã€‚ è¡¨ç°ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œå­˜å‚¨å´æ˜¯æ•´å‹ã€‚ NULLå€¼çš„ç´¢å¼•æ˜¯NULLã€‚ ç©ºå­—ç¬¦ä¸²é”™è¯¯å€¼çš„ç´¢å¼•å€¼æ˜¯0ã€‚-- é›†åˆï¼ˆsetï¼‰ ----------set(val1, val2, val3...) create table tab ( gender set(&#x27;ç”·&#x27;, &#x27;å¥³&#x27;, &#x27;æ— &#x27;) ); insert into tab values (&#x27;ç”·, å¥³&#x27;); æœ€å¤šå¯ä»¥æœ‰64ä¸ªä¸åŒçš„æˆå‘˜ã€‚ä»¥bigintå­˜å‚¨ï¼Œå…±8ä¸ªå­—èŠ‚ã€‚é‡‡å–ä½è¿ç®—çš„å½¢å¼ã€‚ å½“åˆ›å»ºè¡¨æ—¶ï¼ŒSETæˆå‘˜å€¼çš„å°¾éƒ¨ç©ºæ ¼å°†è‡ªåŠ¨è¢«åˆ é™¤ã€‚ åˆ—å±æ€§(åˆ—çº¦æŸ) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/* åˆ—å±æ€§ï¼ˆåˆ—çº¦æŸï¼‰ */ ------------------1. PRIMARY ä¸»é”® - èƒ½å”¯ä¸€æ ‡è¯†è®°å½•çš„å­—æ®µï¼Œå¯ä»¥ä½œä¸ºä¸»é”®ã€‚ - ä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ã€‚ - ä¸»é”®å…·æœ‰å”¯ä¸€æ€§ã€‚ - å£°æ˜å­—æ®µæ—¶ï¼Œç”¨ primary key æ ‡è¯†ã€‚ ä¹Ÿå¯ä»¥åœ¨å­—æ®µåˆ—è¡¨ä¹‹åå£°æ˜ ä¾‹ï¼šcreate table tab ( id int, stu varchar(10), primary key (id)); - ä¸»é”®å­—æ®µçš„å€¼ä¸èƒ½ä¸ºnullã€‚ - ä¸»é”®å¯ä»¥ç”±å¤šä¸ªå­—æ®µå…±åŒç»„æˆã€‚æ­¤æ—¶éœ€è¦åœ¨å­—æ®µåˆ—è¡¨åå£°æ˜çš„æ–¹æ³•ã€‚ ä¾‹ï¼šcreate table tab ( id int, stu varchar(10), age int, primary key (stu, age));2. UNIQUE å”¯ä¸€ç´¢å¼•ï¼ˆå”¯ä¸€çº¦æŸï¼‰ ä½¿å¾—æŸå­—æ®µçš„å€¼ä¹Ÿä¸èƒ½é‡å¤ã€‚3. NULL çº¦æŸ nullä¸æ˜¯æ•°æ®ç±»å‹ï¼Œæ˜¯åˆ—çš„ä¸€ä¸ªå±æ€§ã€‚ è¡¨ç¤ºå½“å‰åˆ—æ˜¯å¦å¯ä»¥ä¸ºnullï¼Œè¡¨ç¤ºä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚ null, å…è®¸ä¸ºç©ºã€‚é»˜è®¤ã€‚ not null, ä¸å…è®¸ä¸ºç©ºã€‚ insert into tab values (null, &#x27;val&#x27;); -- æ­¤æ—¶è¡¨ç¤ºå°†ç¬¬ä¸€ä¸ªå­—æ®µçš„å€¼è®¾ä¸ºnull, å–å†³äºè¯¥å­—æ®µæ˜¯å¦å…è®¸ä¸ºnull4. DEFAULT é»˜è®¤å€¼å±æ€§ å½“å‰å­—æ®µçš„é»˜è®¤å€¼ã€‚ insert into tab values (default, &#x27;val&#x27;); -- æ­¤æ—¶è¡¨ç¤ºå¼ºåˆ¶ä½¿ç”¨é»˜è®¤å€¼ã€‚ create table tab ( add_time timestamp default current_timestamp ); -- è¡¨ç¤ºå°†å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³è®¾ä¸ºé»˜è®¤å€¼ã€‚ current_date, current_time5. AUTO_INCREMENT è‡ªåŠ¨å¢é•¿çº¦æŸ è‡ªåŠ¨å¢é•¿å¿…é¡»ä¸ºç´¢å¼•ï¼ˆä¸»é”®æˆ–uniqueï¼‰ åªèƒ½å­˜åœ¨ä¸€ä¸ªå­—æ®µä¸ºè‡ªåŠ¨å¢é•¿ã€‚ é»˜è®¤ä¸º1å¼€å§‹è‡ªåŠ¨å¢é•¿ã€‚å¯ä»¥é€šè¿‡è¡¨å±æ€§ auto_increment = xè¿›è¡Œè®¾ç½®ï¼Œæˆ– alter table tbl auto_increment = x;6. COMMENT æ³¨é‡Š ä¾‹ï¼šcreate table tab ( id int ) comment &#x27;æ³¨é‡Šå†…å®¹&#x27;;7. FOREIGN KEY å¤–é”®çº¦æŸ ç”¨äºé™åˆ¶ä¸»è¡¨ä¸ä»è¡¨æ•°æ®å®Œæ•´æ€§ã€‚ alter table t1 add constraint `t1_t2_fk` foreign key (t1_id) references t2(id); -- å°†è¡¨t1çš„t1_idå¤–é”®å…³è”åˆ°è¡¨t2çš„idå­—æ®µã€‚ -- æ¯ä¸ªå¤–é”®éƒ½æœ‰ä¸€ä¸ªåå­—ï¼Œå¯ä»¥é€šè¿‡ constraint æŒ‡å®š å­˜åœ¨å¤–é”®çš„è¡¨ï¼Œç§°ä¹‹ä¸ºä»è¡¨ï¼ˆå­è¡¨ï¼‰ï¼Œå¤–é”®æŒ‡å‘çš„è¡¨ï¼Œç§°ä¹‹ä¸ºä¸»è¡¨ï¼ˆçˆ¶è¡¨ï¼‰ã€‚ ä½œç”¨ï¼šä¿æŒæ•°æ®ä¸€è‡´æ€§ï¼Œå®Œæ•´æ€§ï¼Œä¸»è¦ç›®çš„æ˜¯æ§åˆ¶å­˜å‚¨åœ¨å¤–é”®è¡¨ï¼ˆä»è¡¨ï¼‰ä¸­çš„æ•°æ®ã€‚ MySQLä¸­ï¼Œå¯ä»¥å¯¹InnoDBå¼•æ“ä½¿ç”¨å¤–é”®çº¦æŸï¼š è¯­æ³•ï¼š foreign key (å¤–é”®å­—æ®µï¼‰ references ä¸»è¡¨å (å…³è”å­—æ®µ) [ä¸»è¡¨è®°å½•åˆ é™¤æ—¶çš„åŠ¨ä½œ] [ä¸»è¡¨è®°å½•æ›´æ–°æ—¶çš„åŠ¨ä½œ] æ­¤æ—¶éœ€è¦æ£€æµ‹ä¸€ä¸ªä»è¡¨çš„å¤–é”®éœ€è¦çº¦æŸä¸ºä¸»è¡¨çš„å·²å­˜åœ¨çš„å€¼ã€‚å¤–é”®åœ¨æ²¡æœ‰å…³è”çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è®¾ç½®ä¸ºnull.å‰ææ˜¯è¯¥å¤–é”®åˆ—ï¼Œæ²¡æœ‰not nullã€‚ å¯ä»¥ä¸æŒ‡å®šä¸»è¡¨è®°å½•æ›´æ”¹æˆ–æ›´æ–°æ—¶çš„åŠ¨ä½œï¼Œé‚£ä¹ˆæ­¤æ—¶ä¸»è¡¨çš„æ“ä½œè¢«æ‹’ç»ã€‚ å¦‚æœæŒ‡å®šäº† on update æˆ– on deleteï¼šåœ¨åˆ é™¤æˆ–æ›´æ–°æ—¶ï¼Œæœ‰å¦‚ä¸‹å‡ ä¸ªæ“ä½œå¯ä»¥é€‰æ‹©ï¼š 1. cascadeï¼Œçº§è”æ“ä½œã€‚ä¸»è¡¨æ•°æ®è¢«æ›´æ–°ï¼ˆä¸»é”®å€¼æ›´æ–°ï¼‰ï¼Œä»è¡¨ä¹Ÿè¢«æ›´æ–°ï¼ˆå¤–é”®å€¼æ›´æ–°ï¼‰ã€‚ä¸»è¡¨è®°å½•è¢«åˆ é™¤ï¼Œä»è¡¨ç›¸å…³è®°å½•ä¹Ÿè¢«åˆ é™¤ã€‚ 2. set nullï¼Œè®¾ç½®ä¸ºnullã€‚ä¸»è¡¨æ•°æ®è¢«æ›´æ–°ï¼ˆä¸»é”®å€¼æ›´æ–°ï¼‰ï¼Œä»è¡¨çš„å¤–é”®è¢«è®¾ç½®ä¸ºnullã€‚ä¸»è¡¨è®°å½•è¢«åˆ é™¤ï¼Œä»è¡¨ç›¸å…³è®°å½•å¤–é”®è¢«è®¾ç½®æˆnullã€‚ä½†æ³¨æ„ï¼Œè¦æ±‚è¯¥å¤–é”®åˆ—ï¼Œæ²¡æœ‰not nullå±æ€§çº¦æŸã€‚ 3. restrictï¼Œæ‹’ç»çˆ¶è¡¨åˆ é™¤å’Œæ›´æ–°ã€‚ æ³¨æ„ï¼Œå¤–é”®åªè¢«InnoDBå­˜å‚¨å¼•æ“æ‰€æ”¯æŒã€‚å…¶ä»–å¼•æ“æ˜¯ä¸æ”¯æŒçš„ã€‚ å»ºè¡¨è§„èŒƒ 1234567891011121314/* å»ºè¡¨è§„èŒƒ */ ------------------ -- Normal Format, NF - æ¯ä¸ªè¡¨ä¿å­˜ä¸€ä¸ªå®ä½“ä¿¡æ¯ - æ¯ä¸ªå…·æœ‰ä¸€ä¸ªIDå­—æ®µä½œä¸ºä¸»é”® - IDä¸»é”® + åŸå­è¡¨ -- 1NF, ç¬¬ä¸€èŒƒå¼ å­—æ®µä¸èƒ½å†åˆ†ï¼Œå°±æ»¡è¶³ç¬¬ä¸€èŒƒå¼ã€‚ -- 2NF, ç¬¬äºŒèŒƒå¼ æ»¡è¶³ç¬¬ä¸€èŒƒå¼çš„å‰æä¸‹ï¼Œä¸èƒ½å‡ºç°éƒ¨åˆ†ä¾èµ–ã€‚ æ¶ˆé™¤å¤åˆä¸»é”®å°±å¯ä»¥é¿å…éƒ¨åˆ†ä¾èµ–ã€‚å¢åŠ å•åˆ—å…³é”®å­—ã€‚ -- 3NF, ç¬¬ä¸‰èŒƒå¼ æ»¡è¶³ç¬¬äºŒèŒƒå¼çš„å‰æä¸‹ï¼Œä¸èƒ½å‡ºç°ä¼ é€’ä¾èµ–ã€‚ æŸä¸ªå­—æ®µä¾èµ–äºä¸»é”®ï¼Œè€Œæœ‰å…¶ä»–å­—æ®µä¾èµ–äºè¯¥å­—æ®µã€‚è¿™å°±æ˜¯ä¼ é€’ä¾èµ–ã€‚ å°†ä¸€ä¸ªå®ä½“ä¿¡æ¯çš„æ•°æ®æ”¾åœ¨ä¸€ä¸ªè¡¨å†…å®ç°ã€‚ SELECT 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960/* SELECT */ ------------------SELECT [ALL|DISTINCT] select_expr FROM -&gt; WHERE -&gt; GROUP BY [åˆè®¡å‡½æ•°] -&gt; HAVING -&gt; ORDER BY -&gt; LIMITa. select_expr -- å¯ä»¥ç”¨ * è¡¨ç¤ºæ‰€æœ‰å­—æ®µã€‚ select * from tb; -- å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼ˆè®¡ç®—å…¬å¼ã€å‡½æ•°è°ƒç”¨ã€å­—æ®µä¹Ÿæ˜¯ä¸ªè¡¨è¾¾å¼ï¼‰ select stu, 29+25, now() from tb; -- å¯ä»¥ä¸ºæ¯ä¸ªåˆ—ä½¿ç”¨åˆ«åã€‚é€‚ç”¨äºç®€åŒ–åˆ—æ ‡è¯†ï¼Œé¿å…å¤šä¸ªåˆ—æ ‡è¯†ç¬¦é‡å¤ã€‚ - ä½¿ç”¨ as å…³é”®å­—ï¼Œä¹Ÿå¯çœç•¥ as. select stu+10 as add10 from tb;b. FROM å­å¥ ç”¨äºæ ‡è¯†æŸ¥è¯¢æ¥æºã€‚ -- å¯ä»¥ä¸ºè¡¨èµ·åˆ«åã€‚ä½¿ç”¨aså…³é”®å­—ã€‚ SELECT * FROM tb1 AS tt, tb2 AS bb; -- fromå­å¥åï¼Œå¯ä»¥åŒæ—¶å‡ºç°å¤šä¸ªè¡¨ã€‚ -- å¤šä¸ªè¡¨ä¼šæ¨ªå‘å åŠ åˆ°ä¸€èµ·ï¼Œè€Œæ•°æ®ä¼šå½¢æˆä¸€ä¸ªç¬›å¡å°”ç§¯ã€‚ SELECT * FROM tb1, tb2; -- å‘ä¼˜åŒ–ç¬¦æç¤ºå¦‚ä½•é€‰æ‹©ç´¢å¼• USE INDEXã€IGNORE INDEXã€FORCE INDEX SELECT * FROM table1 USE INDEX (key1,key2) WHERE key1=1 AND key2=2 AND key3=3; SELECT * FROM table1 IGNORE INDEX (key3) WHERE key1=1 AND key2=2 AND key3=3;c. WHERE å­å¥ -- ä»fromè·å¾—çš„æ•°æ®æºä¸­è¿›è¡Œç­›é€‰ã€‚ -- æ•´å‹1è¡¨ç¤ºçœŸï¼Œ0è¡¨ç¤ºå‡ã€‚ -- è¡¨è¾¾å¼ç”±è¿ç®—ç¬¦å’Œè¿ç®—æ•°ç»„æˆã€‚ -- è¿ç®—æ•°ï¼šå˜é‡ï¼ˆå­—æ®µï¼‰ã€å€¼ã€å‡½æ•°è¿”å›å€¼ -- è¿ç®—ç¬¦ï¼š =, &lt;=&gt;, &lt;&gt;, !=, &lt;=, &lt;, &gt;=, &gt;, !, &amp;&amp;, ||, in (not) null, (not) like, (not) in, (not) between and, is (not), and, or, not, xor is/is not åŠ ä¸Šture/false/unknownï¼Œæ£€éªŒæŸä¸ªå€¼çš„çœŸå‡ &lt;=&gt;ä¸&lt;&gt;åŠŸèƒ½ç›¸åŒï¼Œ&lt;=&gt;å¯ç”¨äºnullæ¯”è¾ƒd. GROUP BY å­å¥, åˆ†ç»„å­å¥ GROUP BY å­—æ®µ/åˆ«å [æ’åºæ–¹å¼] åˆ†ç»„åä¼šè¿›è¡Œæ’åºã€‚å‡åºï¼šASCï¼Œé™åºï¼šDESC ä»¥ä¸‹[åˆè®¡å‡½æ•°]éœ€é…åˆ GROUP BY ä½¿ç”¨ï¼š count è¿”å›ä¸åŒçš„éNULLå€¼æ•°ç›® count(*)ã€count(å­—æ®µ) sum æ±‚å’Œ max æ±‚æœ€å¤§å€¼ min æ±‚æœ€å°å€¼ avg æ±‚å¹³å‡å€¼ group_concat è¿”å›å¸¦æœ‰æ¥è‡ªä¸€ä¸ªç»„çš„è¿æ¥çš„éNULLå€¼çš„å­—ç¬¦ä¸²ç»“æœã€‚ç»„å†…å­—ç¬¦ä¸²è¿æ¥ã€‚e. HAVING å­å¥ï¼Œæ¡ä»¶å­å¥ ä¸ where åŠŸèƒ½ã€ç”¨æ³•ç›¸åŒï¼Œæ‰§è¡Œæ—¶æœºä¸åŒã€‚ where åœ¨å¼€å§‹æ—¶æ‰§è¡Œæ£€æµ‹æ•°æ®ï¼Œå¯¹åŸæ•°æ®è¿›è¡Œè¿‡æ»¤ã€‚ having å¯¹ç­›é€‰å‡ºçš„ç»“æœå†æ¬¡è¿›è¡Œè¿‡æ»¤ã€‚ having å­—æ®µå¿…é¡»æ˜¯æŸ¥è¯¢å‡ºæ¥çš„ï¼Œwhere å­—æ®µå¿…é¡»æ˜¯æ•°æ®è¡¨å­˜åœ¨çš„ã€‚ where ä¸å¯ä»¥ä½¿ç”¨å­—æ®µçš„åˆ«åï¼Œhaving å¯ä»¥ã€‚å› ä¸ºæ‰§è¡ŒWHEREä»£ç æ—¶ï¼Œå¯èƒ½å°šæœªç¡®å®šåˆ—å€¼ã€‚ where ä¸å¯ä»¥ä½¿ç”¨åˆè®¡å‡½æ•°ã€‚ä¸€èˆ¬éœ€ç”¨åˆè®¡å‡½æ•°æ‰ä¼šç”¨ having SQLæ ‡å‡†è¦æ±‚HAVINGå¿…é¡»å¼•ç”¨GROUP BYå­å¥ä¸­çš„åˆ—æˆ–ç”¨äºåˆè®¡å‡½æ•°ä¸­çš„åˆ—ã€‚f. ORDER BY å­å¥ï¼Œæ’åºå­å¥ order by æ’åºå­—æ®µ/åˆ«å æ’åºæ–¹å¼ [,æ’åºå­—æ®µ/åˆ«å æ’åºæ–¹å¼]... å‡åºï¼šASCï¼Œé™åºï¼šDESC æ”¯æŒå¤šä¸ªå­—æ®µçš„æ’åºã€‚g. LIMIT å­å¥ï¼Œé™åˆ¶ç»“æœæ•°é‡å­å¥ ä»…å¯¹å¤„ç†å¥½çš„ç»“æœè¿›è¡Œæ•°é‡é™åˆ¶ã€‚å°†å¤„ç†å¥½çš„ç»“æœçš„çœ‹ä½œæ˜¯ä¸€ä¸ªé›†åˆï¼ŒæŒ‰ç…§è®°å½•å‡ºç°çš„é¡ºåºï¼Œç´¢å¼•ä»0å¼€å§‹ã€‚ limit èµ·å§‹ä½ç½®, è·å–æ¡æ•° çœç•¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä»ç´¢å¼•0å¼€å§‹ã€‚limit è·å–æ¡æ•°h. DISTINCT, ALL é€‰é¡¹ distinct å»é™¤é‡å¤è®°å½• é»˜è®¤ä¸º all, å…¨éƒ¨è®°å½• UNION 12345678/* UNION */ ------------------ å°†å¤šä¸ªselectæŸ¥è¯¢çš„ç»“æœç»„åˆæˆä¸€ä¸ªç»“æœé›†åˆã€‚ SELECT ... UNION [ALL|DISTINCT] SELECT ... é»˜è®¤ DISTINCT æ–¹å¼ï¼Œå³æ‰€æœ‰è¿”å›çš„è¡Œéƒ½æ˜¯å”¯ä¸€çš„ å»ºè®®ï¼Œå¯¹æ¯ä¸ªSELECTæŸ¥è¯¢åŠ ä¸Šå°æ‹¬å·åŒ…è£¹ã€‚ ORDER BY æ’åºæ—¶ï¼Œéœ€åŠ ä¸Š LIMIT è¿›è¡Œç»“åˆã€‚ éœ€è¦å„selectæŸ¥è¯¢çš„å­—æ®µæ•°é‡ä¸€æ ·ã€‚ æ¯ä¸ªselectæŸ¥è¯¢çš„å­—æ®µåˆ—è¡¨(æ•°é‡ã€ç±»å‹)åº”ä¸€è‡´ï¼Œå› ä¸ºç»“æœä¸­çš„å­—æ®µåä»¥ç¬¬ä¸€æ¡selectè¯­å¥ä¸ºå‡†ã€‚ å­æŸ¥è¯¢ 1234567891011121314151617181920212223242526272829/* å­æŸ¥è¯¢ */ ------------------ - å­æŸ¥è¯¢éœ€ç”¨æ‹¬å·åŒ…è£¹ã€‚-- fromå‹ fromåè¦æ±‚æ˜¯ä¸€ä¸ªè¡¨ï¼Œå¿…é¡»ç»™å­æŸ¥è¯¢ç»“æœå–ä¸ªåˆ«åã€‚ - ç®€åŒ–æ¯ä¸ªæŸ¥è¯¢å†…çš„æ¡ä»¶ã€‚ - fromå‹éœ€å°†ç»“æœç”Ÿæˆä¸€ä¸ªä¸´æ—¶è¡¨æ ¼ï¼Œå¯ç”¨ä»¥åŸè¡¨çš„é”å®šçš„é‡Šæ”¾ã€‚ - å­æŸ¥è¯¢è¿”å›ä¸€ä¸ªè¡¨ï¼Œè¡¨å‹å­æŸ¥è¯¢ã€‚ select * from (select * from tb where id&gt;0) as subfrom where id&gt;1;-- whereå‹ - å­æŸ¥è¯¢è¿”å›ä¸€ä¸ªå€¼ï¼Œæ ‡é‡å­æŸ¥è¯¢ã€‚ - ä¸éœ€è¦ç»™å­æŸ¥è¯¢å–åˆ«åã€‚ - whereå­æŸ¥è¯¢å†…çš„è¡¨ï¼Œä¸èƒ½ç›´æ¥ç”¨ä»¥æ›´æ–°ã€‚ select * from tb where money = (select max(money) from tb); -- åˆ—å­æŸ¥è¯¢ å¦‚æœå­æŸ¥è¯¢ç»“æœè¿”å›çš„æ˜¯ä¸€åˆ—ã€‚ ä½¿ç”¨ in æˆ– not in å®ŒæˆæŸ¥è¯¢ exists å’Œ not exists æ¡ä»¶ å¦‚æœå­æŸ¥è¯¢è¿”å›æ•°æ®ï¼Œåˆ™è¿”å›1æˆ–0ã€‚å¸¸ç”¨äºåˆ¤æ–­æ¡ä»¶ã€‚ select column1 from t1 where exists (select * from t2); -- è¡Œå­æŸ¥è¯¢ æŸ¥è¯¢æ¡ä»¶æ˜¯ä¸€ä¸ªè¡Œã€‚ select * from t1 where (id, gender) in (select id, gender from t2); è¡Œæ„é€ ç¬¦ï¼š(col1, col2, ...) æˆ– ROW(col1, col2, ...) è¡Œæ„é€ ç¬¦é€šå¸¸ç”¨äºä¸å¯¹èƒ½è¿”å›ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šåˆ—çš„å­æŸ¥è¯¢è¿›è¡Œæ¯”è¾ƒã€‚ -- ç‰¹æ®Šè¿ç®—ç¬¦ != all() ç›¸å½“äº not in = some() ç›¸å½“äº inã€‚any æ˜¯ some çš„åˆ«å != some() ä¸ç­‰åŒäº not inï¼Œä¸ç­‰äºå…¶ä¸­æŸä¸€ä¸ªã€‚ all, some å¯ä»¥é…åˆå…¶ä»–è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚ è¿æ¥æŸ¥è¯¢(join) 123456789101112131415161718192021222324/* è¿æ¥æŸ¥è¯¢(join) */ ------------------ å°†å¤šä¸ªè¡¨çš„å­—æ®µè¿›è¡Œè¿æ¥ï¼Œå¯ä»¥æŒ‡å®šè¿æ¥æ¡ä»¶ã€‚-- å†…è¿æ¥(inner join) - é»˜è®¤å°±æ˜¯å†…è¿æ¥ï¼Œå¯çœç•¥innerã€‚ - åªæœ‰æ•°æ®å­˜åœ¨æ—¶æ‰èƒ½å‘é€è¿æ¥ã€‚å³è¿æ¥ç»“æœä¸èƒ½å‡ºç°ç©ºè¡Œã€‚ on è¡¨ç¤ºè¿æ¥æ¡ä»¶ã€‚å…¶æ¡ä»¶è¡¨è¾¾å¼ä¸whereç±»ä¼¼ã€‚ä¹Ÿå¯ä»¥çœç•¥æ¡ä»¶ï¼ˆè¡¨ç¤ºæ¡ä»¶æ°¸è¿œä¸ºçœŸï¼‰ ä¹Ÿå¯ç”¨whereè¡¨ç¤ºè¿æ¥æ¡ä»¶ã€‚ è¿˜æœ‰ using, ä½†éœ€å­—æ®µåç›¸åŒã€‚ using(å­—æ®µå) -- äº¤å‰è¿æ¥ cross join å³ï¼Œæ²¡æœ‰æ¡ä»¶çš„å†…è¿æ¥ã€‚ select * from tb1 cross join tb2;-- å¤–è¿æ¥(outer join) - å¦‚æœæ•°æ®ä¸å­˜åœ¨ï¼Œä¹Ÿä¼šå‡ºç°åœ¨è¿æ¥ç»“æœä¸­ã€‚ -- å·¦å¤–è¿æ¥ left join å¦‚æœæ•°æ®ä¸å­˜åœ¨ï¼Œå·¦è¡¨è®°å½•ä¼šå‡ºç°ï¼Œè€Œå³è¡¨ä¸ºnullå¡«å…… -- å³å¤–è¿æ¥ right join å¦‚æœæ•°æ®ä¸å­˜åœ¨ï¼Œå³è¡¨è®°å½•ä¼šå‡ºç°ï¼Œè€Œå·¦è¡¨ä¸ºnullå¡«å……-- è‡ªç„¶è¿æ¥(natural join) è‡ªåŠ¨åˆ¤æ–­è¿æ¥æ¡ä»¶å®Œæˆè¿æ¥ã€‚ ç›¸å½“äºçœç•¥äº†usingï¼Œä¼šè‡ªåŠ¨æŸ¥æ‰¾ç›¸åŒå­—æ®µåã€‚ natural join natural left join natural right joinselect info.id, info.name, info.stu_num, extra_info.hobby, extra_info.sex from info, extra_info where info.stu_num = extra_info.stu_id; TRUNCATE 123456789/* TRUNCATE */ ------------------TRUNCATE [TABLE] tbl_nameæ¸…ç©ºæ•°æ®åˆ é™¤é‡å»ºè¡¨åŒºåˆ«ï¼š1ï¼Œtruncate æ˜¯åˆ é™¤è¡¨å†åˆ›å»ºï¼Œdelete æ˜¯é€æ¡åˆ é™¤2ï¼Œtruncate é‡ç½®auto_incrementçš„å€¼ã€‚è€Œdeleteä¸ä¼š3ï¼Œtruncate ä¸çŸ¥é“åˆ é™¤äº†å‡ æ¡ï¼Œè€ŒdeleteçŸ¥é“ã€‚4ï¼Œå½“è¢«ç”¨äºå¸¦åˆ†åŒºçš„è¡¨æ—¶ï¼Œtruncate ä¼šä¿ç•™åˆ†åŒº å¤‡ä»½ä¸è¿˜åŸ 123456789101112131415161718192021/* å¤‡ä»½ä¸è¿˜åŸ */ ------------------å¤‡ä»½ï¼Œå°†æ•°æ®çš„ç»“æ„ä¸è¡¨å†…æ•°æ®ä¿å­˜èµ·æ¥ã€‚åˆ©ç”¨ mysqldump æŒ‡ä»¤å®Œæˆã€‚-- å¯¼å‡ºmysqldump [options] db_name [tables]mysqldump [options] ---database DB1 [DB2 DB3...]mysqldump [options] --all--database1. å¯¼å‡ºä¸€å¼ è¡¨ mysqldump -uç”¨æˆ·å -på¯†ç  åº“å è¡¨å &gt; æ–‡ä»¶å(D:/a.sql)2. å¯¼å‡ºå¤šå¼ è¡¨ mysqldump -uç”¨æˆ·å -på¯†ç  åº“å è¡¨1 è¡¨2 è¡¨3 &gt; æ–‡ä»¶å(D:/a.sql)3. å¯¼å‡ºæ‰€æœ‰è¡¨ mysqldump -uç”¨æˆ·å -på¯†ç  åº“å &gt; æ–‡ä»¶å(D:/a.sql)4. å¯¼å‡ºä¸€ä¸ªåº“ mysqldump -uç”¨æˆ·å -på¯†ç  --lock-all-tables --database åº“å &gt; æ–‡ä»¶å(D:/a.sql)å¯ä»¥-wæºå¸¦WHEREæ¡ä»¶-- å¯¼å…¥1. åœ¨ç™»å½•mysqlçš„æƒ…å†µä¸‹ï¼š source å¤‡ä»½æ–‡ä»¶2. åœ¨ä¸ç™»å½•çš„æƒ…å†µä¸‹ mysql -uç”¨æˆ·å -på¯†ç  åº“å &lt; å¤‡ä»½æ–‡ä»¶ è§†å›¾ 1234567891011121314151617181920212223242526272829ä»€ä¹ˆæ˜¯è§†å›¾ï¼š è§†å›¾æ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨ï¼Œå…¶å†…å®¹ç”±æŸ¥è¯¢å®šä¹‰ã€‚åŒçœŸå®çš„è¡¨ä¸€æ ·ï¼Œè§†å›¾åŒ…å«ä¸€ç³»åˆ—å¸¦æœ‰åç§°çš„åˆ—å’Œè¡Œæ•°æ®ã€‚ä½†æ˜¯ï¼Œè§†å›¾å¹¶ä¸åœ¨æ•°æ®åº“ä¸­ä»¥å­˜å‚¨çš„æ•°æ®å€¼é›†å½¢å¼å­˜åœ¨ã€‚è¡Œå’Œåˆ—æ•°æ®æ¥è‡ªç”±å®šä¹‰è§†å›¾çš„æŸ¥è¯¢æ‰€å¼•ç”¨çš„è¡¨ï¼Œå¹¶ä¸”åœ¨å¼•ç”¨è§†å›¾æ—¶åŠ¨æ€ç”Ÿæˆã€‚ è§†å›¾å…·æœ‰è¡¨ç»“æ„æ–‡ä»¶ï¼Œä½†ä¸å­˜åœ¨æ•°æ®æ–‡ä»¶ã€‚ å¯¹å…¶ä¸­æ‰€å¼•ç”¨çš„åŸºç¡€è¡¨æ¥è¯´ï¼Œè§†å›¾çš„ä½œç”¨ç±»ä¼¼äºç­›é€‰ã€‚å®šä¹‰è§†å›¾çš„ç­›é€‰å¯ä»¥æ¥è‡ªå½“å‰æˆ–å…¶å®ƒæ•°æ®åº“çš„ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ï¼Œæˆ–è€…å…¶å®ƒè§†å›¾ã€‚é€šè¿‡è§†å›¾è¿›è¡ŒæŸ¥è¯¢æ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œé€šè¿‡å®ƒä»¬è¿›è¡Œæ•°æ®ä¿®æ”¹æ—¶çš„é™åˆ¶ä¹Ÿå¾ˆå°‘ã€‚ è§†å›¾æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„æŸ¥è¯¢çš„sqlè¯­å¥ï¼Œå®ƒä¸»è¦å‡ºäºä¸¤ç§åŸå› ï¼šå®‰å…¨åŸå› ï¼Œè§†å›¾å¯ä»¥éšè—ä¸€äº›æ•°æ®ï¼Œå¦‚ï¼šç¤¾ä¼šä¿é™©åŸºé‡‘è¡¨ï¼Œå¯ä»¥ç”¨è§†å›¾åªæ˜¾ç¤ºå§“åï¼Œåœ°å€ï¼Œè€Œä¸æ˜¾ç¤ºç¤¾ä¼šä¿é™©å·å’Œå·¥èµ„æ•°ç­‰ï¼Œå¦ä¸€åŸå› æ˜¯å¯ä½¿å¤æ‚çš„æŸ¥è¯¢æ˜“äºç†è§£å’Œä½¿ç”¨ã€‚-- åˆ›å»ºè§†å›¾CREATE [OR REPLACE] [ALGORITHM = &#123;UNDEFINED | MERGE | TEMPTABLE&#125;] VIEW view_name [(column_list)] AS select_statement - è§†å›¾åå¿…é¡»å”¯ä¸€ï¼ŒåŒæ—¶ä¸èƒ½ä¸è¡¨é‡åã€‚ - è§†å›¾å¯ä»¥ä½¿ç”¨selectè¯­å¥æŸ¥è¯¢åˆ°çš„åˆ—åï¼Œä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šç›¸åº”çš„åˆ—åã€‚ - å¯ä»¥æŒ‡å®šè§†å›¾æ‰§è¡Œçš„ç®—æ³•ï¼Œé€šè¿‡ALGORITHMæŒ‡å®šã€‚ - column_listå¦‚æœå­˜åœ¨ï¼Œåˆ™æ•°ç›®å¿…é¡»ç­‰äºSELECTè¯­å¥æ£€ç´¢çš„åˆ—æ•°-- æŸ¥çœ‹ç»“æ„ SHOW CREATE VIEW view_name-- åˆ é™¤è§†å›¾ - åˆ é™¤è§†å›¾åï¼Œæ•°æ®ä¾ç„¶å­˜åœ¨ã€‚ - å¯åŒæ—¶åˆ é™¤å¤šä¸ªè§†å›¾ã€‚ DROP VIEW [IF EXISTS] view_name ...-- ä¿®æ”¹è§†å›¾ç»“æ„ - ä¸€èˆ¬ä¸ä¿®æ”¹è§†å›¾ï¼Œå› ä¸ºä¸æ˜¯æ‰€æœ‰çš„æ›´æ–°è§†å›¾éƒ½ä¼šæ˜ å°„åˆ°è¡¨ä¸Šã€‚ ALTER VIEW view_name [(column_list)] AS select_statement-- è§†å›¾ä½œç”¨ 1. ç®€åŒ–ä¸šåŠ¡é€»è¾‘ 2. å¯¹å®¢æˆ·ç«¯éšè—çœŸå®çš„è¡¨ç»“æ„-- è§†å›¾ç®—æ³•(ALGORITHM) MERGE åˆå¹¶ å°†è§†å›¾çš„æŸ¥è¯¢è¯­å¥ï¼Œä¸å¤–éƒ¨æŸ¥è¯¢éœ€è¦å…ˆåˆå¹¶å†æ‰§è¡Œï¼ TEMPTABLE ä¸´æ—¶è¡¨ å°†è§†å›¾æ‰§è¡Œå®Œæ¯•åï¼Œå½¢æˆä¸´æ—¶è¡¨ï¼Œå†åšå¤–å±‚æŸ¥è¯¢ï¼ UNDEFINED æœªå®šä¹‰(é»˜è®¤)ï¼ŒæŒ‡çš„æ˜¯MySQLè‡ªä¸»å»é€‰æ‹©ç›¸åº”çš„ç®—æ³•ã€‚ äº‹åŠ¡(transaction) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546äº‹åŠ¡æ˜¯æŒ‡é€»è¾‘ä¸Šçš„ä¸€ç»„æ“ä½œï¼Œç»„æˆè¿™ç»„æ“ä½œçš„å„ä¸ªå•å…ƒï¼Œè¦ä¸å…¨æˆåŠŸè¦ä¸å…¨å¤±è´¥ã€‚ - æ”¯æŒè¿ç»­SQLçš„é›†ä½“æˆåŠŸæˆ–é›†ä½“æ’¤é”€ã€‚ - äº‹åŠ¡æ˜¯æ•°æ®åº“åœ¨æ•°æ®æ™šè‡ªä¹ æ–¹é¢çš„ä¸€ä¸ªåŠŸèƒ½ã€‚ - éœ€è¦åˆ©ç”¨ InnoDB æˆ– BDB å­˜å‚¨å¼•æ“ï¼Œå¯¹è‡ªåŠ¨æäº¤çš„ç‰¹æ€§æ”¯æŒå®Œæˆã€‚ - InnoDBè¢«ç§°ä¸ºäº‹åŠ¡å®‰å…¨å‹å¼•æ“ã€‚-- äº‹åŠ¡å¼€å¯ START TRANSACTION; æˆ–è€… BEGIN; å¼€å¯äº‹åŠ¡åï¼Œæ‰€æœ‰è¢«æ‰§è¡Œçš„SQLè¯­å¥å‡è¢«è®¤ä½œå½“å‰äº‹åŠ¡å†…çš„SQLè¯­å¥ã€‚-- äº‹åŠ¡æäº¤ COMMIT;-- äº‹åŠ¡å›æ»š ROLLBACK; å¦‚æœéƒ¨åˆ†æ“ä½œå‘ç”Ÿé—®é¢˜ï¼Œæ˜ å°„åˆ°äº‹åŠ¡å¼€å¯å‰ã€‚-- äº‹åŠ¡çš„ç‰¹æ€§ 1. åŸå­æ€§ï¼ˆAtomicityï¼‰ äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆéƒ½å‘ç”Ÿï¼Œè¦ä¹ˆéƒ½ä¸å‘ç”Ÿã€‚ 2. ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ äº‹åŠ¡å‰åæ•°æ®çš„å®Œæ•´æ€§å¿…é¡»ä¿æŒä¸€è‡´ã€‚ - äº‹åŠ¡å¼€å§‹å’Œç»“æŸæ—¶ï¼Œå¤–éƒ¨æ•°æ®ä¸€è‡´ - åœ¨æ•´ä¸ªäº‹åŠ¡è¿‡ç¨‹ä¸­ï¼Œæ“ä½œæ˜¯è¿ç»­çš„ 3. éš”ç¦»æ€§ï¼ˆIsolationï¼‰ å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œä¸€ä¸ªç”¨æˆ·çš„äº‹åŠ¡ä¸èƒ½è¢«å…¶å®ƒç”¨æˆ·çš„äº‹ç‰©æ‰€å¹²æ‰°ï¼Œå¤šä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´çš„æ•°æ®è¦ç›¸äº’éš”ç¦»ã€‚ 4. æŒä¹…æ€§ï¼ˆDurabilityï¼‰ ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„ã€‚-- äº‹åŠ¡çš„å®ç° 1. è¦æ±‚æ˜¯äº‹åŠ¡æ”¯æŒçš„è¡¨ç±»å‹ 2. æ‰§è¡Œä¸€ç»„ç›¸å…³çš„æ“ä½œå‰å¼€å¯äº‹åŠ¡ 3. æ•´ç»„æ“ä½œå®Œæˆåï¼Œéƒ½æˆåŠŸï¼Œåˆ™æäº¤ï¼›å¦‚æœå­˜åœ¨å¤±è´¥ï¼Œé€‰æ‹©å›æ»šï¼Œåˆ™ä¼šå›åˆ°äº‹åŠ¡å¼€å§‹çš„å¤‡ä»½ç‚¹ã€‚-- äº‹åŠ¡çš„åŸç† åˆ©ç”¨InnoDBçš„è‡ªåŠ¨æäº¤(autocommit)ç‰¹æ€§å®Œæˆã€‚ æ™®é€šçš„MySQLæ‰§è¡Œè¯­å¥åï¼Œå½“å‰çš„æ•°æ®æäº¤æ“ä½œå‡å¯è¢«å…¶ä»–å®¢æˆ·ç«¯å¯è§ã€‚ è€Œäº‹åŠ¡æ˜¯æš‚æ—¶å…³é—­â€œè‡ªåŠ¨æäº¤â€æœºåˆ¶ï¼Œéœ€è¦commitæäº¤æŒä¹…åŒ–æ•°æ®æ“ä½œã€‚-- æ³¨æ„ 1. æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰è¯­å¥ä¸èƒ½è¢«å›æ»šï¼Œæ¯”å¦‚åˆ›å»ºæˆ–å–æ¶ˆæ•°æ®åº“çš„è¯­å¥ï¼Œå’Œåˆ›å»ºã€å–æ¶ˆæˆ–æ›´æ”¹è¡¨æˆ–å­˜å‚¨çš„å­ç¨‹åºçš„è¯­å¥ã€‚ 2. äº‹åŠ¡ä¸èƒ½è¢«åµŒå¥—-- ä¿å­˜ç‚¹ SAVEPOINT ä¿å­˜ç‚¹åç§° -- è®¾ç½®ä¸€ä¸ªäº‹åŠ¡ä¿å­˜ç‚¹ ROLLBACK TO SAVEPOINT ä¿å­˜ç‚¹åç§° -- å›æ»šåˆ°ä¿å­˜ç‚¹ RELEASE SAVEPOINT ä¿å­˜ç‚¹åç§° -- åˆ é™¤ä¿å­˜ç‚¹-- InnoDBè‡ªåŠ¨æäº¤ç‰¹æ€§è®¾ç½® SET autocommit = 0|1; 0è¡¨ç¤ºå…³é—­è‡ªåŠ¨æäº¤ï¼Œ1è¡¨ç¤ºå¼€å¯è‡ªåŠ¨æäº¤ã€‚ - å¦‚æœå…³é—­äº†ï¼Œé‚£æ™®é€šæ“ä½œçš„ç»“æœå¯¹å…¶ä»–å®¢æˆ·ç«¯ä¹Ÿä¸å¯è§ï¼Œéœ€è¦commitæäº¤åæ‰èƒ½æŒä¹…åŒ–æ•°æ®æ“ä½œã€‚ - ä¹Ÿå¯ä»¥å…³é—­è‡ªåŠ¨æäº¤æ¥å¼€å¯äº‹åŠ¡ã€‚ä½†ä¸START TRANSACTIONä¸åŒçš„æ˜¯ï¼Œ SET autocommitæ˜¯æ°¸ä¹…æ”¹å˜æœåŠ¡å™¨çš„è®¾ç½®ï¼Œç›´åˆ°ä¸‹æ¬¡å†æ¬¡ä¿®æ”¹è¯¥è®¾ç½®ã€‚(é’ˆå¯¹å½“å‰è¿æ¥) è€ŒSTART TRANSACTIONè®°å½•å¼€å¯å‰çš„çŠ¶æ€ï¼Œè€Œä¸€æ—¦äº‹åŠ¡æäº¤æˆ–å›æ»šåå°±éœ€è¦å†æ¬¡å¼€å¯äº‹åŠ¡ã€‚(é’ˆå¯¹å½“å‰äº‹åŠ¡) é”è¡¨ 1234567/* é”è¡¨ */è¡¨é”å®šåªç”¨äºé˜²æ­¢å…¶å®ƒå®¢æˆ·ç«¯è¿›è¡Œä¸æ­£å½“åœ°è¯»å–å’Œå†™å…¥MyISAM æ”¯æŒè¡¨é”ï¼ŒInnoDB æ”¯æŒè¡Œé”-- é”å®š LOCK TABLES tbl_name [AS alias]-- è§£é” UNLOCK TABLES è§¦å‘å™¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/* è§¦å‘å™¨ */ ------------------ è§¦å‘ç¨‹åºæ˜¯ä¸è¡¨æœ‰å…³çš„å‘½åæ•°æ®åº“å¯¹è±¡ï¼Œå½“è¯¥è¡¨å‡ºç°ç‰¹å®šäº‹ä»¶æ—¶ï¼Œå°†æ¿€æ´»è¯¥å¯¹è±¡ ç›‘å¬ï¼šè®°å½•çš„å¢åŠ ã€ä¿®æ”¹ã€åˆ é™¤ã€‚-- åˆ›å»ºè§¦å‘å™¨CREATE TRIGGER trigger_name trigger_time trigger_event ON tbl_name FOR EACH ROW trigger_stmt å‚æ•°ï¼š trigger_timeæ˜¯è§¦å‘ç¨‹åºçš„åŠ¨ä½œæ—¶é—´ã€‚å®ƒå¯ä»¥æ˜¯ before æˆ– afterï¼Œä»¥æŒ‡æ˜è§¦å‘ç¨‹åºæ˜¯åœ¨æ¿€æ´»å®ƒçš„è¯­å¥ä¹‹å‰æˆ–ä¹‹åè§¦å‘ã€‚ trigger_eventæŒ‡æ˜äº†æ¿€æ´»è§¦å‘ç¨‹åºçš„è¯­å¥çš„ç±»å‹ INSERTï¼šå°†æ–°è¡Œæ’å…¥è¡¨æ—¶æ¿€æ´»è§¦å‘ç¨‹åº UPDATEï¼šæ›´æ”¹æŸä¸€è¡Œæ—¶æ¿€æ´»è§¦å‘ç¨‹åº DELETEï¼šä»è¡¨ä¸­åˆ é™¤æŸä¸€è¡Œæ—¶æ¿€æ´»è§¦å‘ç¨‹åº tbl_nameï¼šç›‘å¬çš„è¡¨ï¼Œå¿…é¡»æ˜¯æ°¸ä¹…æ€§çš„è¡¨ï¼Œä¸èƒ½å°†è§¦å‘ç¨‹åºä¸TEMPORARYè¡¨æˆ–è§†å›¾å…³è”èµ·æ¥ã€‚ trigger_stmtï¼šå½“è§¦å‘ç¨‹åºæ¿€æ´»æ—¶æ‰§è¡Œçš„è¯­å¥ã€‚æ‰§è¡Œå¤šä¸ªè¯­å¥ï¼Œå¯ä½¿ç”¨BEGIN...ENDå¤åˆè¯­å¥ç»“æ„-- åˆ é™¤DROP TRIGGER [schema_name.]trigger_nameå¯ä»¥ä½¿ç”¨oldå’Œnewä»£æ›¿æ—§çš„å’Œæ–°çš„æ•°æ® æ›´æ–°æ“ä½œï¼Œæ›´æ–°å‰æ˜¯oldï¼Œæ›´æ–°åæ˜¯new. åˆ é™¤æ“ä½œï¼Œåªæœ‰old. å¢åŠ æ“ä½œï¼Œåªæœ‰new.-- æ³¨æ„ 1. å¯¹äºå…·æœ‰ç›¸åŒè§¦å‘ç¨‹åºåŠ¨ä½œæ—¶é—´å’Œäº‹ä»¶çš„ç»™å®šè¡¨ï¼Œä¸èƒ½æœ‰ä¸¤ä¸ªè§¦å‘ç¨‹åºã€‚-- å­—ç¬¦è¿æ¥å‡½æ•°concat(str1,str2,...])concat_ws(separator,str1,str2,...)-- åˆ†æ”¯è¯­å¥if æ¡ä»¶ then æ‰§è¡Œè¯­å¥elseif æ¡ä»¶ then æ‰§è¡Œè¯­å¥else æ‰§è¡Œè¯­å¥end if;-- ä¿®æ”¹æœ€å¤–å±‚è¯­å¥ç»“æŸç¬¦delimiter è‡ªå®šä¹‰ç»“æŸç¬¦å· SQLè¯­å¥è‡ªå®šä¹‰ç»“æŸç¬¦å·delimiter ; -- ä¿®æ”¹å›åŸæ¥çš„åˆ†å·-- è¯­å¥å—åŒ…è£¹begin è¯­å¥å—end-- ç‰¹æ®Šçš„æ‰§è¡Œ1. åªè¦æ·»åŠ è®°å½•ï¼Œå°±ä¼šè§¦å‘ç¨‹åºã€‚2. Insert into on duplicate key update è¯­æ³•ä¼šè§¦å‘ï¼š å¦‚æœæ²¡æœ‰é‡å¤è®°å½•ï¼Œä¼šè§¦å‘ before insert, after insert; å¦‚æœæœ‰é‡å¤è®°å½•å¹¶æ›´æ–°ï¼Œä¼šè§¦å‘ before insert, before update, after update; å¦‚æœæœ‰é‡å¤è®°å½•ä½†æ˜¯æ²¡æœ‰å‘ç”Ÿæ›´æ–°ï¼Œåˆ™è§¦å‘ before insert, before update3. Replace è¯­æ³• å¦‚æœæœ‰è®°å½•ï¼Œåˆ™æ‰§è¡Œ before insert, before delete, after delete, after insert SQLç¼–ç¨‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130/* SQLç¼–ç¨‹ */ --------------------// å±€éƒ¨å˜é‡ ------------ å˜é‡å£°æ˜ declare var_name[,...] type [default value] è¿™ä¸ªè¯­å¥è¢«ç”¨æ¥å£°æ˜å±€éƒ¨å˜é‡ã€‚è¦ç»™å˜é‡æä¾›ä¸€ä¸ªé»˜è®¤å€¼ï¼Œè¯·åŒ…å«ä¸€ä¸ªdefaultå­å¥ã€‚å€¼å¯ä»¥è¢«æŒ‡å®šä¸ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸éœ€è¦ä¸ºä¸€ä¸ªå¸¸æ•°ã€‚å¦‚æœæ²¡æœ‰defaultå­å¥ï¼Œåˆå§‹å€¼ä¸ºnullã€‚-- èµ‹å€¼ ä½¿ç”¨ set å’Œ select into è¯­å¥ä¸ºå˜é‡èµ‹å€¼ã€‚ - æ³¨æ„ï¼šåœ¨å‡½æ•°å†…æ˜¯å¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡ï¼ˆç”¨æˆ·è‡ªå®šä¹‰çš„å˜é‡ï¼‰--// å…¨å±€å˜é‡ ------------ å®šä¹‰ã€èµ‹å€¼set è¯­å¥å¯ä»¥å®šä¹‰å¹¶ä¸ºå˜é‡èµ‹å€¼ã€‚set @var = value;ä¹Ÿå¯ä»¥ä½¿ç”¨select intoè¯­å¥ä¸ºå˜é‡åˆå§‹åŒ–å¹¶èµ‹å€¼ã€‚è¿™æ ·è¦æ±‚selectè¯­å¥åªèƒ½è¿”å›ä¸€è¡Œï¼Œä½†æ˜¯å¯ä»¥æ˜¯å¤šä¸ªå­—æ®µï¼Œå°±æ„å‘³ç€åŒæ—¶ä¸ºå¤šä¸ªå˜é‡è¿›è¡Œèµ‹å€¼ï¼Œå˜é‡çš„æ•°é‡éœ€è¦ä¸æŸ¥è¯¢çš„åˆ—æ•°ä¸€è‡´ã€‚è¿˜å¯ä»¥æŠŠèµ‹å€¼è¯­å¥çœ‹ä½œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé€šè¿‡selectæ‰§è¡Œå®Œæˆã€‚æ­¤æ—¶ä¸ºäº†é¿å…=è¢«å½“ä½œå…³ç³»è¿ç®—ç¬¦çœ‹å¾…ï¼Œä½¿ç”¨:=ä»£æ›¿ã€‚ï¼ˆsetè¯­å¥å¯ä»¥ä½¿ç”¨= å’Œ :=ï¼‰ã€‚select @var:=20;select @v1:=id, @v2=name from t1 limit 1;select * from tbl_name where @var:=30;select into å¯ä»¥å°†è¡¨ä¸­æŸ¥è¯¢è·å¾—çš„æ•°æ®èµ‹ç»™å˜é‡ã€‚ -| select max(height) into @max_height from tb;-- è‡ªå®šä¹‰å˜é‡åä¸ºäº†é¿å…selectè¯­å¥ä¸­ï¼Œç”¨æˆ·è‡ªå®šä¹‰çš„å˜é‡ä¸ç³»ç»Ÿæ ‡è¯†ç¬¦ï¼ˆé€šå¸¸æ˜¯å­—æ®µåï¼‰å†²çªï¼Œç”¨æˆ·è‡ªå®šä¹‰å˜é‡åœ¨å˜é‡åå‰ä½¿ç”¨@ä½œä¸ºå¼€å§‹ç¬¦å·ã€‚@var=10; - å˜é‡è¢«å®šä¹‰åï¼Œåœ¨æ•´ä¸ªä¼šè¯å‘¨æœŸéƒ½æœ‰æ•ˆï¼ˆç™»å½•åˆ°é€€å‡ºï¼‰--// æ§åˆ¶ç»“æ„ ------------ ifè¯­å¥if search_condition then statement_list [elseif search_condition then statement_list]...[else statement_list]end if;-- caseè¯­å¥CASE value WHEN [compare-value] THEN result[WHEN [compare-value] THEN result ...][ELSE result]END-- whileå¾ªç¯[begin_label:] while search_condition do statement_listend while [end_label];- å¦‚æœéœ€è¦åœ¨å¾ªç¯å†…æå‰ç»ˆæ­¢ whileå¾ªç¯ï¼Œåˆ™éœ€è¦ä½¿ç”¨æ ‡ç­¾ï¼›æ ‡ç­¾éœ€è¦æˆå¯¹å‡ºç°ã€‚ -- é€€å‡ºå¾ªç¯ é€€å‡ºæ•´ä¸ªå¾ªç¯ leave é€€å‡ºå½“å‰å¾ªç¯ iterate é€šè¿‡é€€å‡ºçš„æ ‡ç­¾å†³å®šé€€å‡ºå“ªä¸ªå¾ªç¯--// å†…ç½®å‡½æ•° ------------ æ•°å€¼å‡½æ•°abs(x) -- ç»å¯¹å€¼ abs(-10.9) = 10format(x, d) -- æ ¼å¼åŒ–åƒåˆ†ä½æ•°å€¼ format(1234567.456, 2) = 1,234,567.46ceil(x) -- å‘ä¸Šå–æ•´ ceil(10.1) = 11floor(x) -- å‘ä¸‹å–æ•´ floor (10.1) = 10round(x) -- å››èˆäº”å…¥å»æ•´mod(m, n) -- m%n m mod n æ±‚ä½™ 10%3=1pi() -- è·å¾—åœ†å‘¨ç‡pow(m, n) -- m^nsqrt(x) -- ç®—æœ¯å¹³æ–¹æ ¹rand() -- éšæœºæ•°truncate(x, d) -- æˆªå–dä½å°æ•°-- æ—¶é—´æ—¥æœŸå‡½æ•°now(), current_timestamp(); -- å½“å‰æ—¥æœŸæ—¶é—´current_date(); -- å½“å‰æ—¥æœŸcurrent_time(); -- å½“å‰æ—¶é—´date(&#x27;yyyy-mm-dd hh:ii:ss&#x27;); -- è·å–æ—¥æœŸéƒ¨åˆ†time(&#x27;yyyy-mm-dd hh:ii:ss&#x27;); -- è·å–æ—¶é—´éƒ¨åˆ†date_format(&#x27;yyyy-mm-dd hh:ii:ss&#x27;, &#x27;%d %y %a %d %m %b %j&#x27;); -- æ ¼å¼åŒ–æ—¶é—´unix_timestamp(); -- è·å¾—unixæ—¶é—´æˆ³from_unixtime(); -- ä»æ—¶é—´æˆ³è·å¾—æ—¶é—´-- å­—ç¬¦ä¸²å‡½æ•°length(string) -- stringé•¿åº¦ï¼Œå­—èŠ‚char_length(string) -- stringçš„å­—ç¬¦ä¸ªæ•°substring(str, position [,length]) -- ä»strçš„positionå¼€å§‹,å–lengthä¸ªå­—ç¬¦replace(str ,search_str ,replace_str) -- åœ¨strä¸­ç”¨replace_stræ›¿æ¢search_strinstr(string ,substring) -- è¿”å›substringé¦–æ¬¡åœ¨stringä¸­å‡ºç°çš„ä½ç½®concat(string [,...]) -- è¿æ¥å­—ä¸²charset(str) -- è¿”å›å­—ä¸²å­—ç¬¦é›†lcase(string) -- è½¬æ¢æˆå°å†™left(string, length) -- ä»string2ä¸­çš„å·¦è¾¹èµ·å–lengthä¸ªå­—ç¬¦load_file(file_name) -- ä»æ–‡ä»¶è¯»å–å†…å®¹locate(substring, string [,start_position]) -- åŒinstr,ä½†å¯æŒ‡å®šå¼€å§‹ä½ç½®lpad(string, length, pad) -- é‡å¤ç”¨padåŠ åœ¨stringå¼€å¤´,ç›´åˆ°å­—ä¸²é•¿åº¦ä¸ºlengthltrim(string) -- å»é™¤å‰ç«¯ç©ºæ ¼repeat(string, count) -- é‡å¤countæ¬¡rpad(string, length, pad) --åœ¨stråç”¨padè¡¥å……,ç›´åˆ°é•¿åº¦ä¸ºlengthrtrim(string) -- å»é™¤åç«¯ç©ºæ ¼strcmp(string1 ,string2) -- é€å­—ç¬¦æ¯”è¾ƒä¸¤å­—ä¸²å¤§å°-- æµç¨‹å‡½æ•°case when [condition] then result [when [condition] then result ...] [else result] end å¤šåˆ†æ”¯if(expr1,expr2,expr3) åŒåˆ†æ”¯ã€‚-- èšåˆå‡½æ•°count()sum();max();min();avg();group_concat()-- å…¶ä»–å¸¸ç”¨å‡½æ•°md5();default();--// å­˜å‚¨å‡½æ•°ï¼Œè‡ªå®šä¹‰å‡½æ•° ------------ æ–°å»º CREATE FUNCTION function_name (å‚æ•°åˆ—è¡¨) RETURNS è¿”å›å€¼ç±»å‹ å‡½æ•°ä½“ - å‡½æ•°åï¼Œåº”è¯¥åˆæ³•çš„æ ‡è¯†ç¬¦ï¼Œå¹¶ä¸”ä¸åº”è¯¥ä¸å·²æœ‰çš„å…³é”®å­—å†²çªã€‚ - ä¸€ä¸ªå‡½æ•°åº”è¯¥å±äºæŸä¸ªæ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨db_name.funciton_nameçš„å½¢å¼æ‰§è¡Œå½“å‰å‡½æ•°æ‰€å±æ•°æ®åº“ï¼Œå¦åˆ™ä¸ºå½“å‰æ•°æ®åº“ã€‚ - å‚æ•°éƒ¨åˆ†ï¼Œç”±&quot;å‚æ•°å&quot;å’Œ&quot;å‚æ•°ç±»å‹&quot;ç»„æˆã€‚å¤šä¸ªå‚æ•°ç”¨é€—å·éš”å¼€ã€‚ - å‡½æ•°ä½“ç”±å¤šæ¡å¯ç”¨çš„mysqlè¯­å¥ï¼Œæµç¨‹æ§åˆ¶ï¼Œå˜é‡å£°æ˜ç­‰è¯­å¥æ„æˆã€‚ - å¤šæ¡è¯­å¥åº”è¯¥ä½¿ç”¨ begin...end è¯­å¥å—åŒ…å«ã€‚ - ä¸€å®šè¦æœ‰ return è¿”å›å€¼è¯­å¥ã€‚-- åˆ é™¤ DROP FUNCTION [IF EXISTS] function_name;-- æŸ¥çœ‹ SHOW FUNCTION STATUS LIKE &#x27;partten&#x27; SHOW CREATE FUNCTION function_name;-- ä¿®æ”¹ ALTER FUNCTION function_name å‡½æ•°é€‰é¡¹--// å­˜å‚¨è¿‡ç¨‹ï¼Œè‡ªå®šä¹‰åŠŸèƒ½ ------------ å®šä¹‰å­˜å‚¨å­˜å‚¨è¿‡ç¨‹ æ˜¯ä¸€æ®µä»£ç ï¼ˆè¿‡ç¨‹ï¼‰ï¼Œå­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„sqlç»„æˆã€‚ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹é€šå¸¸ç”¨äºå®Œæˆä¸€æ®µä¸šåŠ¡é€»è¾‘ï¼Œä¾‹å¦‚æŠ¥åï¼Œäº¤ç­è´¹ï¼Œè®¢å•å…¥åº“ç­‰ã€‚è€Œä¸€ä¸ªå‡½æ•°é€šå¸¸ä¸“æ³¨ä¸æŸä¸ªåŠŸèƒ½ï¼Œè§†ä¸ºå…¶ä»–ç¨‹åºæœåŠ¡çš„ï¼Œéœ€è¦åœ¨å…¶ä»–è¯­å¥ä¸­è°ƒç”¨å‡½æ•°æ‰å¯ä»¥ï¼Œè€Œå­˜å‚¨è¿‡ç¨‹ä¸èƒ½è¢«å…¶ä»–è°ƒç”¨ï¼Œæ˜¯è‡ªå·±æ‰§è¡Œ é€šè¿‡callæ‰§è¡Œã€‚-- åˆ›å»ºCREATE PROCEDURE sp_name (å‚æ•°åˆ—è¡¨) è¿‡ç¨‹ä½“å‚æ•°åˆ—è¡¨ï¼šä¸åŒäºå‡½æ•°çš„å‚æ•°åˆ—è¡¨ï¼Œéœ€è¦æŒ‡æ˜å‚æ•°ç±»å‹INï¼Œè¡¨ç¤ºè¾“å…¥å‹OUTï¼Œè¡¨ç¤ºè¾“å‡ºå‹INOUTï¼Œè¡¨ç¤ºæ··åˆå‹æ³¨æ„ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ å­˜å‚¨è¿‡ç¨‹ 12345678910111213141516/* å­˜å‚¨è¿‡ç¨‹ */ ------------------å­˜å‚¨è¿‡ç¨‹æ˜¯ä¸€æ®µå¯æ‰§è¡Œæ€§ä»£ç çš„é›†åˆã€‚ç›¸æ¯”å‡½æ•°ï¼Œæ›´åå‘äºä¸šåŠ¡é€»è¾‘ã€‚è°ƒç”¨ï¼šCALL è¿‡ç¨‹å-- æ³¨æ„- æ²¡æœ‰è¿”å›å€¼ã€‚- åªèƒ½å•ç‹¬è°ƒç”¨ï¼Œä¸å¯å¤¹æ‚åœ¨å…¶ä»–è¯­å¥ä¸­-- å‚æ•°IN|OUT|INOUT å‚æ•°å æ•°æ®ç±»å‹IN è¾“å…¥ï¼šåœ¨è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œå°†æ•°æ®è¾“å…¥åˆ°è¿‡ç¨‹ä½“å†…éƒ¨çš„å‚æ•°OUT è¾“å‡ºï¼šåœ¨è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œå°†è¿‡ç¨‹ä½“å¤„ç†å®Œçš„ç»“æœè¿”å›åˆ°å®¢æˆ·ç«¯INOUT è¾“å…¥è¾“å‡ºï¼šæ—¢å¯è¾“å…¥ï¼Œä¹Ÿå¯è¾“å‡º-- è¯­æ³•CREATE PROCEDURE è¿‡ç¨‹å (å‚æ•°åˆ—è¡¨)BEGIN è¿‡ç¨‹ä½“END ç”¨æˆ·å’Œæƒé™ç®¡ç† 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677/* ç”¨æˆ·å’Œæƒé™ç®¡ç† */ -------------------- rootå¯†ç é‡ç½®1. åœæ­¢MySQLæœåŠ¡2. [Linux] /usr/local/mysql/bin/safe_mysqld --skip-grant-tables &amp; [Windows] mysqld --skip-grant-tables3. use mysql;4. UPDATE `user` SET PASSWORD=PASSWORD(&quot;å¯†ç &quot;) WHERE `user` = &quot;root&quot;;5. FLUSH PRIVILEGES;ç”¨æˆ·ä¿¡æ¯è¡¨ï¼šmysql.user-- åˆ·æ–°æƒé™FLUSH PRIVILEGES;-- å¢åŠ ç”¨æˆ·CREATE USER ç”¨æˆ·å IDENTIFIED BY [PASSWORD] å¯†ç (å­—ç¬¦ä¸²) - å¿…é¡»æ‹¥æœ‰mysqlæ•°æ®åº“çš„å…¨å±€CREATE USERæƒé™ï¼Œæˆ–æ‹¥æœ‰INSERTæƒé™ã€‚ - åªèƒ½åˆ›å»ºç”¨æˆ·ï¼Œä¸èƒ½èµ‹äºˆæƒé™ã€‚ - ç”¨æˆ·åï¼Œæ³¨æ„å¼•å·ï¼šå¦‚ &#x27;user_name&#x27;@&#x27;192.168.1.1&#x27; - å¯†ç ä¹Ÿéœ€å¼•å·ï¼Œçº¯æ•°å­—å¯†ç ä¹Ÿè¦åŠ å¼•å· - è¦åœ¨çº¯æ–‡æœ¬ä¸­æŒ‡å®šå¯†ç ï¼Œéœ€å¿½ç•¥PASSWORDå…³é”®è¯ã€‚è¦æŠŠå¯†ç æŒ‡å®šä¸ºç”±PASSWORD()å‡½æ•°è¿”å›çš„æ··ç¼–å€¼ï¼Œéœ€åŒ…å«å…³é”®å­—PASSWORD-- é‡å‘½åç”¨æˆ·RENAME USER old_user TO new_user-- è®¾ç½®å¯†ç SET PASSWORD = PASSWORD(&#x27;å¯†ç &#x27;) -- ä¸ºå½“å‰ç”¨æˆ·è®¾ç½®å¯†ç SET PASSWORD FOR ç”¨æˆ·å = PASSWORD(&#x27;å¯†ç &#x27;) -- ä¸ºæŒ‡å®šç”¨æˆ·è®¾ç½®å¯†ç -- åˆ é™¤ç”¨æˆ·DROP USER ç”¨æˆ·å-- åˆ†é…æƒé™/æ·»åŠ ç”¨æˆ·GRANT æƒé™åˆ—è¡¨ ON è¡¨å TO ç”¨æˆ·å [IDENTIFIED BY [PASSWORD] &#x27;password&#x27;] - all privileges è¡¨ç¤ºæ‰€æœ‰æƒé™ - *.* è¡¨ç¤ºæ‰€æœ‰åº“çš„æ‰€æœ‰è¡¨ - åº“å.è¡¨å è¡¨ç¤ºæŸåº“ä¸‹é¢çš„æŸè¡¨ GRANT ALL PRIVILEGES ON `pms`.* TO &#x27;pms&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;pms0817&#x27;;-- æŸ¥çœ‹æƒé™SHOW GRANTS FOR ç”¨æˆ·å -- æŸ¥çœ‹å½“å‰ç”¨æˆ·æƒé™ SHOW GRANTS; æˆ– SHOW GRANTS FOR CURRENT_USER; æˆ– SHOW GRANTS FOR CURRENT_USER();-- æ’¤æ¶ˆæƒé™REVOKE æƒé™åˆ—è¡¨ ON è¡¨å FROM ç”¨æˆ·åREVOKE ALL PRIVILEGES, GRANT OPTION FROM ç”¨æˆ·å -- æ’¤é”€æ‰€æœ‰æƒé™-- æƒé™å±‚çº§-- è¦ä½¿ç”¨GRANTæˆ–REVOKEï¼Œæ‚¨å¿…é¡»æ‹¥æœ‰GRANT OPTIONæƒé™ï¼Œå¹¶ä¸”æ‚¨å¿…é¡»ç”¨äºæ‚¨æ­£åœ¨æˆäºˆæˆ–æ’¤é”€çš„æƒé™ã€‚å…¨å±€å±‚çº§ï¼šå…¨å±€æƒé™é€‚ç”¨äºä¸€ä¸ªç»™å®šæœåŠ¡å™¨ä¸­çš„æ‰€æœ‰æ•°æ®åº“ï¼Œmysql.user GRANT ALL ON *.*å’Œ REVOKE ALL ON *.*åªæˆäºˆå’Œæ’¤é”€å…¨å±€æƒé™ã€‚æ•°æ®åº“å±‚çº§ï¼šæ•°æ®åº“æƒé™é€‚ç”¨äºä¸€ä¸ªç»™å®šæ•°æ®åº“ä¸­çš„æ‰€æœ‰ç›®æ ‡ï¼Œmysql.db, mysql.host GRANT ALL ON db_name.*å’ŒREVOKE ALL ON db_name.*åªæˆäºˆå’Œæ’¤é”€æ•°æ®åº“æƒé™ã€‚è¡¨å±‚çº§ï¼šè¡¨æƒé™é€‚ç”¨äºä¸€ä¸ªç»™å®šè¡¨ä¸­çš„æ‰€æœ‰åˆ—ï¼Œmysql.talbes_priv GRANT ALL ON db_name.tbl_nameå’ŒREVOKE ALL ON db_name.tbl_nameåªæˆäºˆå’Œæ’¤é”€è¡¨æƒé™ã€‚åˆ—å±‚çº§ï¼šåˆ—æƒé™é€‚ç”¨äºä¸€ä¸ªç»™å®šè¡¨ä¸­çš„å•ä¸€åˆ—ï¼Œmysql.columns_priv å½“ä½¿ç”¨REVOKEæ—¶ï¼Œæ‚¨å¿…é¡»æŒ‡å®šä¸è¢«æˆæƒåˆ—ç›¸åŒçš„åˆ—ã€‚-- æƒé™åˆ—è¡¨ALL [PRIVILEGES] -- è®¾ç½®é™¤GRANT OPTIONä¹‹å¤–çš„æ‰€æœ‰ç®€å•æƒé™ALTER -- å…è®¸ä½¿ç”¨ALTER TABLEALTER ROUTINE -- æ›´æ”¹æˆ–å–æ¶ˆå·²å­˜å‚¨çš„å­ç¨‹åºCREATE -- å…è®¸ä½¿ç”¨CREATE TABLECREATE ROUTINE -- åˆ›å»ºå·²å­˜å‚¨çš„å­ç¨‹åºCREATE TEMPORARY TABLES -- å…è®¸ä½¿ç”¨CREATE TEMPORARY TABLECREATE USER -- å…è®¸ä½¿ç”¨CREATE USER, DROP USER, RENAME USERå’ŒREVOKE ALL PRIVILEGESã€‚CREATE VIEW -- å…è®¸ä½¿ç”¨CREATE VIEWDELETE -- å…è®¸ä½¿ç”¨DELETEDROP -- å…è®¸ä½¿ç”¨DROP TABLEEXECUTE -- å…è®¸ç”¨æˆ·è¿è¡Œå·²å­˜å‚¨çš„å­ç¨‹åºFILE -- å…è®¸ä½¿ç”¨SELECT...INTO OUTFILEå’ŒLOAD DATA INFILEINDEX -- å…è®¸ä½¿ç”¨CREATE INDEXå’ŒDROP INDEXINSERT -- å…è®¸ä½¿ç”¨INSERTLOCK TABLES -- å…è®¸å¯¹æ‚¨æ‹¥æœ‰SELECTæƒé™çš„è¡¨ä½¿ç”¨LOCK TABLESPROCESS -- å…è®¸ä½¿ç”¨SHOW FULL PROCESSLISTREFERENCES -- æœªè¢«å®æ–½RELOAD -- å…è®¸ä½¿ç”¨FLUSHREPLICATION CLIENT -- å…è®¸ç”¨æˆ·è¯¢é—®ä»å±æœåŠ¡å™¨æˆ–ä¸»æœåŠ¡å™¨çš„åœ°å€REPLICATION SLAVE -- ç”¨äºå¤åˆ¶å‹ä»å±æœåŠ¡å™¨ï¼ˆä»ä¸»æœåŠ¡å™¨ä¸­è¯»å–äºŒè¿›åˆ¶æ—¥å¿—äº‹ä»¶ï¼‰SELECT -- å…è®¸ä½¿ç”¨SELECTSHOW DATABASES -- æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“SHOW VIEW -- å…è®¸ä½¿ç”¨SHOW CREATE VIEWSHUTDOWN -- å…è®¸ä½¿ç”¨mysqladmin shutdownSUPER -- å…è®¸ä½¿ç”¨CHANGE MASTER, KILL, PURGE MASTER LOGSå’ŒSET GLOBALè¯­å¥ï¼Œmysqladmin debugå‘½ä»¤ï¼›å…è®¸æ‚¨è¿æ¥ï¼ˆä¸€æ¬¡ï¼‰ï¼Œå³ä½¿å·²è¾¾åˆ°max_connectionsã€‚UPDATE -- å…è®¸ä½¿ç”¨UPDATEUSAGE -- â€œæ— æƒé™â€çš„åŒä¹‰è¯GRANT OPTION -- å…è®¸æˆäºˆæƒé™ è¡¨ç»´æŠ¤ 12345678/* è¡¨ç»´æŠ¤ */-- åˆ†æå’Œå­˜å‚¨è¡¨çš„å…³é”®å­—åˆ†å¸ƒANALYZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE è¡¨å ...-- æ£€æŸ¥ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨æ˜¯å¦æœ‰é”™è¯¯CHECK TABLE tbl_name [, tbl_name] ... [option] ...option = &#123;QUICK | FAST | MEDIUM | EXTENDED | CHANGED&#125;-- æ•´ç†æ•°æ®æ–‡ä»¶çš„ç¢ç‰‡OPTIMIZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ... æ‚é¡¹ 1234567891011121314/* æ‚é¡¹ */ ------------------1. å¯ç”¨åå¼•å·ï¼ˆ`ï¼‰ä¸ºæ ‡è¯†ç¬¦ï¼ˆåº“åã€è¡¨åã€å­—æ®µåã€ç´¢å¼•ã€åˆ«åï¼‰åŒ…è£¹ï¼Œä»¥é¿å…ä¸å…³é”®å­—é‡åï¼ä¸­æ–‡ä¹Ÿå¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ï¼2. æ¯ä¸ªåº“ç›®å½•å­˜åœ¨ä¸€ä¸ªä¿å­˜å½“å‰æ•°æ®åº“çš„é€‰é¡¹æ–‡ä»¶db.optã€‚3. æ³¨é‡Šï¼š å•è¡Œæ³¨é‡Š # æ³¨é‡Šå†…å®¹ å¤šè¡Œæ³¨é‡Š /* æ³¨é‡Šå†…å®¹ */ å•è¡Œæ³¨é‡Š -- æ³¨é‡Šå†…å®¹ (æ ‡å‡†SQLæ³¨é‡Šé£æ ¼ï¼Œè¦æ±‚åŒç ´æŠ˜å·ååŠ ä¸€ç©ºæ ¼ç¬¦ï¼ˆç©ºæ ¼ã€TABã€æ¢è¡Œç­‰ï¼‰)4. æ¨¡å¼é€šé…ç¬¦ï¼š _ ä»»æ„å•ä¸ªå­—ç¬¦ % ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œç”šè‡³åŒ…æ‹¬é›¶å­—ç¬¦ å•å¼•å·éœ€è¦è¿›è¡Œè½¬ä¹‰ \\&#x27;5. CMDå‘½ä»¤è¡Œå†…çš„è¯­å¥ç»“æŸç¬¦å¯ä»¥ä¸º &quot;;&quot;, &quot;\\G&quot;, &quot;\\g&quot;ï¼Œä»…å½±å“æ˜¾ç¤ºç»“æœã€‚å…¶ä»–åœ°æ–¹è¿˜æ˜¯ç”¨åˆ†å·ç»“æŸã€‚delimiter å¯ä¿®æ”¹å½“å‰å¯¹è¯çš„è¯­å¥ç»“æŸç¬¦ã€‚6. SQLå¯¹å¤§å°å†™ä¸æ•æ„Ÿ7. æ¸…é™¤å·²æœ‰è¯­å¥ï¼š\\c","categories":[],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://zhoumoon.github.io/tags/MySQL/"}]},{"title":"Mybatis-Plus çœŸå¥½ç”¨","slug":"Java/Mybatis-Plus çœŸå¥½ç”¨","date":"2017-09-10T23:12:22.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2017/09/11/Java/Mybatis-Plus çœŸå¥½ç”¨/","link":"","permalink":"http://zhoumoon.github.io/2017/09/11/Java/Mybatis-Plus%20%E7%9C%9F%E5%A5%BD%E7%94%A8/","excerpt":"","text":"æ•°æ®åº“å‡†å¤‡ 1CREATE TABLE tbl_user( user_id BIGINT(20) NOT NULL COMMENT &#x27;ä¸»é”®ID&#x27;, user_name VARCHAR(30) NULL DEFAULT NULL COMMENT &#x27;å§“å&#x27;, user_age INT(11) NULL DEFAULT NULL COMMENT &#x27;å¹´é¾„&#x27;, PRIMARY KEY (user_id)) charset = utf8; MyBatis-PlusåŠ æŒ å·¥ç¨‹æ­å»º ï¼ˆä¸èµ˜è¿°äº†ï¼‰ ä¾èµ–å¼•å…¥ 1234567891011121314151617181920212223&lt;dependency&gt; &lt;groupId&gt;com.baomidou&lt;/groupId&gt; &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.9&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;version&gt;8.0.12&lt;/version&gt;&lt;/dependency&gt; ä¸»è¦æ˜¯ Mybatis Plusã€Lombokï¼ˆä¸çŸ¥é“Lombokå¹²å˜›çš„ï¼Ÿå¯ä»¥çœ‹è¿™é‡Œï¼‰ã€Druidè¿æ¥æ±  ç­‰ä¾èµ–ã€‚ MyBatis Plusé…ç½® é¡¹ç›®é…ç½® 123mybatis-plus: mapper-locations: classpath:/mapper/*Mapper.xml æ–°å¢ MyBatis Plusé…ç½®ç±» 1234@Configuration@MapperScan(&quot;cn.codesheep.springbtmybatisplus.mapper&quot;)public class MyBatisConfig &#123;&#125; çœ‹åˆ°æ²¡ï¼Œå‡ ä¹é›¶é…ç½®å•Šï¼Œä¸‹é¢å°±å¯ä»¥å†™ä¸šåŠ¡é€»è¾‘äº† ä¸šåŠ¡ç¼–å†™ å®ä½“ç±» 12345678@Data@TableName(&quot;tbl_user&quot;)public class User &#123; @TableId(value = &quot;user_id&quot;) private Long userId; private String userName; private Integer userAge;&#125; Mapperç±» 1public interface UserMapper extends BaseMapper&lt;User&gt; &#123;&#125; è¿™é‡Œå•¥æ¥å£æ–¹æ³•ä¹Ÿä¸ç”¨å†™ï¼Œå°±å¯ä»¥å®ç°å¢åˆ æ”¹æŸ¥äº†ï¼ Serviceç±» Serviceæ¥å£ï¼š 1234567public interface UserService extends IService&lt;User&gt; &#123; int insertUser( User user ); int updateUser( User user ); int deleteUser( User user ); User findUserByName( String userName ); IPage getUserPage( Page page, User user );&#125; Serviceå®ç°ï¼š 12345678910111213141516171819202122232425262728@Service@AllArgsConstructorpublic class UserServiceImpl extends ServiceImpl&lt;UserMapper, User&gt; implements UserService &#123; // å¢ @Override public int insertUser(User user) &#123; return baseMapper.insert( user ); &#125; // æ”¹ @Override public int updateUser(User user) &#123; return baseMapper.updateById( user ); &#125; // åˆ  @Override public int deleteUser(User user) &#123; return baseMapper.deleteById( user.getUserId() ); &#125; // æŸ¥ @Override public User findUserByName( String userName ) &#123; return baseMapper.getUserByName( userName ); &#125;&#125; Controllerç±» 12345678910111213141516171819202122232425262728293031@RestController@RequestMapping(&quot;/user&quot;)public class UserContorller &#123; @Autowired private UserService userService; // å¢ @PostMapping( value = &quot;/insert&quot;) public Object insert( @RequestBody User user ) &#123; return userService.insertUser( user ); &#125; // æ”¹ @PostMapping( value = &quot;/update&quot;) public Object update( @RequestBody User user ) &#123; return userService.updateUser( user ); &#125; // åˆ  @PostMapping( value = &quot;/delete&quot;) public Object delete( @RequestBody User user ) &#123; return userService.deleteUser( user ); &#125; // æŸ¥ @GetMapping( value = &quot;/getUserByName&quot;) public Object getUserByName( @RequestParam String userName ) &#123; return userService.findUserByName( userName ); &#125;&#125; é€šè¿‡ä»¥ä¸Šå‡ ä¸ªç®€å•çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å°±å®ç°äº† tbl_userè¡¨çš„å¢åˆ æ”¹æŸ¥ï¼Œä¼ ç»Ÿ MyBatisçš„ XMLæ–‡ä»¶ä¸€ä¸ªéƒ½ä¸éœ€è¦å†™ï¼ æœ€å…³å¿ƒçš„åˆ†é¡µé—®é¢˜ é¦–å…ˆè£…é…åˆ†é¡µæ’ä»¶ 1234@Beanpublic PaginationInterceptor paginationInterceptor() &#123; return new PaginationInterceptor();&#125; Mapperç±» 12345678public interface UserMapper extends BaseMapper&lt;User&gt; &#123; // æ™®é€šæŸ¥è¯¢ User getUserByName( String userName ); // åˆ†é¡µæŸ¥è¯¢ IPage&lt;List&lt;User&gt;&gt; getUsersPage( Page page, @Param(&quot;query&quot;) User user );&#125; Serviceç±» 12345678910111213141516@Service@AllArgsConstructorpublic class UserServiceImpl extends ServiceImpl&lt;UserMapper, User&gt; implements UserService &#123; // æŸ¥ï¼šæ™®é€šæŸ¥ @Override public User findUserByName( String userName ) &#123; return baseMapper.getUserByName( userName ); &#125; // åˆ†é¡µæŸ¥ @Override public IPage getUserPage(Page page, User user) &#123; return baseMapper.getUsersPage( page, user ); &#125;&#125; Controllerç±» 1234@GetMapping( value = &quot;/page&quot;)public Object getUserPage( Page page, User user ) &#123; return userService.getUserPage( page, user );&#125;","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"}]},{"title":"MySQLé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®","slug":"DB/MySQLé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®","date":"2017-07-12T07:12:00.000Z","updated":"2023-08-01T01:45:09.865Z","comments":false,"path":"2017/07/12/DB/MySQLé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®/","link":"","permalink":"http://zhoumoon.github.io/2017/07/12/DB/MySQL%E9%AB%98%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E8%A7%84%E8%8C%83%E5%BB%BA%E8%AE%AE/","excerpt":"","text":"æ•°æ®åº“å­—æ®µè®¾è®¡è§„èŒƒ 1. ä¼˜å…ˆé€‰æ‹©ç¬¦åˆå­˜å‚¨éœ€è¦çš„æœ€å°çš„æ•°æ®ç±»å‹ 2. é¿å…ä½¿ç”¨ TEXT,BLOB æ•°æ®ç±»å‹ï¼Œæœ€å¸¸è§çš„ TEXT ç±»å‹å¯ä»¥å­˜å‚¨ 64k çš„æ•°æ® 3. é¿å…ä½¿ç”¨ ENUM ç±»å‹ 4. å°½å¯èƒ½æŠŠæ‰€æœ‰åˆ—å®šä¹‰ä¸º NOT NULL 5. ä½¿ç”¨ TIMESTAMP(4 ä¸ªå­—èŠ‚) æˆ– DATETIME ç±»å‹ (8 ä¸ªå­—èŠ‚) å­˜å‚¨æ—¶é—´ 6. åŒè´¢åŠ¡ç›¸å…³çš„é‡‘é¢ç±»æ•°æ®å¿…é¡»ä½¿ç”¨ decimal ç±»å‹ ç´¢å¼•è®¾è®¡è§„èŒƒ 1. é™åˆ¶æ¯å¼ è¡¨ä¸Šçš„ç´¢å¼•æ•°é‡,å»ºè®®å•å¼ è¡¨ç´¢å¼•ä¸è¶…è¿‡ 5 ä¸ª 2. ç¦æ­¢ç»™è¡¨ä¸­çš„æ¯ä¸€åˆ—éƒ½å»ºç«‹å•ç‹¬çš„ç´¢å¼• 3. æ¯ä¸ª Innodb è¡¨å¿…é¡»æœ‰ä¸ªä¸»é”® 4. å¸¸è§ç´¢å¼•åˆ—å»ºè®® 5.å¦‚ä½•é€‰æ‹©ç´¢å¼•åˆ—çš„é¡ºåº 6. é¿å…å»ºç«‹å†—ä½™ç´¢å¼•å’Œé‡å¤ç´¢å¼•ï¼ˆå¢åŠ äº†æŸ¥è¯¢ä¼˜åŒ–å™¨ç”Ÿæˆæ‰§è¡Œè®¡åˆ’çš„æ—¶é—´ï¼‰ 7. å¯¹äºé¢‘ç¹çš„æŸ¥è¯¢ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨è¦†ç›–ç´¢å¼• 8.ç´¢å¼• SET è§„èŒƒ æ•°æ®åº“ SQL å¼€å‘è§„èŒƒ 1. å»ºè®®ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥è¿›è¡Œæ•°æ®åº“æ“ä½œ 2. é¿å…æ•°æ®ç±»å‹çš„éšå¼è½¬æ¢ 3. å……åˆ†åˆ©ç”¨è¡¨ä¸Šå·²ç»å­˜åœ¨çš„ç´¢å¼• 4. æ•°æ®åº“è®¾è®¡æ—¶ï¼Œåº”è¯¥è¦å¯¹ä»¥åæ‰©å±•è¿›è¡Œè€ƒè™‘ 5. ç¨‹åºè¿æ¥ä¸åŒçš„æ•°æ®åº“ä½¿ç”¨ä¸åŒçš„è´¦å·ï¼Œç¦æ­¢è·¨åº“æŸ¥è¯¢ 6. ç¦æ­¢ä½¿ç”¨ SELECT * å¿…é¡»ä½¿ç”¨ SELECT &lt;å­—æ®µåˆ—è¡¨&gt; æŸ¥è¯¢ 7. ç¦æ­¢ä½¿ç”¨ä¸å«å­—æ®µåˆ—è¡¨çš„ INSERT è¯­å¥ 8. é¿å…ä½¿ç”¨å­æŸ¥è¯¢ï¼Œå¯ä»¥æŠŠå­æŸ¥è¯¢ä¼˜åŒ–ä¸º join æ“ä½œ 9. é¿å…ä½¿ç”¨ JOIN å…³è”å¤ªå¤šçš„è¡¨ 10. å‡å°‘åŒæ•°æ®åº“çš„äº¤äº’æ¬¡æ•° 11. å¯¹åº”åŒä¸€åˆ—è¿›è¡Œ or åˆ¤æ–­æ—¶ï¼Œä½¿ç”¨ in ä»£æ›¿ or 12. ç¦æ­¢ä½¿ç”¨ order by rand() è¿›è¡Œéšæœºæ’åº 13. WHERE ä»å¥ä¸­ç¦æ­¢å¯¹åˆ—è¿›è¡Œå‡½æ•°è½¬æ¢å’Œè®¡ç®— 14. åœ¨æ˜æ˜¾ä¸ä¼šæœ‰é‡å¤å€¼æ—¶ä½¿ç”¨ UNION ALL è€Œä¸æ˜¯ UNION 15. æ‹†åˆ†å¤æ‚çš„å¤§ SQL ä¸ºå¤šä¸ªå° SQL æ•°æ®åº“æ“ä½œè¡Œä¸ºè§„èŒƒ 1. è¶… 100 ä¸‡è¡Œçš„æ‰¹é‡å†™ (UPDATE,DELETE,INSERT) æ“ä½œ,è¦åˆ†æ‰¹å¤šæ¬¡è¿›è¡Œæ“ä½œ 2. å¯¹äºå¤§è¡¨ä½¿ç”¨ pt-online-schema-change ä¿®æ”¹è¡¨ç»“æ„ 3. ç¦æ­¢ä¸ºç¨‹åºä½¿ç”¨çš„è´¦å·èµ‹äºˆ super æƒé™ 4. å¯¹äºç¨‹åºè¿æ¥æ•°æ®åº“è´¦å·,éµå¾ªæƒé™æœ€å°åŸåˆ™ æ•°æ®åº“å‘½ä»¤è§„èŒƒ æ‰€æœ‰æ•°æ®åº“å¯¹è±¡åç§°å¿…é¡»ä½¿ç”¨å°å†™å­—æ¯å¹¶ç”¨ä¸‹åˆ’çº¿åˆ†å‰² æ‰€æœ‰æ•°æ®åº“å¯¹è±¡åç§°ç¦æ­¢ä½¿ç”¨ MySQL ä¿ç•™å…³é”®å­—ï¼ˆå¦‚æœè¡¨åä¸­åŒ…å«å…³é”®å­—æŸ¥è¯¢æ—¶ï¼Œéœ€è¦å°†å…¶ç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼‰ æ•°æ®åº“å¯¹è±¡çš„å‘½åè¦èƒ½åšåˆ°è§åè¯†æ„ï¼Œå¹¶ä¸”æœ€åä¸è¦è¶…è¿‡ 32 ä¸ªå­—ç¬¦ ä¸´æ—¶åº“è¡¨å¿…é¡»ä»¥ tmp_ä¸ºå‰ç¼€å¹¶ä»¥æ—¥æœŸä¸ºåç¼€ï¼Œå¤‡ä»½è¡¨å¿…é¡»ä»¥ bak_ä¸ºå‰ç¼€å¹¶ä»¥æ—¥æœŸ (æ—¶é—´æˆ³) ä¸ºåç¼€ æ‰€æœ‰å­˜å‚¨ç›¸åŒæ•°æ®çš„åˆ—åå’Œåˆ—ç±»å‹å¿…é¡»ä¸€è‡´ï¼ˆä¸€èˆ¬ä½œä¸ºå…³è”åˆ—ï¼Œå¦‚æœæŸ¥è¯¢æ—¶å…³è”åˆ—ç±»å‹ä¸ä¸€è‡´ä¼šè‡ªåŠ¨è¿›è¡Œæ•°æ®ç±»å‹éšå¼è½¬æ¢ï¼Œä¼šé€ æˆåˆ—ä¸Šçš„ç´¢å¼•å¤±æ•ˆï¼Œå¯¼è‡´æŸ¥è¯¢æ•ˆç‡é™ä½ï¼‰ æ•°æ®åº“åŸºæœ¬è®¾è®¡è§„èŒƒ 1. æ‰€æœ‰è¡¨å¿…é¡»ä½¿ç”¨ Innodb å­˜å‚¨å¼•æ“ æ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼ˆå³ Innodb æ— æ³•æ»¡è¶³çš„åŠŸèƒ½å¦‚ï¼šåˆ—å­˜å‚¨ï¼Œå­˜å‚¨ç©ºé—´æ•°æ®ç­‰ï¼‰çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰è¡¨å¿…é¡»ä½¿ç”¨ Innodb å­˜å‚¨å¼•æ“ï¼ˆMySQL5.5 ä¹‹å‰é»˜è®¤ä½¿ç”¨ Myisamï¼Œ5.6 ä»¥åé»˜è®¤çš„ä¸º Innodbï¼‰ã€‚ Innodb æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡Œçº§é”ï¼Œæ›´å¥½çš„æ¢å¤æ€§ï¼Œé«˜å¹¶å‘ä¸‹æ€§èƒ½æ›´å¥½ã€‚ 2. æ•°æ®åº“å’Œè¡¨çš„å­—ç¬¦é›†ç»Ÿä¸€ä½¿ç”¨ UTF8 å…¼å®¹æ€§æ›´å¥½ï¼Œç»Ÿä¸€å­—ç¬¦é›†å¯ä»¥é¿å…ç”±äºå­—ç¬¦é›†è½¬æ¢äº§ç”Ÿçš„ä¹±ç ï¼Œä¸åŒçš„å­—ç¬¦é›†è¿›è¡Œæ¯”è¾ƒå‰éœ€è¦è¿›è¡Œè½¬æ¢ä¼šé€ æˆç´¢å¼•å¤±æ•ˆï¼Œå¦‚æœæ•°æ®åº“ä¸­æœ‰å­˜å‚¨ emoji è¡¨æƒ…çš„éœ€è¦ï¼Œå­—ç¬¦é›†éœ€è¦é‡‡ç”¨ utf8mb4 å­—ç¬¦é›†ã€‚ 3. æ‰€æœ‰è¡¨å’Œå­—æ®µéƒ½éœ€è¦æ·»åŠ æ³¨é‡Š ä½¿ç”¨ comment ä»å¥æ·»åŠ è¡¨å’Œåˆ—çš„å¤‡æ³¨ï¼Œä»ä¸€å¼€å§‹å°±è¿›è¡Œæ•°æ®å­—å…¸çš„ç»´æŠ¤ 4. å°½é‡æ§åˆ¶å•è¡¨æ•°æ®é‡çš„å¤§å°,å»ºè®®æ§åˆ¶åœ¨ 500 ä¸‡ä»¥å†…ã€‚ 500 ä¸‡å¹¶ä¸æ˜¯ MySQL æ•°æ®åº“çš„é™åˆ¶ï¼Œè¿‡å¤§ä¼šé€ æˆä¿®æ”¹è¡¨ç»“æ„ï¼Œå¤‡ä»½ï¼Œæ¢å¤éƒ½ä¼šæœ‰å¾ˆå¤§çš„é—®é¢˜ã€‚ å¯ä»¥ç”¨å†å²æ•°æ®å½’æ¡£ï¼ˆåº”ç”¨äºæ—¥å¿—æ•°æ®ï¼‰ï¼Œåˆ†åº“åˆ†è¡¨ï¼ˆåº”ç”¨äºä¸šåŠ¡æ•°æ®ï¼‰ç­‰æ‰‹æ®µæ¥æ§åˆ¶æ•°æ®é‡å¤§å° 5. è°¨æ…ä½¿ç”¨ MySQL åˆ†åŒºè¡¨ åˆ†åŒºè¡¨åœ¨ç‰©ç†ä¸Šè¡¨ç°ä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œåœ¨é€»è¾‘ä¸Šè¡¨ç°ä¸ºä¸€ä¸ªè¡¨ï¼› è°¨æ…é€‰æ‹©åˆ†åŒºé”®ï¼Œè·¨åˆ†åŒºæŸ¥è¯¢æ•ˆç‡å¯èƒ½æ›´ä½ï¼› å»ºè®®é‡‡ç”¨ç‰©ç†åˆ†è¡¨çš„æ–¹å¼ç®¡ç†å¤§æ•°æ®ã€‚ 6.å°½é‡åšåˆ°å†·çƒ­æ•°æ®åˆ†ç¦»,å‡å°è¡¨çš„å®½åº¦ MySQL é™åˆ¶æ¯ä¸ªè¡¨æœ€å¤šå­˜å‚¨ 4096 åˆ—ï¼Œå¹¶ä¸”æ¯ä¸€è¡Œæ•°æ®çš„å¤§å°ä¸èƒ½è¶…è¿‡ 65535 å­—èŠ‚ã€‚ å‡å°‘ç£ç›˜ IO,ä¿è¯çƒ­æ•°æ®çš„å†…å­˜ç¼“å­˜å‘½ä¸­ç‡ï¼ˆè¡¨è¶Šå®½ï¼ŒæŠŠè¡¨è£…è½½è¿›å†…å­˜ç¼“å†²æ± æ—¶æ‰€å ç”¨çš„å†…å­˜ä¹Ÿå°±è¶Šå¤§,ä¹Ÿä¼šæ¶ˆè€—æ›´å¤šçš„ IOï¼‰ï¼› æ›´æœ‰æ•ˆçš„åˆ©ç”¨ç¼“å­˜ï¼Œé¿å…è¯»å…¥æ— ç”¨çš„å†·æ•°æ®ï¼› ç»å¸¸ä¸€èµ·ä½¿ç”¨çš„åˆ—æ”¾åˆ°ä¸€ä¸ªè¡¨ä¸­ï¼ˆé¿å…æ›´å¤šçš„å…³è”æ“ä½œï¼‰ã€‚ 7. ç¦æ­¢åœ¨è¡¨ä¸­å»ºç«‹é¢„ç•™å­—æ®µ é¢„ç•™å­—æ®µçš„å‘½åå¾ˆéš¾åšåˆ°è§åè¯†ä¹‰ã€‚ é¢„ç•™å­—æ®µæ— æ³•ç¡®è®¤å­˜å‚¨çš„æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥æ— æ³•é€‰æ‹©åˆé€‚çš„ç±»å‹ã€‚ å¯¹é¢„ç•™å­—æ®µç±»å‹çš„ä¿®æ”¹ï¼Œä¼šå¯¹è¡¨è¿›è¡Œé”å®šã€‚ 8. ç¦æ­¢åœ¨æ•°æ®åº“ä¸­å­˜å‚¨å›¾ç‰‡,æ–‡ä»¶ç­‰å¤§çš„äºŒè¿›åˆ¶æ•°æ® é€šå¸¸æ–‡ä»¶å¾ˆå¤§ï¼Œä¼šçŸ­æ—¶é—´å†…é€ æˆæ•°æ®é‡å¿«é€Ÿå¢é•¿ï¼Œæ•°æ®åº“è¿›è¡Œæ•°æ®åº“è¯»å–æ—¶ï¼Œé€šå¸¸ä¼šè¿›è¡Œå¤§é‡çš„éšæœº IO æ“ä½œï¼Œæ–‡ä»¶å¾ˆå¤§æ—¶ï¼ŒIO æ“ä½œå¾ˆè€—æ—¶ã€‚ é€šå¸¸å­˜å‚¨äºæ–‡ä»¶æœåŠ¡å™¨ï¼Œæ•°æ®åº“åªå­˜å‚¨æ–‡ä»¶åœ°å€ä¿¡æ¯ 9. ç¦æ­¢åœ¨çº¿ä¸Šåšæ•°æ®åº“å‹åŠ›æµ‹è¯• 10. ç¦æ­¢ä»å¼€å‘ç¯å¢ƒ,æµ‹è¯•ç¯å¢ƒç›´æ¥è¿æ¥ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“ æ•°æ®åº“å­—æ®µè®¾è®¡è§„èŒƒ 1. ä¼˜å…ˆé€‰æ‹©ç¬¦åˆå­˜å‚¨éœ€è¦çš„æœ€å°çš„æ•°æ®ç±»å‹ åŸå› ï¼š åˆ—çš„å­—æ®µè¶Šå¤§ï¼Œå»ºç«‹ç´¢å¼•æ—¶æ‰€éœ€è¦çš„ç©ºé—´ä¹Ÿå°±è¶Šå¤§ï¼Œè¿™æ ·ä¸€é¡µä¸­æ‰€èƒ½å­˜å‚¨çš„ç´¢å¼•èŠ‚ç‚¹çš„æ•°é‡ä¹Ÿå°±è¶Šå°‘ä¹Ÿè¶Šå°‘ï¼Œåœ¨éå†æ—¶æ‰€éœ€è¦çš„ IO æ¬¡æ•°ä¹Ÿå°±è¶Šå¤šï¼Œç´¢å¼•çš„æ€§èƒ½ä¹Ÿå°±è¶Šå·®ã€‚ æ–¹æ³•ï¼š a.å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ç±»å‹å­˜å‚¨,å¦‚:å°† IP åœ°å€è½¬æ¢æˆæ•´å½¢æ•°æ® MySQL æä¾›äº†ä¸¤ä¸ªæ–¹æ³•æ¥å¤„ç† ip åœ°å€ inet_aton æŠŠ ip è½¬ä¸ºæ— ç¬¦å·æ•´å‹ (4-8 ä½) inet_ntoa æŠŠæ•´å‹çš„ ip è½¬ä¸ºåœ°å€ æ’å…¥æ•°æ®å‰ï¼Œå…ˆç”¨ inet_aton æŠŠ ip åœ°å€è½¬ä¸ºæ•´å‹ï¼Œå¯ä»¥èŠ‚çœç©ºé—´ï¼Œæ˜¾ç¤ºæ•°æ®æ—¶ï¼Œä½¿ç”¨ inet_ntoa æŠŠæ•´å‹çš„ ip åœ°å€è½¬ä¸ºåœ°å€æ˜¾ç¤ºå³å¯ã€‚ b.å¯¹äºéè´Ÿå‹çš„æ•°æ® (å¦‚è‡ªå¢ ID,æ•´å‹ IP) æ¥è¯´,è¦ä¼˜å…ˆä½¿ç”¨æ— ç¬¦å·æ•´å‹æ¥å­˜å‚¨ åŸå› ï¼š æ— ç¬¦å·ç›¸å¯¹äºæœ‰ç¬¦å·å¯ä»¥å¤šå‡ºä¸€å€çš„å­˜å‚¨ç©ºé—´ 12SIGNED INT -2147483648~2147483647UNSIGNED INT 0~4294967295 VARCHAR(N) ä¸­çš„ N ä»£è¡¨çš„æ˜¯å­—ç¬¦æ•°ï¼Œè€Œä¸æ˜¯å­—èŠ‚æ•°ï¼Œä½¿ç”¨ UTF8 å­˜å‚¨ 255 ä¸ªæ±‰å­— Varchar(255)=765 ä¸ªå­—èŠ‚ã€‚è¿‡å¤§çš„é•¿åº¦ä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜ã€‚ 2. é¿å…ä½¿ç”¨ TEXT,BLOB æ•°æ®ç±»å‹ï¼Œæœ€å¸¸è§çš„ TEXT ç±»å‹å¯ä»¥å­˜å‚¨ 64k çš„æ•°æ® a. å»ºè®®æŠŠ BLOB æˆ–æ˜¯ TEXT åˆ—åˆ†ç¦»åˆ°å•ç‹¬çš„æ‰©å±•è¡¨ä¸­ MySQL å†…å­˜ä¸´æ—¶è¡¨ä¸æ”¯æŒ TEXTã€BLOB è¿™æ ·çš„å¤§æ•°æ®ç±»å‹ï¼Œå¦‚æœæŸ¥è¯¢ä¸­åŒ…å«è¿™æ ·çš„æ•°æ®ï¼Œåœ¨æ’åºç­‰æ“ä½œæ—¶ï¼Œå°±ä¸èƒ½ä½¿ç”¨å†…å­˜ä¸´æ—¶è¡¨ï¼Œå¿…é¡»ä½¿ç”¨ç£ç›˜ä¸´æ—¶è¡¨è¿›è¡Œã€‚è€Œä¸”å¯¹äºè¿™ç§æ•°æ®ï¼ŒMySQL è¿˜æ˜¯è¦è¿›è¡ŒäºŒæ¬¡æŸ¥è¯¢ï¼Œä¼šä½¿ sql æ€§èƒ½å˜å¾—å¾ˆå·®ï¼Œä½†æ˜¯ä¸æ˜¯è¯´ä¸€å®šä¸èƒ½ä½¿ç”¨è¿™æ ·çš„æ•°æ®ç±»å‹ã€‚ å¦‚æœä¸€å®šè¦ä½¿ç”¨ï¼Œå»ºè®®æŠŠ BLOB æˆ–æ˜¯ TEXT åˆ—åˆ†ç¦»åˆ°å•ç‹¬çš„æ‰©å±•è¡¨ä¸­ï¼ŒæŸ¥è¯¢æ—¶ä¸€å®šä¸è¦ä½¿ç”¨ select * è€Œåªéœ€è¦å–å‡ºå¿…è¦çš„åˆ—ï¼Œä¸éœ€è¦ TEXT åˆ—çš„æ•°æ®æ—¶ä¸è¦å¯¹è¯¥åˆ—è¿›è¡ŒæŸ¥è¯¢ã€‚ 2ã€TEXT æˆ– BLOB ç±»å‹åªèƒ½ä½¿ç”¨å‰ç¼€ç´¢å¼• å› ä¸ºMySQL å¯¹ç´¢å¼•å­—æ®µé•¿åº¦æ˜¯æœ‰é™åˆ¶çš„ï¼Œæ‰€ä»¥ TEXT ç±»å‹åªèƒ½ä½¿ç”¨å‰ç¼€ç´¢å¼•ï¼Œå¹¶ä¸” TEXT åˆ—ä¸Šæ˜¯ä¸èƒ½æœ‰é»˜è®¤å€¼çš„ 3. é¿å…ä½¿ç”¨ ENUM ç±»å‹ ä¿®æ”¹ ENUM å€¼éœ€è¦ä½¿ç”¨ ALTER è¯­å¥ ENUM ç±»å‹çš„ ORDER BY æ“ä½œæ•ˆç‡ä½ï¼Œéœ€è¦é¢å¤–æ“ä½œ ç¦æ­¢ä½¿ç”¨æ•°å€¼ä½œä¸º ENUM çš„æšä¸¾å€¼ 4. å°½å¯èƒ½æŠŠæ‰€æœ‰åˆ—å®šä¹‰ä¸º NOT NULL åŸå› ï¼š ç´¢å¼• NULL åˆ—éœ€è¦é¢å¤–çš„ç©ºé—´æ¥ä¿å­˜ï¼Œæ‰€ä»¥è¦å ç”¨æ›´å¤šçš„ç©ºé—´ è¿›è¡Œæ¯”è¾ƒå’Œè®¡ç®—æ—¶è¦å¯¹ NULL å€¼åšç‰¹åˆ«çš„å¤„ç† 5. ä½¿ç”¨ TIMESTAMP(4 ä¸ªå­—èŠ‚) æˆ– DATETIME ç±»å‹ (8 ä¸ªå­—èŠ‚) å­˜å‚¨æ—¶é—´ TIMESTAMP å­˜å‚¨çš„æ—¶é—´èŒƒå›´ 1970-01-01 00:00:01 ~ 2038-01-19-03:14:07 TIMESTAMP å ç”¨ 4 å­—èŠ‚å’Œ INT ç›¸åŒï¼Œä½†æ¯” INT å¯è¯»æ€§é«˜ è¶…å‡º TIMESTAMP å–å€¼èŒƒå›´çš„ä½¿ç”¨ DATETIME ç±»å‹å­˜å‚¨ ç»å¸¸ä¼šæœ‰äººç”¨å­—ç¬¦ä¸²å­˜å‚¨æ—¥æœŸå‹çš„æ•°æ®ï¼ˆä¸æ­£ç¡®çš„åšæ³•ï¼‰ ç¼ºç‚¹ 1ï¼šæ— æ³•ç”¨æ—¥æœŸå‡½æ•°è¿›è¡Œè®¡ç®—å’Œæ¯”è¾ƒ ç¼ºç‚¹ 2ï¼šç”¨å­—ç¬¦ä¸²å­˜å‚¨æ—¥æœŸè¦å ç”¨æ›´å¤šçš„ç©ºé—´ 6. åŒè´¢åŠ¡ç›¸å…³çš„é‡‘é¢ç±»æ•°æ®å¿…é¡»ä½¿ç”¨ decimal ç±»å‹ éç²¾å‡†æµ®ç‚¹ï¼šfloat,double ç²¾å‡†æµ®ç‚¹ï¼šdecimal Decimal ç±»å‹ä¸ºç²¾å‡†æµ®ç‚¹æ•°ï¼Œåœ¨è®¡ç®—æ—¶ä¸ä¼šä¸¢å¤±ç²¾åº¦ å ç”¨ç©ºé—´ç”±å®šä¹‰çš„å®½åº¦å†³å®šï¼Œæ¯ 4 ä¸ªå­—èŠ‚å¯ä»¥å­˜å‚¨ 9 ä½æ•°å­—ï¼Œå¹¶ä¸”å°æ•°ç‚¹è¦å ç”¨ä¸€ä¸ªå­—èŠ‚ å¯ç”¨äºå­˜å‚¨æ¯” bigint æ›´å¤§çš„æ•´å‹æ•°æ® ç´¢å¼•è®¾è®¡è§„èŒƒ 1. é™åˆ¶æ¯å¼ è¡¨ä¸Šçš„ç´¢å¼•æ•°é‡,å»ºè®®å•å¼ è¡¨ç´¢å¼•ä¸è¶…è¿‡ 5 ä¸ª ç´¢å¼•å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼ç´¢å¼•å¯ä»¥æé«˜æ•ˆç‡åŒæ ·å¯ä»¥é™ä½æ•ˆç‡ã€‚ ç´¢å¼•å¯ä»¥å¢åŠ æŸ¥è¯¢æ•ˆç‡ï¼Œä½†åŒæ ·ä¹Ÿä¼šé™ä½æ’å…¥å’Œæ›´æ–°çš„æ•ˆç‡ï¼Œç”šè‡³æœ‰äº›æƒ…å†µä¸‹ä¼šé™ä½æŸ¥è¯¢æ•ˆç‡ã€‚ å› ä¸º MySQL ä¼˜åŒ–å™¨åœ¨é€‰æ‹©å¦‚ä½•ä¼˜åŒ–æŸ¥è¯¢æ—¶ï¼Œä¼šæ ¹æ®ç»Ÿä¸€ä¿¡æ¯ï¼Œå¯¹æ¯ä¸€ä¸ªå¯ä»¥ç”¨åˆ°çš„ç´¢å¼•æ¥è¿›è¡Œè¯„ä¼°ï¼Œä»¥ç”Ÿæˆå‡ºä¸€ä¸ªæœ€å¥½çš„æ‰§è¡Œè®¡åˆ’ï¼Œå¦‚æœåŒæ—¶æœ‰å¾ˆå¤šä¸ªç´¢å¼•éƒ½å¯ä»¥ç”¨äºæŸ¥è¯¢ï¼Œå°±ä¼šå¢åŠ  MySQL ä¼˜åŒ–å™¨ç”Ÿæˆæ‰§è¡Œè®¡åˆ’çš„æ—¶é—´ï¼ŒåŒæ ·ä¼šé™ä½æŸ¥è¯¢æ€§èƒ½ã€‚ 2. ç¦æ­¢ç»™è¡¨ä¸­çš„æ¯ä¸€åˆ—éƒ½å»ºç«‹å•ç‹¬çš„ç´¢å¼• 5.6 ç‰ˆæœ¬ä¹‹å‰ï¼Œä¸€ä¸ª sql åªèƒ½ä½¿ç”¨åˆ°ä¸€ä¸ªè¡¨ä¸­çš„ä¸€ä¸ªç´¢å¼•ï¼Œ5.6 ä»¥åï¼Œè™½ç„¶æœ‰äº†åˆå¹¶ç´¢å¼•çš„ä¼˜åŒ–æ–¹å¼ï¼Œä½†æ˜¯è¿˜æ˜¯è¿œè¿œæ²¡æœ‰ä½¿ç”¨ä¸€ä¸ªè”åˆç´¢å¼•çš„æŸ¥è¯¢æ–¹å¼å¥½ã€‚ 3. æ¯ä¸ª Innodb è¡¨å¿…é¡»æœ‰ä¸ªä¸»é”® Innodb æ˜¯ä¸€ç§ç´¢å¼•ç»„ç»‡è¡¨ï¼šæ•°æ®çš„å­˜å‚¨çš„é€»è¾‘é¡ºåºå’Œç´¢å¼•çš„é¡ºåºæ˜¯ç›¸åŒçš„ã€‚æ¯ä¸ªè¡¨éƒ½å¯ä»¥æœ‰å¤šä¸ªç´¢å¼•ï¼Œä½†æ˜¯è¡¨çš„å­˜å‚¨é¡ºåºåªèƒ½æœ‰ä¸€ç§ã€‚ Innodb æ˜¯æŒ‰ç…§ä¸»é”®ç´¢å¼•çš„é¡ºåºæ¥ç»„ç»‡è¡¨çš„ ä¸è¦ä½¿ç”¨æ›´æ–°é¢‘ç¹çš„åˆ—ä½œä¸ºä¸»é”®ï¼Œä¸é€‚ç”¨å¤šåˆ—ä¸»é”®ï¼ˆç›¸å½“äºè”åˆç´¢å¼•ï¼‰ ä¸è¦ä½¿ç”¨ UUID,MD5,HASH,å­—ç¬¦ä¸²åˆ—ä½œä¸ºä¸»é”®ï¼ˆæ— æ³•ä¿è¯æ•°æ®çš„é¡ºåºå¢é•¿ï¼‰ ä¸»é”®å»ºè®®ä½¿ç”¨è‡ªå¢ ID å€¼ 4. å¸¸è§ç´¢å¼•åˆ—å»ºè®® å‡ºç°åœ¨ SELECTã€UPDATEã€DELETE è¯­å¥çš„ WHERE ä»å¥ä¸­çš„åˆ— åŒ…å«åœ¨ ORDER BYã€GROUP BYã€DISTINCT ä¸­çš„å­—æ®µ å¹¶ä¸è¦å°†ç¬¦åˆ 1 å’Œ 2 ä¸­çš„å­—æ®µçš„åˆ—éƒ½å»ºç«‹ä¸€ä¸ªç´¢å¼•ï¼Œ é€šå¸¸å°† 1ã€2 ä¸­çš„å­—æ®µå»ºç«‹è”åˆç´¢å¼•æ•ˆæœæ›´å¥½ å¤šè¡¨ join çš„å…³è”åˆ— 5.å¦‚ä½•é€‰æ‹©ç´¢å¼•åˆ—çš„é¡ºåº å»ºç«‹ç´¢å¼•çš„ç›®çš„æ˜¯ï¼šå¸Œæœ›é€šè¿‡ç´¢å¼•è¿›è¡Œæ•°æ®æŸ¥æ‰¾ï¼Œå‡å°‘éšæœº IOï¼Œå¢åŠ æŸ¥è¯¢æ€§èƒ½ ï¼Œç´¢å¼•èƒ½è¿‡æ»¤å‡ºè¶Šå°‘çš„æ•°æ®ï¼Œåˆ™ä»ç£ç›˜ä¸­è¯»å…¥çš„æ•°æ®ä¹Ÿå°±è¶Šå°‘ã€‚ åŒºåˆ†åº¦æœ€é«˜çš„æ”¾åœ¨è”åˆç´¢å¼•çš„æœ€å·¦ä¾§ï¼ˆåŒºåˆ†åº¦=åˆ—ä¸­ä¸åŒå€¼çš„æ•°é‡/åˆ—çš„æ€»è¡Œæ•°ï¼‰ å°½é‡æŠŠå­—æ®µé•¿åº¦å°çš„åˆ—æ”¾åœ¨è”åˆç´¢å¼•çš„æœ€å·¦ä¾§ï¼ˆå› ä¸ºå­—æ®µé•¿åº¦è¶Šå°ï¼Œä¸€é¡µèƒ½å­˜å‚¨çš„æ•°æ®é‡è¶Šå¤§ï¼ŒIO æ€§èƒ½ä¹Ÿå°±è¶Šå¥½ï¼‰ ä½¿ç”¨æœ€é¢‘ç¹çš„åˆ—æ”¾åˆ°è”åˆç´¢å¼•çš„å·¦ä¾§ï¼ˆè¿™æ ·å¯ä»¥æ¯”è¾ƒå°‘çš„å»ºç«‹ä¸€äº›ç´¢å¼•ï¼‰ 6. é¿å…å»ºç«‹å†—ä½™ç´¢å¼•å’Œé‡å¤ç´¢å¼•ï¼ˆå¢åŠ äº†æŸ¥è¯¢ä¼˜åŒ–å™¨ç”Ÿæˆæ‰§è¡Œè®¡åˆ’çš„æ—¶é—´ï¼‰ é‡å¤ç´¢å¼•ç¤ºä¾‹ï¼šprimary key(id)ã€index(id)ã€unique index(id) å†—ä½™ç´¢å¼•ç¤ºä¾‹ï¼šindex(a,b,c)ã€index(a,b)ã€index(a) 7. å¯¹äºé¢‘ç¹çš„æŸ¥è¯¢ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨è¦†ç›–ç´¢å¼• è¦†ç›–ç´¢å¼•ï¼šå°±æ˜¯åŒ…å«äº†æ‰€æœ‰æŸ¥è¯¢å­—æ®µ (where,select,ordery by,group by åŒ…å«çš„å­—æ®µ) çš„ç´¢å¼• è¦†ç›–ç´¢å¼•çš„å¥½å¤„ï¼š é¿å… Innodb è¡¨è¿›è¡Œç´¢å¼•çš„äºŒæ¬¡æŸ¥è¯¢: Innodb æ˜¯ä»¥èšé›†ç´¢å¼•çš„é¡ºåºæ¥å­˜å‚¨çš„ï¼Œå¯¹äº Innodb æ¥è¯´ï¼ŒäºŒçº§ç´¢å¼•åœ¨å¶å­èŠ‚ç‚¹ä¸­æ‰€ä¿å­˜çš„æ˜¯è¡Œçš„ä¸»é”®ä¿¡æ¯ï¼Œå¦‚æœæ˜¯ç”¨äºŒçº§ç´¢å¼•æŸ¥è¯¢æ•°æ®çš„è¯ï¼Œåœ¨æŸ¥æ‰¾åˆ°ç›¸åº”çš„é”®å€¼åï¼Œè¿˜è¦é€šè¿‡ä¸»é”®è¿›è¡ŒäºŒæ¬¡æŸ¥è¯¢æ‰èƒ½è·å–æˆ‘ä»¬çœŸå®æ‰€éœ€è¦çš„æ•°æ®ã€‚è€Œåœ¨è¦†ç›–ç´¢å¼•ä¸­ï¼ŒäºŒçº§ç´¢å¼•çš„é”®å€¼ä¸­å¯ä»¥è·å–æ‰€æœ‰çš„æ•°æ®ï¼Œé¿å…äº†å¯¹ä¸»é”®çš„äºŒæ¬¡æŸ¥è¯¢ ï¼Œå‡å°‘äº† IO æ“ä½œï¼Œæå‡äº†æŸ¥è¯¢æ•ˆç‡ã€‚ å¯ä»¥æŠŠéšæœº IO å˜æˆé¡ºåº IO åŠ å¿«æŸ¥è¯¢æ•ˆç‡: ç”±äºè¦†ç›–ç´¢å¼•æ˜¯æŒ‰é”®å€¼çš„é¡ºåºå­˜å‚¨çš„ï¼Œå¯¹äº IO å¯†é›†å‹çš„èŒƒå›´æŸ¥æ‰¾æ¥è¯´ï¼Œå¯¹æ¯”éšæœºä»ç£ç›˜è¯»å–æ¯ä¸€è¡Œçš„æ•°æ® IO è¦å°‘çš„å¤šï¼Œå› æ­¤åˆ©ç”¨è¦†ç›–ç´¢å¼•åœ¨è®¿é—®æ—¶ä¹Ÿå¯ä»¥æŠŠç£ç›˜çš„éšæœºè¯»å–çš„ IO è½¬å˜æˆç´¢å¼•æŸ¥æ‰¾çš„é¡ºåº IOã€‚ 8.ç´¢å¼• SET è§„èŒƒ å°½é‡é¿å…ä½¿ç”¨å¤–é”®çº¦æŸ ä¸å»ºè®®ä½¿ç”¨å¤–é”®çº¦æŸï¼ˆforeign keyï¼‰ï¼Œä½†ä¸€å®šè¦åœ¨è¡¨ä¸è¡¨ä¹‹é—´çš„å…³è”é”®ä¸Šå»ºç«‹ç´¢å¼• å¤–é”®å¯ç”¨äºä¿è¯æ•°æ®çš„å‚ç…§å®Œæ•´æ€§ï¼Œä½†å»ºè®®åœ¨ä¸šåŠ¡ç«¯å®ç° å¤–é”®ä¼šå½±å“çˆ¶è¡¨å’Œå­è¡¨çš„å†™æ“ä½œä»è€Œé™ä½æ€§èƒ½ æ•°æ®åº“ SQL å¼€å‘è§„èŒƒ 1. å»ºè®®ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥è¿›è¡Œæ•°æ®åº“æ“ä½œ é¢„ç¼–è¯‘è¯­å¥å¯ä»¥é‡å¤ä½¿ç”¨è¿™äº›è®¡åˆ’ï¼Œå‡å°‘ SQL ç¼–è¯‘æ‰€éœ€è¦çš„æ—¶é—´ï¼Œè¿˜å¯ä»¥è§£å†³åŠ¨æ€ SQL æ‰€å¸¦æ¥çš„ SQL æ³¨å…¥çš„é—®é¢˜ã€‚ åªä¼ å‚æ•°ï¼Œæ¯”ä¼ é€’ SQL è¯­å¥æ›´é«˜æ•ˆã€‚ ç›¸åŒè¯­å¥å¯ä»¥ä¸€æ¬¡è§£æï¼Œå¤šæ¬¡ä½¿ç”¨ï¼Œæé«˜å¤„ç†æ•ˆç‡ã€‚ 2. é¿å…æ•°æ®ç±»å‹çš„éšå¼è½¬æ¢ éšå¼è½¬æ¢ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆå¦‚: 1select name,phone from customer where id = &#x27;111&#x27;; 3. å……åˆ†åˆ©ç”¨è¡¨ä¸Šå·²ç»å­˜åœ¨çš„ç´¢å¼• é¿å…ä½¿ç”¨åŒ%å·çš„æŸ¥è¯¢æ¡ä»¶ã€‚å¦‚ï¼ša like '%123%'ï¼Œï¼ˆå¦‚æœæ— å‰ç½®%,åªæœ‰åç½®%ï¼Œæ˜¯å¯ä»¥ç”¨åˆ°åˆ—ä¸Šçš„ç´¢å¼•çš„ï¼‰ ä¸€ä¸ª SQL åªèƒ½åˆ©ç”¨åˆ°å¤åˆç´¢å¼•ä¸­çš„ä¸€åˆ—è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ã€‚å¦‚ï¼šæœ‰ a,b,c åˆ—çš„è”åˆç´¢å¼•ï¼Œåœ¨æŸ¥è¯¢æ¡ä»¶ä¸­æœ‰ a åˆ—çš„èŒƒå›´æŸ¥è¯¢ï¼Œåˆ™åœ¨ b,c åˆ—ä¸Šçš„ç´¢å¼•å°†ä¸ä¼šè¢«ç”¨åˆ°ã€‚ åœ¨å®šä¹‰è”åˆç´¢å¼•æ—¶ï¼Œå¦‚æœ a åˆ—è¦ç”¨åˆ°èŒƒå›´æŸ¥æ‰¾çš„è¯ï¼Œå°±è¦æŠŠ a åˆ—æ”¾åˆ°è”åˆç´¢å¼•çš„å³ä¾§ï¼Œä½¿ç”¨ left join æˆ– not exists æ¥ä¼˜åŒ– not in æ“ä½œï¼Œå› ä¸º not in ä¹Ÿé€šå¸¸ä¼šä½¿ç”¨ç´¢å¼•å¤±æ•ˆã€‚ 4. æ•°æ®åº“è®¾è®¡æ—¶ï¼Œåº”è¯¥è¦å¯¹ä»¥åæ‰©å±•è¿›è¡Œè€ƒè™‘ 5. ç¨‹åºè¿æ¥ä¸åŒçš„æ•°æ®åº“ä½¿ç”¨ä¸åŒçš„è´¦å·ï¼Œç¦æ­¢è·¨åº“æŸ¥è¯¢ ä¸ºæ•°æ®åº“è¿ç§»å’Œåˆ†åº“åˆ†è¡¨ç•™å‡ºä½™åœ° é™ä½ä¸šåŠ¡è€¦åˆåº¦ é¿å…æƒé™è¿‡å¤§è€Œäº§ç”Ÿçš„å®‰å…¨é£é™© 6. ç¦æ­¢ä½¿ç”¨ SELECT * å¿…é¡»ä½¿ç”¨ SELECT &lt;å­—æ®µåˆ—è¡¨&gt; æŸ¥è¯¢ åŸå› ï¼š æ¶ˆè€—æ›´å¤šçš„ CPU å’Œ IO ä»¥ç½‘ç»œå¸¦å®½èµ„æº æ— æ³•ä½¿ç”¨è¦†ç›–ç´¢å¼• å¯å‡å°‘è¡¨ç»“æ„å˜æ›´å¸¦æ¥çš„å½±å“ 7. ç¦æ­¢ä½¿ç”¨ä¸å«å­—æ®µåˆ—è¡¨çš„ INSERT è¯­å¥ å¦‚ï¼š 1insert into values (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;); åº”ä½¿ç”¨ï¼š 1insert into t(c1,c2,c3) values (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;); 8. é¿å…ä½¿ç”¨å­æŸ¥è¯¢ï¼Œå¯ä»¥æŠŠå­æŸ¥è¯¢ä¼˜åŒ–ä¸º join æ“ä½œ é€šå¸¸å­æŸ¥è¯¢åœ¨ in å­å¥ä¸­ï¼Œä¸”å­æŸ¥è¯¢ä¸­ä¸ºç®€å• SQL(ä¸åŒ…å« unionã€group byã€order byã€limit ä»å¥) æ—¶,æ‰å¯ä»¥æŠŠå­æŸ¥è¯¢è½¬åŒ–ä¸ºå…³è”æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ã€‚ å­æŸ¥è¯¢æ€§èƒ½å·®çš„åŸå› ï¼š å­æŸ¥è¯¢çš„ç»“æœé›†æ— æ³•ä½¿ç”¨ç´¢å¼•ï¼Œé€šå¸¸å­æŸ¥è¯¢çš„ç»“æœé›†ä¼šè¢«å­˜å‚¨åˆ°ä¸´æ—¶è¡¨ä¸­ï¼Œä¸è®ºæ˜¯å†…å­˜ä¸´æ—¶è¡¨è¿˜æ˜¯ç£ç›˜ä¸´æ—¶è¡¨éƒ½ä¸ä¼šå­˜åœ¨ç´¢å¼•ï¼Œæ‰€ä»¥æŸ¥è¯¢æ€§èƒ½ä¼šå—åˆ°ä¸€å®šçš„å½±å“ã€‚ç‰¹åˆ«æ˜¯å¯¹äºè¿”å›ç»“æœé›†æ¯”è¾ƒå¤§çš„å­æŸ¥è¯¢ï¼Œå…¶å¯¹æŸ¥è¯¢æ€§èƒ½çš„å½±å“ä¹Ÿå°±è¶Šå¤§ã€‚ ç”±äºå­æŸ¥è¯¢ä¼šäº§ç”Ÿå¤§é‡çš„ä¸´æ—¶è¡¨ä¹Ÿæ²¡æœ‰ç´¢å¼•ï¼Œæ‰€ä»¥ä¼šæ¶ˆè€—è¿‡å¤šçš„ CPU å’Œ IO èµ„æºï¼Œäº§ç”Ÿå¤§é‡çš„æ…¢æŸ¥è¯¢ã€‚ 9. é¿å…ä½¿ç”¨ JOIN å…³è”å¤ªå¤šçš„è¡¨ å¯¹äº MySQL æ¥è¯´ï¼Œæ˜¯å­˜åœ¨å…³è”ç¼“å­˜çš„ï¼Œç¼“å­˜çš„å¤§å°å¯ä»¥ç”± join_buffer_size å‚æ•°è¿›è¡Œè®¾ç½®ã€‚ åœ¨ MySQL ä¸­ï¼Œå¯¹äºåŒä¸€ä¸ª SQL å¤šå…³è”ï¼ˆjoinï¼‰ä¸€ä¸ªè¡¨ï¼Œå°±ä¼šå¤šåˆ†é…ä¸€ä¸ªå…³è”ç¼“å­˜ï¼Œå¦‚æœåœ¨ä¸€ä¸ª SQL ä¸­å…³è”çš„è¡¨è¶Šå¤šï¼Œæ‰€å ç”¨çš„å†…å­˜ä¹Ÿå°±è¶Šå¤§ã€‚ å¦‚æœç¨‹åºä¸­å¤§é‡çš„ä½¿ç”¨äº†å¤šè¡¨å…³è”çš„æ“ä½œï¼ŒåŒæ—¶ join_buffer_size è®¾ç½®çš„ä¹Ÿä¸åˆç†çš„æƒ…å†µä¸‹ï¼Œå°±å®¹æ˜“é€ æˆæœåŠ¡å™¨å†…å­˜æº¢å‡ºçš„æƒ…å†µï¼Œå°±ä¼šå½±å“åˆ°æœåŠ¡å™¨æ•°æ®åº“æ€§èƒ½çš„ç¨³å®šæ€§ã€‚ åŒæ—¶å¯¹äºå…³è”æ“ä½œæ¥è¯´ï¼Œä¼šäº§ç”Ÿä¸´æ—¶è¡¨æ“ä½œï¼Œå½±å“æŸ¥è¯¢æ•ˆç‡ï¼ŒMySQL æœ€å¤šå…è®¸å…³è” 61 ä¸ªè¡¨ï¼Œå»ºè®®ä¸è¶…è¿‡ 5 ä¸ªã€‚ 10. å‡å°‘åŒæ•°æ®åº“çš„äº¤äº’æ¬¡æ•° æ•°æ®åº“æ›´é€‚åˆå¤„ç†æ‰¹é‡æ“ä½œï¼Œåˆå¹¶å¤šä¸ªç›¸åŒçš„æ“ä½œåˆ°ä¸€èµ·ï¼Œå¯ä»¥æé«˜å¤„ç†æ•ˆç‡ã€‚ 11. å¯¹åº”åŒä¸€åˆ—è¿›è¡Œ or åˆ¤æ–­æ—¶ï¼Œä½¿ç”¨ in ä»£æ›¿ or in çš„å€¼ä¸è¦è¶…è¿‡ 500 ä¸ªï¼Œin æ“ä½œå¯ä»¥æ›´æœ‰æ•ˆçš„åˆ©ç”¨ç´¢å¼•ï¼Œor å¤§å¤šæ•°æƒ…å†µä¸‹å¾ˆå°‘èƒ½åˆ©ç”¨åˆ°ç´¢å¼•ã€‚ 12. ç¦æ­¢ä½¿ç”¨ order by rand() è¿›è¡Œéšæœºæ’åº order by rand() ä¼šæŠŠè¡¨ä¸­æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®è£…è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶ååœ¨å†…å­˜ä¸­å¯¹æ‰€æœ‰æ•°æ®æ ¹æ®éšæœºç”Ÿæˆçš„å€¼è¿›è¡Œæ’åºï¼Œå¹¶ä¸”å¯èƒ½ä¼šå¯¹æ¯ä¸€è¡Œéƒ½ç”Ÿæˆä¸€ä¸ªéšæœºå€¼ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶çš„æ•°æ®é›†éå¸¸å¤§ï¼Œå°±ä¼šæ¶ˆè€—å¤§é‡çš„ CPU å’Œ IO åŠå†…å­˜èµ„æºã€‚ æ¨èåœ¨ç¨‹åºä¸­è·å–ä¸€ä¸ªéšæœºå€¼ï¼Œç„¶åä»æ•°æ®åº“ä¸­è·å–æ•°æ®çš„æ–¹å¼ã€‚ 13. WHERE ä»å¥ä¸­ç¦æ­¢å¯¹åˆ—è¿›è¡Œå‡½æ•°è½¬æ¢å’Œè®¡ç®— å¯¹åˆ—è¿›è¡Œå‡½æ•°è½¬æ¢æˆ–è®¡ç®—æ—¶ä¼šå¯¼è‡´æ— æ³•ä½¿ç”¨ç´¢å¼• ä¸æ¨èï¼š 1where date(create_time)=&#x27;20190101&#x27; æ¨èï¼š 1where create_time &gt;= &#x27;20190101&#x27; and create_time &lt; &#x27;20190102&#x27; 14. åœ¨æ˜æ˜¾ä¸ä¼šæœ‰é‡å¤å€¼æ—¶ä½¿ç”¨ UNION ALL è€Œä¸æ˜¯ UNION UNION ä¼šæŠŠä¸¤ä¸ªç»“æœé›†çš„æ‰€æœ‰æ•°æ®æ”¾åˆ°ä¸´æ—¶è¡¨ä¸­åå†è¿›è¡Œå»é‡æ“ä½œ UNION ALL ä¸ä¼šå†å¯¹ç»“æœé›†è¿›è¡Œå»é‡æ“ä½œ 15. æ‹†åˆ†å¤æ‚çš„å¤§ SQL ä¸ºå¤šä¸ªå° SQL å¤§ SQL é€»è¾‘ä¸Šæ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦å ç”¨å¤§é‡ CPU è¿›è¡Œè®¡ç®—çš„ SQL MySQL ä¸­ï¼Œä¸€ä¸ª SQL åªèƒ½ä½¿ç”¨ä¸€ä¸ª CPU è¿›è¡Œè®¡ç®— SQL æ‹†åˆ†åå¯ä»¥é€šè¿‡å¹¶è¡Œæ‰§è¡Œæ¥æé«˜å¤„ç†æ•ˆç‡ æ•°æ®åº“æ“ä½œè¡Œä¸ºè§„èŒƒ 1. è¶… 100 ä¸‡è¡Œçš„æ‰¹é‡å†™ (UPDATE,DELETE,INSERT) æ“ä½œ,è¦åˆ†æ‰¹å¤šæ¬¡è¿›è¡Œæ“ä½œ å¤§æ‰¹é‡æ“ä½œå¯èƒ½ä¼šé€ æˆä¸¥é‡çš„ä¸»ä»å»¶è¿Ÿ ä¸»ä»ç¯å¢ƒä¸­,å¤§æ‰¹é‡æ“ä½œå¯èƒ½ä¼šé€ æˆä¸¥é‡çš„ä¸»ä»å»¶è¿Ÿï¼Œå¤§æ‰¹é‡çš„å†™æ“ä½œä¸€èˆ¬éƒ½éœ€è¦æ‰§è¡Œä¸€å®šé•¿çš„æ—¶é—´ï¼Œ è€Œåªæœ‰å½“ä¸»åº“ä¸Šæ‰§è¡Œå®Œæˆåï¼Œæ‰ä¼šåœ¨å…¶ä»–ä»åº“ä¸Šæ‰§è¡Œï¼Œæ‰€ä»¥ä¼šé€ æˆä¸»åº“ä¸ä»åº“é•¿æ—¶é—´çš„å»¶è¿Ÿæƒ…å†µ binlog æ—¥å¿—ä¸º row æ ¼å¼æ—¶ä¼šäº§ç”Ÿå¤§é‡çš„æ—¥å¿— å¤§æ‰¹é‡å†™æ“ä½œä¼šäº§ç”Ÿå¤§é‡æ—¥å¿—ï¼Œç‰¹åˆ«æ˜¯å¯¹äº row æ ¼å¼äºŒè¿›åˆ¶æ•°æ®è€Œè¨€ï¼Œç”±äºåœ¨ row æ ¼å¼ä¸­ä¼šè®°å½•æ¯ä¸€è¡Œæ•°æ®çš„ä¿®æ”¹ï¼Œæˆ‘ä»¬ä¸€æ¬¡ä¿®æ”¹çš„æ•°æ®è¶Šå¤šï¼Œäº§ç”Ÿçš„æ—¥å¿—é‡ä¹Ÿå°±ä¼šè¶Šå¤šï¼Œæ—¥å¿—çš„ä¼ è¾“å’Œæ¢å¤æ‰€éœ€è¦çš„æ—¶é—´ä¹Ÿå°±è¶Šé•¿ï¼Œè¿™ä¹Ÿæ˜¯é€ æˆä¸»ä»å»¶è¿Ÿçš„ä¸€ä¸ªåŸå›  é¿å…äº§ç”Ÿå¤§äº‹åŠ¡æ“ä½œ å¤§æ‰¹é‡ä¿®æ”¹æ•°æ®ï¼Œä¸€å®šæ˜¯åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­è¿›è¡Œçš„ï¼Œè¿™å°±ä¼šé€ æˆè¡¨ä¸­å¤§æ‰¹é‡æ•°æ®è¿›è¡Œé”å®šï¼Œä»è€Œå¯¼è‡´å¤§é‡çš„é˜»å¡ï¼Œé˜»å¡ä¼šå¯¹ MySQL çš„æ€§èƒ½äº§ç”Ÿéå¸¸å¤§çš„å½±å“ã€‚ ç‰¹åˆ«æ˜¯é•¿æ—¶é—´çš„é˜»å¡ä¼šå æ»¡æ‰€æœ‰æ•°æ®åº“çš„å¯ç”¨è¿æ¥ï¼Œè¿™ä¼šä½¿ç”Ÿäº§ç¯å¢ƒä¸­çš„å…¶ä»–åº”ç”¨æ— æ³•è¿æ¥åˆ°æ•°æ®åº“ï¼Œå› æ­¤ä¸€å®šè¦æ³¨æ„å¤§æ‰¹é‡å†™æ“ä½œè¦è¿›è¡Œåˆ†æ‰¹ 2. å¯¹äºå¤§è¡¨ä½¿ç”¨ pt-online-schema-change ä¿®æ”¹è¡¨ç»“æ„ é¿å…å¤§è¡¨ä¿®æ”¹äº§ç”Ÿçš„ä¸»ä»å»¶è¿Ÿ é¿å…åœ¨å¯¹è¡¨å­—æ®µè¿›è¡Œä¿®æ”¹æ—¶è¿›è¡Œé”è¡¨ å¯¹å¤§è¡¨æ•°æ®ç»“æ„çš„ä¿®æ”¹ä¸€å®šè¦è°¨æ…ï¼Œä¼šé€ æˆä¸¥é‡çš„é”è¡¨æ“ä½œï¼Œå°¤å…¶æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œæ˜¯ä¸èƒ½å®¹å¿çš„ã€‚ pt-online-schema-change å®ƒä¼šé¦–å…ˆå»ºç«‹ä¸€ä¸ªä¸åŸè¡¨ç»“æ„ç›¸åŒçš„æ–°è¡¨ï¼Œå¹¶ä¸”åœ¨æ–°è¡¨ä¸Šè¿›è¡Œè¡¨ç»“æ„çš„ä¿®æ”¹ï¼Œç„¶åå†æŠŠåŸè¡¨ä¸­çš„æ•°æ®å¤åˆ¶åˆ°æ–°è¡¨ä¸­ï¼Œå¹¶åœ¨åŸè¡¨ä¸­å¢åŠ ä¸€äº›è§¦å‘å™¨ã€‚æŠŠåŸè¡¨ä¸­æ–°å¢çš„æ•°æ®ä¹Ÿå¤åˆ¶åˆ°æ–°è¡¨ä¸­ï¼Œåœ¨è¡Œæ‰€æœ‰æ•°æ®å¤åˆ¶å®Œæˆä¹‹åï¼ŒæŠŠæ–°è¡¨å‘½åæˆåŸè¡¨ï¼Œå¹¶æŠŠåŸæ¥çš„è¡¨åˆ é™¤æ‰ã€‚æŠŠåŸæ¥ä¸€ä¸ª DDL æ“ä½œï¼Œåˆ†è§£æˆå¤šä¸ªå°çš„æ‰¹æ¬¡è¿›è¡Œã€‚ 3. ç¦æ­¢ä¸ºç¨‹åºä½¿ç”¨çš„è´¦å·èµ‹äºˆ super æƒé™ å½“è¾¾åˆ°æœ€å¤§è¿æ¥æ•°é™åˆ¶æ—¶ï¼Œè¿˜è¿è¡Œ 1 ä¸ªæœ‰ super æƒé™çš„ç”¨æˆ·è¿æ¥ super æƒé™åªèƒ½ç•™ç»™ DBA å¤„ç†é—®é¢˜çš„è´¦å·ä½¿ç”¨ 4. å¯¹äºç¨‹åºè¿æ¥æ•°æ®åº“è´¦å·,éµå¾ªæƒé™æœ€å°åŸåˆ™ ç¨‹åºä½¿ç”¨æ•°æ®åº“è´¦å·åªèƒ½åœ¨ä¸€ä¸ª DB ä¸‹ä½¿ç”¨ï¼Œä¸å‡†è·¨åº“ ç¨‹åºä½¿ç”¨çš„è´¦å·åŸåˆ™ä¸Šä¸å‡†æœ‰ drop æƒé™","categories":[],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://zhoumoon.github.io/tags/MySQL/"}]},{"title":"Linux é˜²ç«å¢™","slug":"Linux/Linux_é˜²ç«å¢™","date":"2016-09-23T02:22:01.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2016/09/23/Linux/Linux_é˜²ç«å¢™/","link":"","permalink":"http://zhoumoon.github.io/2016/09/23/Linux/Linux_%E9%98%B2%E7%81%AB%E5%A2%99/","excerpt":"","text":"Linux é˜²ç«å¢™ 1234567891011121314151617# å®‰è£…é˜²ç«å¢™yum install firewalld# æŸ¥çœ‹å¼€æ”¾çš„ç«¯å£firewalld-cmd --list-all# å…³é—­é˜²ç«å¢™systemctl stop firewalld# ç¦ç”¨é˜²ç«å¢™systemctl disable firewalld# å¼€å¯é˜²ç«å¢™firewall-cmd --zone=public --add-port=3306/tcp --permanent# åˆ·æ–°é…ç½®firewall-cmd --reload","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"VMWare Linux ç£ç›˜å ç”¨æ— é™å¢åŠ é—®é¢˜","slug":"Linux/VMWare_Linux_ç£ç›˜å ç”¨æ— é™å¢åŠ é—®é¢˜","date":"2016-09-23T02:18:19.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2016/09/23/Linux/VMWare_Linux_ç£ç›˜å ç”¨æ— é™å¢åŠ é—®é¢˜/","link":"","permalink":"http://zhoumoon.github.io/2016/09/23/Linux/VMWare_Linux_%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E6%97%A0%E9%99%90%E5%A2%9E%E5%8A%A0%E9%97%AE%E9%A2%98/","excerpt":"","text":"VMWare Linux ç£ç›˜å ç”¨æ— é™å¢åŠ é—®é¢˜ VMWare Linux ç£ç›˜å ç”¨æ— é™å¢åŠ é—®é¢˜ å®‰è£…å¥½VmWar-Tool æ‰§è¡Œå‹ç¼©","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"Linux å®‰è£… Tomcat é—®é¢˜","slug":"Linux/Linux_å®‰è£…_Tomcat_é—®é¢˜","date":"2016-09-23T01:15:21.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2016/09/23/Linux/Linux_å®‰è£…_Tomcat_é—®é¢˜/","link":"","permalink":"http://zhoumoon.github.io/2016/09/23/Linux/Linux_%E5%AE%89%E8%A3%85_Tomcat_%E9%97%AE%E9%A2%98/","excerpt":"","text":"Linux å®‰è£… Tomcat é—®é¢˜ 12345678910111213141516171819202122232425262728# (1)ä¸Šä¼ Tomcatçš„å®‰è£…åŒ…çš„æœåŠ¡å™¨# (2)è§£å‹ç¼©å®‰è£…åŒ…åˆ°æŒ‡å®šmultar -xvf apache-tomcat-8.5.15.tar.gz -C /usr/local/# (3)è¿›å…¥åˆ°è§£å‹ç¼©ç›®å½•,ä¿®æ”¹ç›®å½•åç§°cd /usr/local/mv apache-tomcat-8.5.15/ tomcat# (4)è¿›å…¥åˆ°tomcatçš„å‘½ä»¤ç›®å½•cd tomcat/bin# å¯åŠ¨å‘½ä»¤: ./startup.sh# (5)é…ç½®tomcatçš„ç®¡ç†æ§åˆ¶å°ç•Œé¢# ç¬¬ä¸€ä¸ªåœ°æ–¹:ä¿®æ”¹ tomcat/conf/tomcat-users.xml# å¢åŠ :&lt;role rolename=&quot;manager-gui&quot;/&gt; &lt;user username=&quot;tomcat&quot; password=&quot;123&quot; roles=&quot;manager-gui&quot;/&gt;#ç¬¬äºŒä¸ªåœ°æ–¹:# tomcat/webapps/manager/META-INF/context.xml# æ³¨é‡Šæ‰ &lt;!-- &lt;Valve className=&quot;org.apache.catalina.valves.RemoteAddrValve&quot; allow=&quot;127\\.\\d+\\.\\d+\\.\\d+|::1|0:0:0:0:0:0:0:1&quot; /&gt; --&gt;# (6)é‡å¯tomcat# tomcat/bin./shutdown.sh //å…³é—­tomcat./startup.sh //å¯åŠ¨tomcat è®¾ç½®ç”¨æˆ·åå¯†ç  å¯åŠ¨tomcatåæµè§ˆå™¨http://localhost:8080èƒ½å¤Ÿè®¿é—®æˆåŠŸï¼Œä½†æ˜¯ç‚¹å‡»Manager Appä¸€ç›´æŠ¥403ï¼Œé€šè¿‡ç™¾åº¦æŸ¥æ‰¾åŸå› ï¼Œé¦–å…ˆåœ¨tomcat-users.xml 12&lt;role rolename=&quot;manager-gui&quot;/&gt;&lt;user username=&quot;tomcat&quot; password=&quot;s3cret&quot; roles=&quot;manager-gui&quot;/&gt; è®¾ç½®è®¿é—®æƒé™ ä¹‹åé‡å¯tomcatè¿˜æ˜¯ä¸èƒ½è®¿é—®ï¼Œè¿˜æ˜¯403ï¼Œç»§ç»­ç™¾åº¦ã€‚è¯•äº†nç§æ–¹æ³•éƒ½ä¸è¡Œï¼Œæœ€ååœ¨ä¸€ä¸ªå›½å¤–çš„ç½‘ç«™æ‰¾åˆ°äº†ç­”æ¡ˆã€‚ https://stackoverflow.com/questions/38551166/403-access-denied-on-tomcat-8-manager-app-without-prompting-for-user-password æ€»ç»“å¦‚ä¸‹: è¿˜éœ€è¦ä¿®æ”¹apache-tomcat-8.5.5\\webapps\\manager\\META-INF\\context.xmlä¸­çš„é…ç½®ã€‚ å–æ¶ˆåœ°å€é™åˆ¶; æ³¨é‡Šæ‰è¿™æ®µä»£ç å³å¯ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨ç”¨æˆ·åå’Œå¯†ç è®¿é—®Manager Appäº†ã€‚","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"Linux å®‰è£… Tomcat é—®é¢˜","slug":"Linux/Linuxå¼€æœºè‡ªå¯åŠ¨tomcat","date":"2016-09-23T01:15:21.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2016/09/23/Linux/Linuxå¼€æœºè‡ªå¯åŠ¨tomcat/","link":"","permalink":"http://zhoumoon.github.io/2016/09/23/Linux/Linux%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8tomcat/","excerpt":"","text":"Linuxå¼€æœºè‡ªå¯åŠ¨tomcat Linuxå¼€æœºè‡ªå¯åŠ¨tomcat æ“ä½œç¯å¢ƒ æœåŠ¡å™¨centos7.3 é…ç½®å¼€æœºè‡ªå¯åŠ¨tomcat ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨Linuxä¸­è®¾ç½®å¼€æœºè‡ªå¯åŠ¨çš„æœåŠ¡ï¼Œéœ€è¦åœ¨/etc/rcX.dä¸‹æŒ‚è½½ã€‚é™¤æ­¤ä¹‹å¤–è¿˜éœ€è¦åœ¨/etc/init.dä¸‹äº›å¯åŠ¨è„šæœ¬ã€‚å…¶å®å¾ˆç®€å•ï¼Œå…ˆexportå‡ºæ‰€éœ€è¦çš„ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚JAVA_HOMEï¼ŒJRE_HOME, CATALINA_HOME, CATALINA_BASEä»€ä¹ˆçš„ï¼Œç„¶åå†ç›´æ¥è°ƒç”¨$CATALINA_HOME/bin/startup.shå°±èƒ½æˆåŠŸå¯åŠ¨ã€‚ 1ï¼Œæˆ‘ä»¬åœ¨/etc/init.dä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶tomcatï¼ˆéœ€è¦åœ¨rootæƒé™ä¸‹æ“ä½œï¼‰ 1vim /etc/init.d/tomcat å†™ä¸‹å¦‚ä¸‹ä»£ç ï¼Œtomcatè‡ªå¯åŠ¨è„šæœ¬ï¼š tomcat.hxd 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#!/bin/sh# chkconfig: 345 99 10 # description: Auto-starts tomcat # /etc/init.d/tomcatd # Tomcat auto-start # Source function library. . /etc/init.d/functions # source networking configuration. . /etc/sysconfig/network RETVAL=0 export JAVA_HOME=/usr/local/jdk export CATALINA_HOME=/usr/local/tomcat8.5 export CATALINA_BASE=/usr/local/tomcat8.5start() &#123; if [ -f $CATALINA_HOME/bin/startup.sh ]; then echo $&quot;Starting Tomcat&quot; $CATALINA_HOME/bin/startup.sh RETVAL=$? echo &quot; OK&quot; return $RETVAL fi &#125; stop() &#123; if [ -f $CATALINA_HOME/bin/shutdown.sh ]; then echo $&quot;Stopping Tomcat&quot; $CATALINA_HOME/bin/shutdown.sh RETVAL=$? sleep 1 ps -fwwu tomcat | grep apache-tomcat|grep -v grep | grep -v PID | awk &#x27;&#123;print $2&#125;&#x27;|xargs kill -9 echo &quot; OK&quot; # [ $RETVAL -eq 0 ] &amp;&amp; rm -f /var/lock/... return $RETVAL fi &#125; case &quot;$1&quot; in start) start ;; stop) stop ;; restart) echo $&quot;Restaring Tomcat&quot; $0 stop sleep 1 $0 start ;; *) echo $&quot;Usage: $0 &#123;start|stop|restart&#125;&quot; exit 1 ;; esac exit $RETVAL è¿™é‡Œç‰¹åˆ«æé†’æ³¨æ„è¿™ä¸€å¥ps -fwwu root | grep tomcat|grep -v grep | grep -v PID | awk '&#123;print $2&#125;'|xargs kill -9ï¼Œç†Ÿæ‚‰Linuxå‘½ä»¤çš„äººåº”è¯¥éƒ½æ¸…æ¥šè¿™å¥è¯çš„æ„ä¹‰ï¼Œè¿™é‡Œå°±ç®€å•è¯´ä¸‹å‰åŠéƒ¨åˆ†ï¼ŒæŸ¥è¯¢rootç”¨æˆ·ä¸‹tomcatçš„è¿›ç¨‹PIDï¼Œä¸ªäººæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ã€‚ 2ï¼Œä¿å­˜é€€å‡ºä¹‹åï¼Œç»™å…¶å¢åŠ å¯æ‰§è¡Œæƒé™ 1chmod +x /etc/init.d/tomcat 3ï¼Œè®¾å®šå¼€æœºå¯åŠ¨æœåŠ¡ 1chkconfig tomcat on 4ï¼ŒéªŒè¯ æ‰§è¡Œrebooté‡å¯ä¹‹åå°±ä¼šå‘ç°ï¼ŒTomcatå·²ç»æˆåŠŸè¿è¡Œ 1reboot æ·»åŠ è¿™ä¸ªè„šæœ¬ä¹‹åæˆ‘ä»¬å¯åŠ¨ï¼Œåœæ­¢ï¼Œé‡å¯tomcatå¯ä»¥ç›´æ¥ç”¨å‘½ä»¤ 123service tomcat startservice tomcat stopservice tomcat restart é—®é¢˜1 1ï¼ŒCentOS7 ä¸‹å®‰è£… Tomcat8 å¹¶ä¸”è§£å†³å¯åŠ¨é€Ÿåº¦å·¨æ…¢çš„é—®é¢˜ è§£å†³ï¼š å¢å¤§/dev/randomçš„ç†µæ± ï¼Œé—®é¢˜çš„åŸå› æ˜¯ç”±äºç†µæ± ä¸å¤Ÿå¤§ï¼Œæ‰€ä»¥å¢å¤§å®ƒæ˜¯æœ€å½»åº•çš„æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è½¯ä»¶çš„æ–¹æ³•å®ç°ï¼Œä¸‹é¢æ˜¯è½¯ä»¶çš„å®‰è£…å’Œé…ç½®æµç¨‹ã€‚ 1234å®‰è£…ç†µæœåŠ¡yum install rng-toolså¯åŠ¨ç†µæœåŠ¡systemctl start rngd å¦‚æœä½ çš„ CPU ä¸æ”¯æŒ DRNG ç‰¹æ€§æˆ–è€…åƒæˆ‘ä¸€æ ·ä½¿ç”¨è™šæ‹Ÿæœºï¼Œå¯ä»¥ä½¿ç”¨/dev/unrandomæ¥æ¨¡æ‹Ÿã€‚ 123cp /usr/lib/systemd/system/rngd.service /etc/systemd/system vim /etc/systemd/system/rngd.service #ä»¥ä¸‹æ˜¯ç¼–è¾‘å†…å®¹ ExecStart=/sbin/rngd -f -r /dev/urandom é‡æ–°è½½å…¥æœåŠ¡ 12systemctl daemon-reloadsystemctl restart rngd ç»è¿‡ä¸Šé¢çš„ä¿®æ”¹ï¼Œæˆ‘ä»¬å†è§‚å¯Ÿ /proc/sys/kernel/random/entropy_avail åŸºæœ¬ä¸Šåœ¨ 3000 å·¦å³ã€‚è¿™ä¸ªæ—¶å€™é‡æ–°å¯åŠ¨ Tomcatï¼Œå‘ç°å¯åŠ¨æ—¶é—´æ­£å¸¸ã€‚ é—®é¢˜2: ä¸ºåº”ç”¨ç¨‹åºåˆ›å»ºåˆå§‹åŒ–è„šæœ¬åï¼Œè¿è¡ŒæœåŠ¡ä¼šå¯¼è‡´ä»¥ä¸‹é”™è¯¯ï¼š env: /etc/init.d/your_init_script: No such file or directory è¯Šæ–­ ç¯å¢ƒ unixç³»ç»Ÿä¸Šå¯èƒ½ä¼šå‡ºç°æ­¤é—®é¢˜ è¯Šæ–­æ­¥éª¤ è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š æ£€æŸ¥è¾“å‡ºï¼Œ åŸå›  å›è½¦ç¬¦å·²æ’å…¥æ‚¨çš„åˆå§‹åŒ–è„šæœ¬ä¸­ã€‚ è§£æ ä»åˆå§‹åŒ–è„šæœ¬ä¸­åˆ é™¤å›è½¦ç¬¦ã€‚ sed -i -e â€˜s/\\r//gâ€™ /etc/init.d/your_init_script è¿™å°†åˆ é™¤å›è½¦ç¬¦ï¼Œä¹‹åæ‚¨å¯ä»¥æˆåŠŸå¯åŠ¨æœåŠ¡","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]},{"title":"Linux å®‰è£…JDK","slug":"Linux/Linux_å®‰è£…JDK","date":"2016-09-23T00:13:11.000Z","updated":"2023-08-01T01:45:09.868Z","comments":false,"path":"2016/09/23/Linux/Linux_å®‰è£…JDK/","link":"","permalink":"http://zhoumoon.github.io/2016/09/23/Linux/Linux_%E5%AE%89%E8%A3%85JDK/","excerpt":"","text":"Linux å®‰è£…JDK 1ã€ä¸Šä¼ jdkçš„å®‰è£…åŒ… or ä¸‹è½½ åä¸ºé•œåƒåœ°å€ 2ã€è§£å‹ç¼©jdkå®‰è£…åŒ… 1tar -xvf jdk.tar.gz -C /usr/local/ 3ã€è¿›å…¥jdkè§£å‹ç¼©åçš„ç›®å½•ï¼Œä¿®æ”¹è§£å‹ç¼©ç›®å½•åç§° 123cd /usr/local# æ”¹åmv jdk1.8.0_131 jdk 4ã€ä¿®æ”¹ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ 12345vi /etc/profileexport JAVA_HOME=/usr/local/jdkexport CLASSPATH=$JAVA_HOME/lib:.export PATH=$JAVA_HOME/bin:$PATH 5ã€è®©ç¯å¢ƒå˜é‡ç«‹åˆ»ç”Ÿæ•ˆ 1source /etc/profile 6ã€æµ‹è¯• 1java -version","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"}]}],"categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zhoumoon.github.io/tags/Linux/"},{"name":"Docker","slug":"Docker","permalink":"http://zhoumoon.github.io/tags/Docker/"},{"name":"Java","slug":"Java","permalink":"http://zhoumoon.github.io/tags/Java/"},{"name":"Windows","slug":"Windows","permalink":"http://zhoumoon.github.io/tags/Windows/"},{"name":"IDE","slug":"IDE","permalink":"http://zhoumoon.github.io/tags/IDE/"},{"name":"ç†è´¢","slug":"ç†è´¢","permalink":"http://zhoumoon.github.io/tags/%E7%90%86%E8%B4%A2/"},{"name":"Work","slug":"Work","permalink":"http://zhoumoon.github.io/tags/Work/"},{"name":"Git","slug":"Git","permalink":"http://zhoumoon.github.io/tags/Git/"},{"name":"Vim","slug":"Vim","permalink":"http://zhoumoon.github.io/tags/Vim/"},{"name":"Http","slug":"Http","permalink":"http://zhoumoon.github.io/tags/Http/"},{"name":"Oracle","slug":"Oracle","permalink":"http://zhoumoon.github.io/tags/Oracle/"},{"name":"MySQL","slug":"MySQL","permalink":"http://zhoumoon.github.io/tags/MySQL/"}]}